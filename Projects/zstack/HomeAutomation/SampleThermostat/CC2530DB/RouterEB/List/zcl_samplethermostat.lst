###############################################################################
#
# IAR C/C++ Compiler V9.30.3.3983 for 8051                14/Feb/2017  09:10:58
# Copyright 2004-2016 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\Source\zcl_samplethermostat.c
#    Command line       =  
#        -f "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\Tools\CC2530DB\f8wRouter.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
#        -DRTR_NWK) -f "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFAFA
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
#        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
#        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
#        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
#        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
#        -DREJOIN_POLL_RATE=440 -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000)
#        -f "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
#        "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\Source\zcl_samplethermostat.c"
#        -D ROUTER -D SECURE=1 -D TC_LINKKEY_JOIN -D NV_INIT -D NV_RESTORE -D
#        xHOLD_AUTO_START -D ZTOOL_P1 -D MT_TASK -D MT_APP_FUNC -D MT_SYS_FUNC
#        -D MT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -D MULTICAST_ENABLED=FALSE -D
#        ZCL_READ -D ZCL_WRITE -D ZCL_REPORT -D ZCL_EZMODE -D ZCL_BASIC -D
#        ZCL_IDENTIFY -D ZCL_ON_OFF -D ZCL_HVAC_CLUSTER -lC
#        "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\RouterEB\List"
#        -lA "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\RouterEB\List"
#        --diag_suppress Pe001,Pa010 -o "C:\Users\Teddy\Desktop\aaa\[COMBROS]
#        Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\RouterEB\Obj"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -I
#        "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\Source\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\Source\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\HomeAutomation\MY-SOURCE\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes
#    List file          =  
#        C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\RouterEB\List\zcl_samplethermostat.lst
#    Object file        =  
#        C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\CC2530DB\RouterEB\Obj\zcl_samplethermostat.r51
#
###############################################################################

C:\Users\Teddy\Desktop\aaa\[COMBROS] Z-Stack Home 1.2.2a.44539\Projects\zstack\HomeAutomation\SampleThermostat\Source\zcl_samplethermostat.c
      1          /**************************************************************************************************
      2            Filename:       zcl_samplethermostat.c
      3            Revised:        $Date: 2014-10-24 16:04:46 -0700 (Fri, 24 Oct 2014) $
      4            Revision:       $Revision: 40796 $
      5          
      6            Description:    Zigbee Cluster Library - sample device application.
      7          
      8          
      9            Copyright 2013 - 2014 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41            This device will act as a thermostat.
     42          
     43            SCREEN MODES
     44            ----------------------------------------
     45            Main:
     46              - SW1: Set heating setpoint
     47              - SW2: Invoke EZMode
     48              - SW3: Set cooling setpoint
     49              - SW4: Enable/Disable Permit Join
     50              - SW5: Go to Help screen
     51          
     52            Heating Setpoint or Cooling Setpoint:
     53              - SW1: Increase temperature
     54              - SW3: Decrease temperature
     55              - SW5: Save temperature
     56            ----------------------------------------
     57          *********************************************************************/
     58          
     59          /*********************************************************************
     60           * INCLUDES
     61           */
     62          #include "ZComDef.h"
     63          #include "OSAL.h"
     64          #include "AF.h"
     65          #include "ZDApp.h"
     66          #include "ZDObject.h"
     67          #include "MT_APP.h"
     68          #include "MT_SYS.h"
     69          
     70          #include "zcl.h"
     71          #include "zcl_general.h"
     72          #include "zcl_ha.h"
     73          #include "zcl_ezmode.h"
     74          #include "zcl_hvac.h"
     75          #include "zcl_ms.h"
     76          
     77          #include "zcl_samplethermostat.h"
     78          
     79          #include "onboard.h"
     80          
     81          /* HAL */
     82          #include "hal_lcd.h"
     83          #include "hal_led.h"
     84          #include "hal_key.h"
     85          
     86          /* MY INCLUDES */
     87          #include "MS_UART.h"
     88          #include "MS_UART_CMD.h"
     89          
     90          #if ( defined (ZGP_DEVICE_TARGET) || defined (ZGP_DEVICE_TARGETPLUS) \
     91                || defined (ZGP_DEVICE_COMBO) || defined (ZGP_DEVICE_COMBO_MIN) )
     92          #include "zgp_translationtable.h"
     93            #if (SUPPORTED_S_FEATURE(SUPP_ZGP_FEATURE_TRANSLATION_TABLE))
     94              #define ZGP_AUTO_TT
     95            #endif
     96          #endif
     97          
     98          
     99          /*********************************************************************
    100           * MACROS
    101           */
    102          
    103          /*********************************************************************
    104           * CONSTANTS
    105           */
    106          
    107          /*********************************************************************
    108           * TYPEDEFS
    109           */
    110          
    111          /*********************************************************************
    112           * GLOBAL VARIABLES
    113           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    114          byte zclSampleThermostat_TaskID;
   \                     zclSampleThermostat_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    115          uint8 zclSampleThermostatSeqNum;
   \                     zclSampleThermostatSeqNum:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    116          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    117          static byte gPermitDuration = 0x00;
   \                     gPermitDuration:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    118          
    119          /*********************************************************************
    120           * GLOBAL FUNCTIONS
    121           */
    122          
    123          /*********************************************************************
    124           * LOCAL VARIABLES
    125           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    126          afAddrType_t zclSampleThermostat_DstAddr;
   \                     zclSampleThermostat_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    127          
    128          #ifdef ZCL_EZMODE
    129          static void zclSampleThermostat_ProcessZDOMsgs( zdoIncomingMsg_t *pMsg );
    130          static void zclSampleThermostat_EZModeCB( zlcEZMode_State_t state, zclEZMode_CBData_t *pData );
    131          

   \                                 In  segment XDATA_ROM_C, align 1
    132          static const zclEZMode_RegisterData_t zclSampleThermostat_RegisterEZModeData =
   \                     zclSampleThermostat_RegisterEZModeData:
   \   000000   ....         DW zclSampleThermostat_TaskID
   \   000002   0800         DW 8
   \   000004   0400         DW 4
   \   000006   ....         DW zclSampleThermostatSeqNum
   \   000008   ....         DW `??zclSampleThermostat_EZModeCB::?relay`
    133          {
    134            &zclSampleThermostat_TaskID,
    135            SAMPLETHERMOSTAT_EZMODE_NEXTSTATE_EVT,
    136            SAMPLETHERMOSTAT_EZMODE_TIMEOUT_EVT,
    137            &zclSampleThermostatSeqNum,
    138            zclSampleThermostat_EZModeCB
    139          };
    140          
    141          // NOT ZCL_EZMODE, Use EndDeviceBind
    142          #else
    143          
    144          static cId_t bindingOutClusters[] =
    145          {
    146            ZCL_CLUSTER_ID_HVAC_THERMOSTAT
    147          };
    148          #define ZCLSAMPLETHERMOSTAT_BINDINGLIST_OUT     1
    149          
    150          static cId_t bindingInClusters[] =
    151          {
    152            ZCL_CLUSTER_ID_HVAC_THERMOSTAT,
    153            ZCL_CLUSTER_ID_MS_TEMPERATURE_MEASUREMENT
    154          };
    155          #define ZCLSAMPLETHERMOSTAT_BINDINGLIST_IN      2
    156          #endif
    157          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    158          uint8 giThermostatScreenMode = THERMOSTAT_MAINMODE;   // display the main screen mode first
   \                     giThermostatScreenMode:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    159          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    160          devStates_t zclSampleThermostat_NwkState = DEV_INIT;
   \                     zclSampleThermostat_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zclSampleThermostat_NwkState`
   \   000001                REQUIRE __INIT_XDATA_I
    161          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    162          static uint8 aProcessCmd[] = { 1, 0, 0, 0 }; // used for reset command, { length + cmd0 + cmd1 + data }
   \                     aProcessCmd:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aProcessCmd>`
   \   000004                REQUIRE __INIT_XDATA_I
    163          
    164          // Test Endpoint to allow SYS_APP_MSGs

   \                                 In  segment XDATA_I, align 1, keep-with-next
    165          static endPointDesc_t sampleThermostat_TestEp =
   \                     sampleThermostat_TestEp:
   \   000000                DS 6
   \   000006                REQUIRE `?<Initializer for sampleThermostat_TestEp>`
   \   000006                REQUIRE __INIT_XDATA_I
    166          {
    167            20,                                 // Test endpoint
    168            &zclSampleThermostat_TaskID,
    169            (SimpleDescriptionFormat_t *)NULL,  // No Simple description for this test endpoint
    170            (afNetworkLatencyReq_t)0            // No Network Latency req
    171          };
    172          
    173          /*********************************************************************
    174           * LOCAL FUNCTIONS
    175           */
    176          #ifndef COORDINATOR
    177          static void zclSampleThermostat_RollCall(void);
    178          #endif
    179          
    180          static void zclSampleThermostat_HandleKeys( byte shift, byte keys );
    181          static void zclSampleThermostat_BasicResetCB( void );
    182          static void zclSampleThermostat_IdentifyCB( zclIdentify_t *pCmd );
    183          static void zclSampleThermostat_IdentifyQueryRspCB( zclIdentifyQueryRsp_t *pRsp );
    184          static void zclSampleThermostat_ProcessIdentifyTimeChange( void );
    185          static void zclSampleThermostat_ProcessAppMsg( uint8 srcEP, uint8 len, uint8 *msg );
    186          static void zclSampleThermostat_ProcessFoundationMsg( afAddrType_t *dstAddr, uint16 clusterID,
    187                                                                zclFrameHdr_t *hdr, zclParseCmd_t *pParseCmd );
    188          
    189          // app display functions
    190          void zclSampleThermostat_LcdDisplayUpdate(void);
    191          void zclSampleThermostat_LcdDisplayMainMode(void);
    192          void zclSampleThermostat_LcdDisplayHeatMode(void);
    193          void zclSampleThermostat_LcdDisplayCoolMode(void);
    194          void zclSampleThermostat_LcdDisplayHelpMode(void);
    195          
    196          // Functions to process ZCL Foundation incoming Command/Response messages
    197          static void zclSampleThermostat_ProcessIncomingMsg( zclIncomingMsg_t *msg );
    198          #ifdef ZCL_READ
    199          static uint8 zclSampleThermostat_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg );
    200          #endif
    201          #ifdef ZCL_WRITE
    202          static uint8 zclSampleThermostat_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg );
    203          #endif
    204          #ifdef ZCL_REPORT
    205          static void zclSampleThermostat_ProcessInReportCmd( zclIncomingMsg_t *pInMsg );
    206          #endif
    207          static uint8 zclSampleThermostat_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg );
    208          
    209          /*********************************************************************
    210           * STATUS STRINGS
    211           */
    212          #ifdef LCD_SUPPORTED

   \                                 In  segment XDATA_ROM_C, align 1
    213          const char sClearLine[]     = " ";
   \                     sClearLine:
   \   000000   2000         DB " "

   \                                 In  segment XDATA_ROM_C, align 1
    214          const char sDeviceName[]    = "   Thermostat";
   \                     sDeviceName:
   \   000000   20202054     DB "   Thermostat"
   \            6865726D
   \            6F737461
   \            7400    

   \                                 In  segment XDATA_ROM_C, align 1
    215          const char sSwHeatSet[]     = "SW1: Set Heating";
   \                     sSwHeatSet:
   \   000000   5357313A     DB "SW1: Set Heating"
   \            20536574
   \            20486561
   \            74696E67
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
    216          const char sSwEZMode[]      = "SW2: EZ-Mode";
   \                     sSwEZMode:
   \   000000   5357323A     DB "SW2: EZ-Mode"
   \            20455A2D
   \            4D6F6465
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
    217          const char sSwCoolSet[]     = "SW3: Set Cooling";
   \                     sSwCoolSet:
   \   000000   5357333A     DB "SW3: Set Cooling"
   \            20536574
   \            20436F6F
   \            6C696E67
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
    218          const char sTempLine2[]     = "SW1:+";
   \                     sTempLine2:
   \   000000   5357313A     DB "SW1:+"
   \            2B00    

   \                                 In  segment XDATA_ROM_C, align 1
    219          const char sTempLine3[]     = "SW3:-  SW5:Enter";
   \                     sTempLine3:
   \   000000   5357333A     DB "SW3:-  SW5:Enter"
   \            2D202053
   \            57353A45
   \            6E746572
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
    220          const char sSwHelp[]        = "SW5: Help";
   \                     sSwHelp:
   \   000000   5357353A     DB "SW5: Help"
   \            2048656C
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
    221          const char sStoreHeatTemp[] = "HEAT TEMP SAVED";
   \                     sStoreHeatTemp:
   \   000000   48454154     DB "HEAT TEMP SAVED"
   \            2054454D
   \            50205341
   \            56454400

   \                                 In  segment XDATA_ROM_C, align 1
    222          const char sStoreCoolTemp[] = "COOL TEMP SAVED";
   \                     sStoreCoolTemp:
   \   000000   434F4F4C     DB "COOL TEMP SAVED"
   \            2054454D
   \            50205341
   \            56454400
    223          #endif
    224          
    225          /*********************************************************************
    226           * ZCL General Profile Callback table
    227           */

   \                                 In  segment XDATA_I, align 1, keep-with-next
    228          static zclGeneral_AppCallbacks_t zclSampleThermostat_CmdCallbacks =
   \                     zclSampleThermostat_CmdCallbacks:
   \   000000                DS 24
   \   000018                REQUIRE `?<Initializer for zclSampleThermostat_CmdCallb`
   \   000018                REQUIRE __INIT_XDATA_I
    229          {
    230            zclSampleThermostat_BasicResetCB,            // Basic Cluster Reset command
    231            zclSampleThermostat_IdentifyCB,              // Identify command
    232          #ifdef ZCL_EZMODE
    233            NULL,                                        // Identify EZ-Mode Invoke command
    234            NULL,                                        // Identify Update Commission State command
    235          #endif
    236            NULL,                                        // Identify Trigger Effect command
    237            zclSampleThermostat_IdentifyQueryRspCB,      // Identify Query Response command
    238            NULL,             				                   // On/Off cluster command
    239            NULL,                                        // On/Off cluster enhanced command Off with Effect
    240            NULL,                                        // On/Off cluster enhanced command On with Recall Global Scene
    241            NULL,                                        // On/Off cluster enhanced command On with Timed Off
    242          #ifdef ZCL_LEVEL_CTRL
    243            NULL,                                        // Level Control Move to Level command
    244            NULL,                                        // Level Control Move command
    245            NULL,                                        // Level Control Step command
    246            NULL,                                        // Level Control Stop command
    247          #endif
    248          #ifdef ZCL_GROUPS
    249            NULL,                                        // Group Response commands
    250          #endif
    251          #ifdef ZCL_SCENES
    252            NULL,                                        // Scene Store Request command
    253            NULL,                                        // Scene Recall Request command
    254            NULL,                                        // Scene Response command
    255          #endif
    256          #ifdef ZCL_ALARMS
    257            NULL,                                        // Alarm (Response) commands
    258          #endif
    259          #ifdef SE_UK_EXT
    260            NULL,                                        // Get Event Log command
    261            NULL,                                        // Publish Event Log command
    262          #endif
    263            NULL,                                        // RSSI Location command
    264            NULL                                         // RSSI Location Response command
    265          };
    266          
    267          /*********************************************************************
    268           * @fn          zclSampleThermostat_Init
    269           *
    270           * @brief       Initialization function for the zclGeneral layer.
    271           *
    272           * @param       none
    273           *
    274           * @return      none
    275           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    276          void zclSampleThermostat_Init( byte task_id )
   \                     zclSampleThermostat_Init:
    277          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    278            zclSampleThermostat_TaskID = task_id;
   \   000007   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   00000A   F0           MOVX    @DPTR,A
    279          
    280            // Set destination address to indirect
    281            zclSampleThermostat_DstAddr.addrMode = (afAddrMode_t)AddrNotPresent;
   \   00000B   90....       MOV     DPTR,#zclSampleThermostat_DstAddr + 8
   \   00000E   E4           CLR     A
   \   00000F   F0           MOVX    @DPTR,A
    282            zclSampleThermostat_DstAddr.endPoint = 0;
   \   000010   A3           INC     DPTR
   \   000011   F0           MOVX    @DPTR,A
    283            zclSampleThermostat_DstAddr.addr.shortAddr = 0;
   \   000012   90....       MOV     DPTR,#zclSampleThermostat_DstAddr
   \   000015   F0           MOVX    @DPTR,A
   \   000016   A3           INC     DPTR
   \   000017   F0           MOVX    @DPTR,A
    284          
    285            // This app is part of the Home Automation Profile
    286            zclHA_Init( &zclSampleThermostat_SimpleDesc );
   \   000018                ; Setup parameters for call to function zclHA_Init
   \   000018   7A..         MOV     R2,#zclSampleThermostat_SimpleDesc & 0xff
   \   00001A   7B..         MOV     R3,#(zclSampleThermostat_SimpleDesc >> 8) & 0xff
   \   00001C   12....       LCALL   `??zclHA_Init::?relay`; Banked call to: zclHA_Init
    287          
    288            // Register the ZCL General Cluster Library callback functions
    289            zclGeneral_RegisterCmdCallbacks( SAMPLETHERMOSTAT_ENDPOINT, &zclSampleThermostat_CmdCallbacks );
   \   00001F                ; Setup parameters for call to function zclGeneral_RegisterCmdCallbacks
   \   00001F   7A..         MOV     R2,#zclSampleThermostat_CmdCallbacks & 0xff
   \   000021   7B..         MOV     R3,#(zclSampleThermostat_CmdCallbacks >> 8) & 0xff
   \   000023   7901         MOV     R1,#0x1
   \   000025   12....       LCALL   `??zclGeneral_RegisterCmdCallbacks::?relay`; Banked call to: zclGeneral_RegisterCmdCallbacks
    290          
    291            // Register the application's attribute list
    292            zcl_registerAttrList( SAMPLETHERMOSTAT_ENDPOINT, SAMPLETHERMOSTAT_MAX_ATTRIBUTES, zclSampleThermostat_Attrs );
   \   000028                ; Setup parameters for call to function zcl_registerAttrList
   \   000028   7C..         MOV     R4,#zclSampleThermostat_Attrs & 0xff
   \   00002A   7D..         MOV     R5,#(zclSampleThermostat_Attrs >> 8) & 0xff
   \   00002C   7A16         MOV     R2,#0x16
   \   00002E   7901         MOV     R1,#0x1
   \   000030   12....       LCALL   `??zcl_registerAttrList::?relay`; Banked call to: zcl_registerAttrList
    293          
    294            // Register the Application to receive the unprocessed Foundation command/response messages
    295            zcl_registerForMsg( zclSampleThermostat_TaskID );
   \   000033                ; Setup parameters for call to function zcl_registerForMsg
   \   000033   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000036   E0           MOVX    A,@DPTR
   \   000037   F9           MOV     R1,A
   \   000038   12....       LCALL   `??zcl_registerForMsg::?relay`; Banked call to: zcl_registerForMsg
    296          
    297          	#ifdef ZCL_EZMODE
    298            // Register EZ-Mode
    299            zcl_RegisterEZMode( &zclSampleThermostat_RegisterEZModeData );
   \   00003B                ; Setup parameters for call to function zcl_RegisterEZMode
   \   00003B   7A..         MOV     R2,#zclSampleThermostat_RegisterEZModeData & 0xff
   \   00003D   7B..         MOV     R3,#(zclSampleThermostat_RegisterEZModeData >> 8) & 0xff
   \   00003F   12....       LCALL   `??zcl_RegisterEZMode::?relay`; Banked call to: zcl_RegisterEZMode
    300          
    301            // Register with the ZDO to receive Match Descriptor Responses
    302            ZDO_RegisterForZDOMsg(task_id, Match_Desc_rsp);
   \   000042                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000042   7A06         MOV     R2,#0x6
   \   000044   7B80         MOV     R3,#-0x80
   \   000046   EE           MOV     A,R6
   \   000047   F9           MOV     R1,A
   \   000048   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    303          	#endif
    304          
    305            // Register for all key events - This app will handle all key events
    306            RegisterForKeys( zclSampleThermostat_TaskID );
   \   00004B                ; Setup parameters for call to function RegisterForKeys
   \   00004B   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   00004E   E0           MOVX    A,@DPTR
   \   00004F   F9           MOV     R1,A
   \   000050   12....       LCALL   `??RegisterForKeys::?relay`; Banked call to: RegisterForKeys
    307          
    308            // Register for a test endpoint
    309            afRegister( &sampleThermostat_TestEp );
   \   000053                ; Setup parameters for call to function afRegister
   \   000053   7A..         MOV     R2,#sampleThermostat_TestEp & 0xff
   \   000055   7B..         MOV     R3,#(sampleThermostat_TestEp >> 8) & 0xff
   \   000057   12....       LCALL   `??afRegister::?relay`; Banked call to: afRegister
    310          
    311            ZDO_RegisterForZDOMsg( zclSampleThermostat_TaskID, End_Device_Bind_rsp );
   \   00005A                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   00005A   7A20         MOV     R2,#0x20
   \   00005C   7B80         MOV     R3,#-0x80
   \   00005E   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000061   E0           MOVX    A,@DPTR
   \   000062   F9           MOV     R1,A
   \   000063   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    312            ZDO_RegisterForZDOMsg( zclSampleThermostat_TaskID, Match_Desc_rsp );
   \   000066                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000066   7A06         MOV     R2,#0x6
   \   000068   7B80         MOV     R3,#-0x80
   \   00006A   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   00006D   E0           MOVX    A,@DPTR
   \   00006E   F9           MOV     R1,A
   \   00006F   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    313          
    314          	#ifdef LCD_SUPPORTED
    315            // display the device name
    316            HalLcdWriteString( (char *)sDeviceName, HAL_LCD_LINE_3 );
   \   000072                ; Setup parameters for call to function HalLcdWriteString
   \   000072   7903         MOV     R1,#0x3
   \   000074   7A..         MOV     R2,#sDeviceName & 0xff
   \   000076   7B..         MOV     R3,#(sDeviceName >> 8) & 0xff
   \   000078   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    317          	#endif
    318          
    319          	#ifdef ZGP_AUTO_TT
    320            zgpTranslationTable_RegisterEP( &zclSampleThermostat_SimpleDesc );
    321          	#endif
    322          
    323          	UART_Init(HAL_UART_PORT_0);
   \   00007B                ; Setup parameters for call to function UART_Init
   \   00007B   7900         MOV     R1,#0x0
   \   00007D   12....       LCALL   `??UART_Init::?relay`; Banked call to: UART_Init
    324          	
    325          	// Set timer for first UART Reply CMD event
    326          	osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_UART_REPLY_CMD_EVT, UART_PARSE_RX_PACKAGE_EVT_PERIOD );
   \   000080                ; Setup parameters for call to function osal_start_timerEx
   \   000080   90....       MOV     DPTR,#__Constant_a
   \   000083   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000086   7A40         MOV     R2,#0x40
   \   000088   7B00         MOV     R3,#0x0
   \   00008A   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   00008D   E0           MOVX    A,@DPTR
   \   00008E   F9           MOV     R1,A
   \   00008F   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000092   7404         MOV     A,#0x4
   \   000094   12....       LCALL   ?DEALLOC_XSTACK8
    327          
    328          	// Set timer for first Check System event
    329          	osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_CHECK_SYSTEM_EVT, CHECK_SYSTEM_EVT_PERIOD );
   \   000097                ; Setup parameters for call to function osal_start_timerEx
   \   000097   90....       MOV     DPTR,#__Constant_2710
   \   00009A   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00009D   7A80         MOV     R2,#-0x80
   \   00009F   7B00         MOV     R3,#0x0
   \   0000A1   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   0000A4   E0           MOVX    A,@DPTR
   \   0000A5   F9           MOV     R1,A
   \   0000A6   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0000A9   7404         MOV     A,#0x4
   \   0000AB   12....       LCALL   ?DEALLOC_XSTACK8
    330          
    331          	// Set timer for first Join Setup event
    332          	if (NLME_GetShortAddr() != 0xFFFE)
   \   0000AE                ; Setup parameters for call to function NLME_GetShortAddr
   \   0000AE   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   0000B1   8A..         MOV     ?V0,R2
   \   0000B3   8B..         MOV     ?V1,R3
   \   0000B5   74FE         MOV     A,#-0x2
   \   0000B7   65..         XRL     A,?V0
   \   0000B9   7004         JNZ     ??zclSampleThermostat_Init_0
   \   0000BB   74FF         MOV     A,#-0x1
   \   0000BD   65..         XRL     A,?V1
   \                     ??zclSampleThermostat_Init_0:
   \   0000BF   600C         JZ      ??zclSampleThermostat_Init_1
    333          	{
    334          		osal_set_event( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_JOIN_SETUP_EVT );
   \   0000C1                ; Setup parameters for call to function osal_set_event
   \   0000C1   7A20         MOV     R2,#0x20
   \   0000C3   7B00         MOV     R3,#0x0
   \   0000C5   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   0000C8   E0           MOVX    A,@DPTR
   \   0000C9   F9           MOV     R1,A
   \   0000CA   12....       LCALL   `??osal_set_event::?relay`; Banked call to: osal_set_event
    335          	}
    336          	
    337          }
   \                     ??zclSampleThermostat_Init_1:
   \   0000CD   7F02         MOV     R7,#0x2
   \   0000CF   02....       LJMP    ?BANKED_LEAVE_XDATA
    338          
    339          /*********************************************************************
    340           * @fn          zclSample_event_loop
    341           *
    342           * @brief       Event Loop Processor for zclGeneral.
    343           *
    344           * @param       none
    345           *
    346           * @return      none
    347           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    348          uint16 zclSampleThermostat_event_loop( uint8 task_id, uint16 events )
   \                     zclSampleThermostat_event_loop:
    349          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    350            afIncomingMSGPacket_t *MSGpkt;
    351          
    352            (void)task_id;  // Intentionally unreferenced parameter
    353          
    354          	/*--------------------------------------------------------------------------*/
    355            if ( events & SYS_EVENT_MSG )
   \   00000E   5480         ANL     A,#0x80
   \   000010   7060         JNZ     ??zclSampleThermostat_event_loop_0
    356            {
    357              while ( (MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( zclSampleThermostat_TaskID )) )
    358              {
    359              	msg_RSSI = MSGpkt->rssi;
    360          				
    361                switch ( MSGpkt->hdr.event )
    362                {
    363          				#ifdef ZCL_EZMODE
    364                  case ZDO_CB_MSG:
    365                    zclSampleThermostat_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
    366          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] ZDO_CB_MSG");
    367                    break;
    368          				#endif
    369          
    370                  case MT_SYS_APP_MSG:
    371                    // Message received from MT
    372                    zclSampleThermostat_ProcessAppMsg( ((mtSysAppMsg_t *)MSGpkt)->endpoint,
    373                                                    ((mtSysAppMsg_t *)MSGpkt)->appDataLen,
    374                                                    ((mtSysAppMsg_t *)MSGpkt)->appData );
    375          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] MT_SYS_APP_MSG");
    376                    break;
    377          
    378                  case ZCL_INCOMING_MSG:
    379                    // Incoming ZCL Foundation command/response messages
    380                    zclSampleThermostat_ProcessIncomingMsg( (zclIncomingMsg_t *)MSGpkt );
    381          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] ZCL_INCOMING_MSG");
    382                    break;
    383          
    384                  case KEY_CHANGE:
    385                    zclSampleThermostat_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    386          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] KEY_CHANGE");
    387                    break;
    388          
    389                  case ZDO_STATE_CHANGE:
    390                    zclSampleThermostat_NwkState = (devStates_t)(MSGpkt->hdr.status);
    391          
    392          
    393                    // now on the network
    394                    if ( ( zclSampleThermostat_NwkState == DEV_ZB_COORD ) ||
    395                         ( zclSampleThermostat_NwkState == DEV_ROUTER )   ||
    396                         ( zclSampleThermostat_NwkState == DEV_END_DEVICE ) )
    397                    {
    398          						#ifndef HOLD_AUTO_START
    399                      // display main mode
    400                      giThermostatScreenMode = THERMOSTAT_MAINMODE;
    401                      zclSampleThermostat_LcdDisplayUpdate();
    402          						#endif
    403          						#ifdef ZCL_EZMODE
    404                      zcl_EZModeAction( EZMODE_ACTION_NETWORK_STARTED, NULL );
    405          						#endif  // ZCL_EZMODE
    406          						
    407          						UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] ZDO_STATE_CHANGE");
    408                    }
    409                    break;
    410          
    411                  default:
    412                    break;
    413                }
    414          
    415                // Release the memory
    416                osal_msg_deallocate( (uint8 *)MSGpkt );
    417              }
    418          
    419              // return unprocessed events
    420              return (events ^ SYS_EVENT_MSG);
    421            }
    422          
    423          	/*--------------------------------------------------------------------------*/
    424            if ( events & SAMPLETHERMOSTAT_IDENTIFY_TIMEOUT_EVT )
   \   000012   EE           MOV     A,R6
   \   000013   A2E0         MOV     C,0xE0 /* A   */.0
   \   000015   4003         JC      $+5
   \   000017   02....       LJMP    ??zclSampleThermostat_event_loop_1 & 0xFFFF
    425            {
    426              if ( zclSampleThermostat_IdentifyTime > 0 )
   \   00001A   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   00001D   600C         JZ      ??zclSampleThermostat_event_loop_2
    427              {
    428                zclSampleThermostat_IdentifyTime--;
   \   00001F   90....       MOV     DPTR,#zclSampleThermostat_IdentifyTime
   \   000022   E0           MOVX    A,@DPTR
   \   000023   24FF         ADD     A,#-0x1
   \   000025   F0           MOVX    @DPTR,A
   \   000026   A3           INC     DPTR
   \   000027   E0           MOVX    A,@DPTR
   \   000028   34FF         ADDC    A,#-0x1
   \   00002A   F0           MOVX    @DPTR,A
    429              }
    430              zclSampleThermostat_ProcessIdentifyTimeChange();
   \                     ??zclSampleThermostat_event_loop_2:
   \   00002B                ; Setup parameters for call to function zclSampleThermostat_ProcessIdentifyTimeChange
   \   00002B   12....       LCALL   ??zclSampleThermostat_ProcessIdentifyTimeChange; Banked call to: zclSampleThermostat_ProcessIdentifyTimeChange
    431          		
    432          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLETHERMOSTAT_IDENTIFY_TIMEOUT_EVT");
   \   00002E                ; Setup parameters for call to function UART_DebugPrint
   \   00002E   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLETHERMOS...">` & 0xff
   \   000030   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLETHERMOS...">` >> 8) & 0xff
   \   000032   7900         MOV     R1,#0x0
   \   000034   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    433          
    434              return ( events ^ SAMPLETHERMOSTAT_IDENTIFY_TIMEOUT_EVT );
   \   000037   EE           MOV     A,R6
   \   000038   6401         XRL     A,#0x1
   \   00003A   02....       LJMP    ??zclSampleThermostat_event_loop_3 & 0xFFFF
    435            }
   \                     ??zclSampleThermostat_event_loop_4:
   \   00003D   A3           INC     DPTR
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   90....       MOV     DPTR,#zclSampleThermostat_NwkState
   \   000042   F0           MOVX    @DPTR,A
   \   000043   6409         XRL     A,#0x9
   \   000045   600A         JZ      ??zclSampleThermostat_event_loop_5
   \   000047   E0           MOVX    A,@DPTR
   \   000048   6407         XRL     A,#0x7
   \   00004A   6005         JZ      ??zclSampleThermostat_event_loop_5
   \   00004C   E0           MOVX    A,@DPTR
   \   00004D   6406         XRL     A,#0x6
   \   00004F   701A         JNZ     ??zclSampleThermostat_event_loop_6
   \                     ??zclSampleThermostat_event_loop_5:
   \   000051   90....       MOV     DPTR,#giThermostatScreenMode
   \   000054   E4           CLR     A
   \   000055   F0           MOVX    @DPTR,A
   \   000056                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayUpdate
   \   000056   12....       LCALL   `??zclSampleThermostat_LcdDisplayUpdate::?relay`; Banked call to: zclSampleThermostat_LcdDisplayUpdate
   \   000059                ; Setup parameters for call to function zcl_EZModeAction
   \   000059   7A00         MOV     R2,#0x0
   \   00005B   7B00         MOV     R3,#0x0
   \   00005D   7902         MOV     R1,#0x2
   \   00005F   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
   \   000062                ; Setup parameters for call to function UART_DebugPrint
   \   000062   7A..         MOV     R2,#`?<Constant "[EVENT] ZDO_STATE_CHANGE">` & 0xff
   \   000064   7B..         MOV     R3,#(`?<Constant "[EVENT] ZDO_STATE_CHANGE">` >> 8) & 0xff
   \                     ??zclSampleThermostat_event_loop_7:
   \   000066   7900         MOV     R1,#0x0
   \   000068   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
   \                     ??zclSampleThermostat_event_loop_6:
   \   00006B                ; Setup parameters for call to function osal_msg_deallocate
   \   00006B   AA..         MOV     R2,?V0
   \   00006D   AB..         MOV     R3,?V1
   \   00006F   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   \                     ??zclSampleThermostat_event_loop_0:
   \   000072                ; Setup parameters for call to function osal_msg_receive
   \   000072   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000075   E0           MOVX    A,@DPTR
   \   000076   F9           MOV     R1,A
   \   000077   12....       LCALL   `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
   \   00007A   8A..         MOV     ?V0,R2
   \   00007C   8B..         MOV     ?V1,R3
   \   00007E   EA           MOV     A,R2
   \   00007F   45..         ORL     A,?V1
   \   000081   7003         JNZ     $+5
   \   000083   02....       LJMP    ??zclSampleThermostat_event_loop_8 & 0xFFFF
   \   000086   EA           MOV     A,R2
   \   000087   2418         ADD     A,#0x18
   \   000089   F582         MOV     DPL,A
   \   00008B   E4           CLR     A
   \   00008C   35..         ADDC    A,?V1
   \   00008E   F583         MOV     DPH,A
   \   000090   E0           MOVX    A,@DPTR
   \   000091   90....       MOV     DPTR,#msg_RSSI
   \   000094   F0           MOVX    @DPTR,A
   \   000095   8A82         MOV     DPL,R2
   \   000097   8B83         MOV     DPH,R3
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   24DD         ADD     A,#-0x23
   \   00009C   6044         JZ      ??zclSampleThermostat_event_loop_9
   \   00009E   24EF         ADD     A,#-0x11
   \   0000A0   605A         JZ      ??zclSampleThermostat_event_loop_10
   \   0000A2   2474         ADD     A,#0x74
   \   0000A4   7003         JNZ     $+5
   \   0000A6   02....       LJMP    ??zclSampleThermostat_event_loop_11 & 0xFFFF
   \   0000A9   24EF         ADD     A,#-0x11
   \   0000AB   6090         JZ      ??zclSampleThermostat_event_loop_4
   \   0000AD   24FE         ADD     A,#-0x2
   \   0000AF   70BA         JNZ     ??zclSampleThermostat_event_loop_6
   \   0000B1   EA           MOV     A,R2
   \   0000B2   240C         ADD     A,#0xc
   \   0000B4   F582         MOV     DPL,A
   \   0000B6   E4           CLR     A
   \   0000B7   35..         ADDC    A,?V1
   \   0000B9   F583         MOV     DPH,A
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   6406         XRL     A,#0x6
   \   0000BE   7004         JNZ     ??zclSampleThermostat_event_loop_12
   \   0000C0   A3           INC     DPTR
   \   0000C1   E0           MOVX    A,@DPTR
   \   0000C2   6480         XRL     A,#0x80
   \                     ??zclSampleThermostat_event_loop_12:
   \   0000C4   7016         JNZ     ??zclSampleThermostat_event_loop_13
   \   0000C6                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   0000C6   12....       LCALL   `??ZDO_ParseEPListRsp::?relay`; Banked call to: ZDO_ParseEPListRsp
   \   0000C9   8A..         MOV     ?V2,R2
   \   0000CB   8B..         MOV     ?V3,R3
   \   0000CD   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   0000D0   7905         MOV     R1,#0x5
   \   0000D2   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
   \   0000D5                ; Setup parameters for call to function osal_mem_free
   \   0000D5   AA..         MOV     R2,?V2
   \   0000D7   AB..         MOV     R3,?V3
   \   0000D9   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \                     ??zclSampleThermostat_event_loop_13:
   \   0000DC                ; Setup parameters for call to function UART_DebugPrint
   \   0000DC   7A..         MOV     R2,#`?<Constant "[EVENT] ZDO_CB_MSG">` & 0xff
   \   0000DE   7B..         MOV     R3,#(`?<Constant "[EVENT] ZDO_CB_MSG">` >> 8) & 0xff
   \   0000E0   8084         SJMP    ??zclSampleThermostat_event_loop_7
   \                     ??zclSampleThermostat_event_loop_9:
   \   0000E2                ; Setup parameters for call to function zclSampleThermostat_ProcessAppMsg
   \   0000E2   A3           INC     DPTR
   \   0000E3   A3           INC     DPTR
   \   0000E4   A3           INC     DPTR
   \   0000E5   A3           INC     DPTR
   \   0000E6   E0           MOVX    A,@DPTR
   \   0000E7   FC           MOV     R4,A
   \   0000E8   A3           INC     DPTR
   \   0000E9   E0           MOVX    A,@DPTR
   \   0000EA   FD           MOV     R5,A
   \   0000EB   8A82         MOV     DPL,R2
   \   0000ED   8B83         MOV     DPH,R3
   \   0000EF   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   0000F2   12....       LCALL   `??zclSampleThermostat_ProcessAppMsg::?relay`; Banked call to: zclSampleThermostat_ProcessAppMsg
   \   0000F5                ; Setup parameters for call to function UART_DebugPrint
   \   0000F5   7A..         MOV     R2,#`?<Constant "[EVENT] MT_SYS_APP_MSG">` & 0xff
   \   0000F7   7B..         MOV     R3,#(`?<Constant "[EVENT] MT_SYS_APP_MSG">` >> 8) & 0xff
   \   0000F9   02....       LJMP    ??zclSampleThermostat_event_loop_7 & 0xFFFF
   \                     ??zclSampleThermostat_event_loop_10:
   \   0000FC   EA           MOV     A,R2
   \   0000FD   2417         ADD     A,#0x17
   \   0000FF   F5..         MOV     ?V2,A
   \   000101   E4           CLR     A
   \   000102   35..         ADDC    A,?V1
   \   000104   F5..         MOV     ?V3,A
   \   000106   A3           INC     DPTR
   \   000107   A3           INC     DPTR
   \   000108   A3           INC     DPTR
   \   000109   A3           INC     DPTR
   \   00010A   A3           INC     DPTR
   \   00010B   A3           INC     DPTR
   \   00010C   A3           INC     DPTR
   \   00010D   E0           MOVX    A,@DPTR
   \   00010E   14           DEC     A
   \   00010F   601A         JZ      ??zclSampleThermostat_event_loop_14
   \   000111   24FD         ADD     A,#-0x3
   \   000113   6009         JZ      ??zclSampleThermostat_event_loop_15
   \   000115   24FA         ADD     A,#-0x6
   \   000117   701F         JNZ     ??zclSampleThermostat_event_loop_16
   \   000119                ; Setup parameters for call to function zclSampleThermostat_ProcessInReportCmd
   \   000119   12....       LCALL   `??zclSampleThermostat_ProcessInReportCmd::?rela`; Banked call to: zclSampleThermostat_ProcessInReportCmd
   \   00011C   801A         SJMP    ??zclSampleThermostat_event_loop_16
   \                     ??zclSampleThermostat_event_loop_15:
   \   00011E   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   000121   E0           MOVX    A,@DPTR
   \   000122   F9           MOV     R1,A
   \   000123   E8           MOV     A,R0
   \   000124   C3           CLR     C
   \   000125   99           SUBB    A,R1
   \   000126   5010         JNC     ??zclSampleThermostat_event_loop_16
   \   000128   08           INC     R0
   \   000129   80F6         SJMP    ??CrossCallReturnLabel_38
   \                     ??zclSampleThermostat_event_loop_14:
   \   00012B   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   00012E   8001         SJMP    ??zclSampleThermostat_event_loop_17
   \                     ??zclSampleThermostat_event_loop_18:
   \   000130   08           INC     R0
   \                     ??zclSampleThermostat_event_loop_17:
   \   000131   E0           MOVX    A,@DPTR
   \   000132   F9           MOV     R1,A
   \   000133   E8           MOV     A,R0
   \   000134   C3           CLR     C
   \   000135   99           SUBB    A,R1
   \   000136   40F8         JC      ??zclSampleThermostat_event_loop_18
   \                     ??zclSampleThermostat_event_loop_16:
   \   000138   85..82       MOV     DPL,?V2
   \   00013B   85..83       MOV     DPH,?V3
   \   00013E   E0           MOVX    A,@DPTR
   \   00013F   FA           MOV     R2,A
   \   000140   A3           INC     DPTR
   \   000141   E0           MOVX    A,@DPTR
   \   000142   FB           MOV     R3,A
   \   000143   EA           MOV     A,R2
   \   000144   4B           ORL     A,R3
   \   000145   6003         JZ      ??zclSampleThermostat_event_loop_19
   \   000147                ; Setup parameters for call to function osal_mem_free
   \   000147   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \                     ??zclSampleThermostat_event_loop_19:
   \   00014A                ; Setup parameters for call to function UART_DebugPrint
   \   00014A   7A..         MOV     R2,#`?<Constant "[EVENT] ZCL_INCOMING_MSG">` & 0xff
   \   00014C   7B..         MOV     R3,#(`?<Constant "[EVENT] ZCL_INCOMING_MSG">` >> 8) & 0xff
   \   00014E   02....       LJMP    ??zclSampleThermostat_event_loop_7 & 0xFFFF
   \                     ??zclSampleThermostat_event_loop_11:
   \   000151                ; Setup parameters for call to function zclSampleThermostat_HandleKeys
   \   000151   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000154   12....       LCALL   `??zclSampleThermostat_HandleKeys::?relay`; Banked call to: zclSampleThermostat_HandleKeys
   \   000157                ; Setup parameters for call to function UART_DebugPrint
   \   000157   7A..         MOV     R2,#`?<Constant "[EVENT] KEY_CHANGE">` & 0xff
   \   000159   7B..         MOV     R3,#(`?<Constant "[EVENT] KEY_CHANGE">` >> 8) & 0xff
   \   00015B   02....       LJMP    ??zclSampleThermostat_event_loop_7 & 0xFFFF
   \                     ??zclSampleThermostat_event_loop_8:
   \   00015E   EE           MOV     A,R6
   \   00015F   FA           MOV     R2,A
   \   000160   EF           MOV     A,R7
   \   000161   6480         XRL     A,#0x80
   \   000163   02....       LJMP    ??zclSampleThermostat_event_loop_20 & 0xFFFF
    436          
    437          	/*--------------------------------------------------------------------------*/
    438            if ( events & SAMPLETHERMOSTAT_MAIN_SCREEN_EVT )
   \                     ??zclSampleThermostat_event_loop_1:
   \   000166   5410         ANL     A,#0x10
   \   000168   6027         JZ      ??zclSampleThermostat_event_loop_21
    439            {
    440              giThermostatScreenMode = THERMOSTAT_MAINMODE;
   \   00016A   90....       MOV     DPTR,#giThermostatScreenMode
   \   00016D   E4           CLR     A
   \   00016E   F0           MOVX    @DPTR,A
    441              zclSampleThermostat_LcdDisplayUpdate();
   \   00016F                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayUpdate
   \   00016F   12....       LCALL   `??zclSampleThermostat_LcdDisplayUpdate::?relay`; Banked call to: zclSampleThermostat_LcdDisplayUpdate
    442          
    443          		if (FLAG_BINDING)
   \   000172   90....       MOV     DPTR,#FLAG_BINDING
   \   000175   E0           MOVX    A,@DPTR
   \   000176   600A         JZ      ??zclSampleThermostat_event_loop_22
    444          		{
    445          			FLAG_BINDING = FALSE;		
   \   000178   E4           CLR     A
   \   000179   F0           MOVX    @DPTR,A
    446          			if (FLAG_HARD_BINDING)
   \   00017A   90....       MOV     DPTR,#FLAG_HARD_BINDING
   \   00017D   E0           MOVX    A,@DPTR
   \   00017E   6002         JZ      ??zclSampleThermostat_event_loop_22
    447          			{
    448          				FLAG_HARD_BINDING = FALSE;
   \   000180   E4           CLR     A
   \   000181   F0           MOVX    @DPTR,A
    449          			}
    450          		}
    451          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLETHERMOSTAT_MAIN_SCREEN_EVT");
   \                     ??zclSampleThermostat_event_loop_22:
   \   000182                ; Setup parameters for call to function UART_DebugPrint
   \   000182   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLETHERMOS...">_1` & 0xff
   \   000184   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLETHERMOS...">_1` >> 8) & 0xff
   \   000186   7900         MOV     R1,#0x0
   \   000188   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    452          
    453              return ( events ^ SAMPLETHERMOSTAT_MAIN_SCREEN_EVT );
   \   00018B   EE           MOV     A,R6
   \   00018C   6410         XRL     A,#0x10
   \   00018E   02....       LJMP    ??zclSampleThermostat_event_loop_3 & 0xFFFF
    454            }
    455          
    456          	/*--------------------------------------------------------------------------*/
    457          	#ifdef ZCL_EZMODE
    458            // going on to next state
    459            if ( events & SAMPLETHERMOSTAT_EZMODE_NEXTSTATE_EVT )
   \                     ??zclSampleThermostat_event_loop_21:
   \   000191   EE           MOV     A,R6
   \   000192   5408         ANL     A,#0x8
   \   000194   6018         JZ      ??zclSampleThermostat_event_loop_23
    460            {
    461              zcl_EZModeAction ( EZMODE_ACTION_PROCESS, NULL );   // going on to next state
   \   000196                ; Setup parameters for call to function zcl_EZModeAction
   \   000196   7A00         MOV     R2,#0x0
   \   000198   7B00         MOV     R3,#0x0
   \   00019A   7901         MOV     R1,#0x1
   \   00019C   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
    462          
    463          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLETHERMOSTAT_EZMODE_NEXTSTATE_EVT");
   \   00019F                ; Setup parameters for call to function UART_DebugPrint
   \   00019F   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLETHERMOS...">_2` & 0xff
   \   0001A1   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLETHERMOS...">_2` >> 8) & 0xff
   \   0001A3   7900         MOV     R1,#0x0
   \   0001A5   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    464          		
    465              return ( events ^ SAMPLETHERMOSTAT_EZMODE_NEXTSTATE_EVT );
   \   0001A8   EE           MOV     A,R6
   \   0001A9   6408         XRL     A,#0x8
   \   0001AB   02....       LJMP    ??zclSampleThermostat_event_loop_3 & 0xFFFF
    466            }
    467          
    468          	/*--------------------------------------------------------------------------*/
    469            // the overall EZMode timer expired, so we timed out
    470            if ( events & SAMPLETHERMOSTAT_EZMODE_TIMEOUT_EVT )
   \                     ??zclSampleThermostat_event_loop_23:
   \   0001AE   EE           MOV     A,R6
   \   0001AF   5404         ANL     A,#0x4
   \   0001B1   6018         JZ      ??zclSampleThermostat_event_loop_24
    471            {
    472              zcl_EZModeAction ( EZMODE_ACTION_TIMED_OUT, NULL ); // EZ-Mode timed out
   \   0001B3                ; Setup parameters for call to function zcl_EZModeAction
   \   0001B3   7A00         MOV     R2,#0x0
   \   0001B5   7B00         MOV     R3,#0x0
   \   0001B7   7963         MOV     R1,#0x63
   \   0001B9   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
    473          
    474          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLETHERMOSTAT_EZMODE_TIMEOUT_EVT");
   \   0001BC                ; Setup parameters for call to function UART_DebugPrint
   \   0001BC   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLETHERMOS...">_3` & 0xff
   \   0001BE   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLETHERMOS...">_3` >> 8) & 0xff
   \   0001C0   7900         MOV     R1,#0x0
   \   0001C2   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    475          		
    476              return ( events ^ SAMPLETHERMOSTAT_EZMODE_TIMEOUT_EVT );
   \   0001C5   EE           MOV     A,R6
   \   0001C6   6404         XRL     A,#0x4
   \   0001C8   02....       LJMP    ??zclSampleThermostat_event_loop_3 & 0xFFFF
    477            }
    478          	#endif // ZLC_EZMODE
    479          
    480          	/*--------------------------------------------------------------------------*/
    481          	if ( events & SAMPLETHERMOSTAT_JOIN_SETUP_EVT )
   \                     ??zclSampleThermostat_event_loop_24:
   \   0001CB   EE           MOV     A,R6
   \   0001CC   5420         ANL     A,#0x20
   \   0001CE   6045         JZ      ??zclSampleThermostat_event_loop_25
    482            {
    483          		if (FLAG_JOIN_CONFIRM == FALSE && FLAG_BINDING == FALSE)
   \   0001D0   90....       MOV     DPTR,#FLAG_JOIN_CONFIRM
   \   0001D3   E0           MOVX    A,@DPTR
   \   0001D4   7022         JNZ     ??zclSampleThermostat_event_loop_26
   \   0001D6   90....       MOV     DPTR,#FLAG_BINDING
   \   0001D9   E0           MOVX    A,@DPTR
   \   0001DA   702B         JNZ     ??zclSampleThermostat_event_loop_27
    484          		{
    485          			zclSampleThermostat_BindingProcess();
   \   0001DC                ; Setup parameters for call to function zclSampleThermostat_BindingProcess
   \   0001DC   12....       LCALL   `??zclSampleThermostat_BindingProcess::?relay`; Banked call to: zclSampleThermostat_BindingProcess
    486          			// Stop binding after 100ms (time for process...)
    487          			osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_JOIN_SETUP_EVT, 5000 );
   \   0001DF                ; Setup parameters for call to function osal_start_timerEx
   \   0001DF   90....       MOV     DPTR,#__Constant_1388
   \   0001E2   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0001E5   7A20         MOV     R2,#0x20
   \   0001E7   7B00         MOV     R3,#0x0
   \   0001E9   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   0001EC   E0           MOVX    A,@DPTR
   \   0001ED   F9           MOV     R1,A
   \   0001EE   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0001F1   7404         MOV     A,#0x4
   \   0001F3   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001F6   800F         SJMP    ??zclSampleThermostat_event_loop_27
    488          		}
    489          		else if (FLAG_JOIN_CONFIRM == TRUE && FLAG_BINDING == TRUE)
   \                     ??zclSampleThermostat_event_loop_26:
   \   0001F8   6401         XRL     A,#0x1
   \   0001FA   700B         JNZ     ??zclSampleThermostat_event_loop_27
   \   0001FC   90....       MOV     DPTR,#FLAG_BINDING
   \   0001FF   E0           MOVX    A,@DPTR
   \   000200   6401         XRL     A,#0x1
   \   000202   7003         JNZ     ??zclSampleThermostat_event_loop_27
    490          		{
    491          			zclSampleThermostat_BindingProcess();
   \   000204                ; Setup parameters for call to function zclSampleThermostat_BindingProcess
   \   000204   12....       LCALL   `??zclSampleThermostat_BindingProcess::?relay`; Banked call to: zclSampleThermostat_BindingProcess
    492          		}
    493          		
    494          		UART_DebugPrint(HAL_UART_PORT_0, "SAMPLETHERMOSTAT_JOIN_SETUP_EVT");
   \                     ??zclSampleThermostat_event_loop_27:
   \   000207                ; Setup parameters for call to function UART_DebugPrint
   \   000207   7A..         MOV     R2,#`?<Constant "SAMPLETHERMOSTAT_JOIN...">` & 0xff
   \   000209   7B..         MOV     R3,#(`?<Constant "SAMPLETHERMOSTAT_JOIN...">` >> 8) & 0xff
   \   00020B   7900         MOV     R1,#0x0
   \   00020D   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    495          
    496              return ( events ^ SAMPLETHERMOSTAT_JOIN_SETUP_EVT );
   \   000210   EE           MOV     A,R6
   \   000211   6420         XRL     A,#0x20
   \   000213   8072         SJMP    ??zclSampleThermostat_event_loop_3
    497            }
    498          
    499          	/*--------------------------------------------------------------------------*/
    500          	if ( events & SAMPLETHERMOSTAT_UART_REPLY_CMD_EVT )
   \                     ??zclSampleThermostat_event_loop_25:
   \   000215   EE           MOV     A,R6
   \   000216   5440         ANL     A,#0x40
   \   000218   6027         JZ      ??zclSampleThermostat_event_loop_28
    501            {
    502          		// My apps
    503          		if (UART_ParseRxPackage(HAL_UART_PORT_0))
   \   00021A                ; Setup parameters for call to function UART_ParseRxPackage
   \   00021A   7900         MOV     R1,#0x0
   \   00021C   12....       LCALL   `??UART_ParseRxPackage::?relay`; Banked call to: UART_ParseRxPackage
   \   00021F   E9           MOV     A,R1
   \   000220   6003         JZ      ??zclSampleThermostat_event_loop_29
    504          		{
    505          			ZCMD_ReplyCMD();
   \   000222                ; Setup parameters for call to function ZCMD_ReplyCMD
   \   000222   12....       LCALL   `??ZCMD_ReplyCMD::?relay`; Banked call to: ZCMD_ReplyCMD
    506          		}
    507          		
    508          		// Restart timer
    509              if ( UART_PARSE_RX_PACKAGE_EVT_PERIOD )
    510              {
    511                osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_UART_REPLY_CMD_EVT, UART_PARSE_RX_PACKAGE_EVT_PERIOD );
   \                     ??zclSampleThermostat_event_loop_29:
   \   000225                ; Setup parameters for call to function osal_start_timerEx
   \   000225   90....       MOV     DPTR,#__Constant_a
   \   000228   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00022B   7A40         MOV     R2,#0x40
   \   00022D   7B00         MOV     R3,#0x0
   \   00022F   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000232   E0           MOVX    A,@DPTR
   \   000233   F9           MOV     R1,A
   \   000234   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000237   7404         MOV     A,#0x4
   \   000239   12....       LCALL   ?DEALLOC_XSTACK8
    512              }
    513          		
    514              return (events ^ SAMPLETHERMOSTAT_UART_REPLY_CMD_EVT);
   \   00023C   EE           MOV     A,R6
   \   00023D   6440         XRL     A,#0x40
   \   00023F   8046         SJMP    ??zclSampleThermostat_event_loop_3
    515            }
    516          
    517          	/*--------------------------------------------------------------------------*/
    518          	if ( events & SAMPLETHERMOSTAT_CHECK_SYSTEM_EVT )
   \                     ??zclSampleThermostat_event_loop_28:
   \   000241   EE           MOV     A,R6
   \   000242   5480         ANL     A,#0x80
   \   000244   6046         JZ      ??zclSampleThermostat_event_loop_30
    519            {
    520          		// My apps
    521          		#ifndef COORDINATOR
    522          		zclSampleThermostat_RollCall();
   \   000246                ; Setup parameters for call to function zclSampleThermostat_RollCall
   \   000246   12....       LCALL   `??zclSampleThermostat_RollCall::?relay`; Banked call to: zclSampleThermostat_RollCall
    523          		#endif
    524          		
    525          		if ( (FLAG_JOIN_CONFIRM == FALSE) || (FLAG_JOIN_CONFIRM == TRUE && FLAG_BINDING == TRUE && FLAG_HARD_BINDING == FALSE) )
   \   000249   90....       MOV     DPTR,#FLAG_JOIN_CONFIRM
   \   00024C   E0           MOVX    A,@DPTR
   \   00024D   6012         JZ      ??zclSampleThermostat_event_loop_31
   \   00024F   6401         XRL     A,#0x1
   \   000251   701A         JNZ     ??zclSampleThermostat_event_loop_32
   \   000253   90....       MOV     DPTR,#FLAG_BINDING
   \   000256   E0           MOVX    A,@DPTR
   \   000257   6401         XRL     A,#0x1
   \   000259   7012         JNZ     ??zclSampleThermostat_event_loop_32
   \   00025B   90....       MOV     DPTR,#FLAG_HARD_BINDING
   \   00025E   E0           MOVX    A,@DPTR
   \   00025F   700C         JNZ     ??zclSampleThermostat_event_loop_32
    526          		{
    527          			osal_set_event( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_JOIN_SETUP_EVT );
   \                     ??zclSampleThermostat_event_loop_31:
   \   000261                ; Setup parameters for call to function osal_set_event
   \   000261   7A20         MOV     R2,#0x20
   \   000263   7B00         MOV     R3,#0x0
   \   000265   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000268   E0           MOVX    A,@DPTR
   \   000269   F9           MOV     R1,A
   \   00026A   12....       LCALL   `??osal_set_event::?relay`; Banked call to: osal_set_event
    528          		}
    529          
    530              // Restart timer
    531              if ( CHECK_SYSTEM_EVT_PERIOD )
    532              {
    533                osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_CHECK_SYSTEM_EVT, CHECK_SYSTEM_EVT_PERIOD );
   \                     ??zclSampleThermostat_event_loop_32:
   \   00026D                ; Setup parameters for call to function osal_start_timerEx
   \   00026D   90....       MOV     DPTR,#__Constant_2710
   \   000270   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000273   7A80         MOV     R2,#-0x80
   \   000275   7B00         MOV     R3,#0x0
   \   000277   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   00027A   E0           MOVX    A,@DPTR
   \   00027B   F9           MOV     R1,A
   \   00027C   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   00027F   7404         MOV     A,#0x4
   \   000281   12....       LCALL   ?DEALLOC_XSTACK8
    534              }
    535          			 
    536              return (events ^ SAMPLETHERMOSTAT_CHECK_SYSTEM_EVT);
   \   000284   EE           MOV     A,R6
   \   000285   6480         XRL     A,#0x80
   \                     ??zclSampleThermostat_event_loop_3:
   \   000287   FA           MOV     R2,A
   \   000288   EF           MOV     A,R7
   \                     ??zclSampleThermostat_event_loop_20:
   \   000289   FB           MOV     R3,A
   \   00028A   8004         SJMP    ??zclSampleThermostat_event_loop_33
    537            }
    538          	
    539          	/*--------------------------------------------------------------------------*/
    540          
    541            // Discard unknown events
    542            return 0;
   \                     ??zclSampleThermostat_event_loop_30:
   \   00028C   7A00         MOV     R2,#0x0
   \   00028E   7B00         MOV     R3,#0x0
   \                     ??zclSampleThermostat_event_loop_33:
   \   000290   7402         MOV     A,#0x2
   \   000292   12....       LCALL   ?DEALLOC_XSTACK8
   \   000295   7F06         MOV     R7,#0x6
   \   000297   02....       LJMP    ?BANKED_LEAVE_XDATA
    543          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FA           MOV     R2,A
   \   000005   85..82       MOV     DPL,?V0
   \   000008   8B83         MOV     DPH,R3
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   F9           MOV     R1,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   90....       MOV     DPTR,#zclSampleThermostat_IdentifyTime
   \   000003                REQUIRE ??Subroutine31_0
   \   000003                ; // Fall through to label ??Subroutine31_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine31_0:
   \   000000   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   000003   E8           MOV     A,R0
   \   000004   49           ORL     A,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET
    544          
    545          /*********************************************************************
    546           * @fn      zclSampleThermostat_HandleKeys
    547           *
    548           * @brief   Handles all key events for this device.
    549           *
    550           * @param   shift - true if in shift/alt.
    551           * @param   keys - bit field for key events. Valid entries:
    552           *                 HAL_KEY_SW_5
    553           *                 HAL_KEY_SW_4
    554           *                 HAL_KEY_SW_3
    555           *                 HAL_KEY_SW_2
    556           *                 HAL_KEY_SW_1
    557           *
    558           * @return  none
    559           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine32_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function zcl_EZModeAction
   \   000001                ; Setup parameters for call to function zcl_EZModeAction
   \   000001                ; Setup parameters for call to function zcl_InvokeEZMode
   \   000001                ; Setup parameters for call to function zcl_InvokeEZMode
   \   000001   AA..         MOV     R2,?XSP + 0
   \   000003   AB..         MOV     R3,?XSP + 1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    560          static void zclSampleThermostat_HandleKeys( byte shift, byte keys )
   \                     zclSampleThermostat_HandleKeys:
    561          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 13
   \   000005   74F3         MOV     A,#-0xd
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   89..         MOV     ?V3,R1
   \   00000C   8A..         MOV     ?V2,R2
    562          	if ( keys & HAL_KEY_SW_6 ) //~ SW1 on board
   \   00000E   EA           MOV     A,R2
   \   00000F   A2E5         MOV     C,0xE0 /* A   */.5
   \   000011   4003         JC      $+5
   \   000013   02....       LJMP    ??zclSampleThermostat_HandleKeys_0 & 0xFFFF
    563          	{
    564          		UART_DebugPrint(HAL_UART_PORT_0, "SW6");
   \   000016                ; Setup parameters for call to function UART_DebugPrint
   \   000016   7A..         MOV     R2,#`?<Constant "SW6">` & 0xff
   \   000018   7B..         MOV     R3,#(`?<Constant "SW6">` >> 8) & 0xff
   \   00001A   7900         MOV     R1,#0x0
   \   00001C   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    565          
    566          		uint16 maxEntries;
    567          		uint16 usedEntries;
    568          		BindingEntry_t* current_BindingTableEntry;
    569          
    570          		bindCapacity(&maxEntries, &usedEntries);
   \   00001F                ; Setup parameters for call to function bindCapacity
   \   00001F   7409         MOV     A,#0x9
   \   000021   12....       LCALL   ?XSTACK_DISP102_8
   \   000024   740B         MOV     A,#0xb
   \   000026   12....       LCALL   ?XSTACK_DISP101_8
   \   000029   12....       LCALL   `??bindCapacity::?relay`; Banked call to: bindCapacity
    571          		UART_ZCmdPrintString(HAL_UART_PORT_0, "usedEntries: ");
   \   00002C                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00002C   7A..         MOV     R2,#`?<Constant "usedEntries: ">` & 0xff
   \   00002E   7B..         MOV     R3,#(`?<Constant "usedEntries: ">` >> 8) & 0xff
   \   000030   7900         MOV     R1,#0x0
   \   000032   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    572          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, usedEntries);
   \   000035                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000035   7409         MOV     A,#0x9
   \   000037   12....       LCALL   ?XSTACK_DISP0_8
   \   00003A   12....       LCALL   ??Subroutine37_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   00003D   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    573          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   000040   75....       MOV     ?V0,#`?<Constant "">` & 0xff
   \   000043   75....       MOV     ?V1,#(`?<Constant "">` >> 8) & 0xff
   \   000046                ; Setup parameters for call to function UART_ZCmdPrint
   \   000046   AA..         MOV     R2,?V0
   \   000048   AB..         MOV     R3,?V1
   \   00004A   7900         MOV     R1,#0x0
   \   00004C   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    574          
    575          		current_BindingTableEntry = GetBindingTableEntry( 0 );
   \   00004F                ; Setup parameters for call to function GetBindingTableEntry
   \   00004F   7A00         MOV     R2,#0x0
   \   000051   7B00         MOV     R3,#0x0
   \   000053   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   000056   8A..         MOV     ?V4,R2
   \   000058   8B..         MOV     ?V5,R3
   \   00005A   AE..         MOV     R6,?V4
   \   00005C   AF..         MOV     R7,?V5
    576          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 0: ");
   \   00005E                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00005E   7A..         MOV     R2,#`?<Constant "Entry 0: ">` & 0xff
   \   000060   7B..         MOV     R3,#(`?<Constant "Entry 0: ">` >> 8) & 0xff
   \   000062   7900         MOV     R1,#0x0
   \   000064   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    577          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[0].srcEP);
   \   000067                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000067   8E82         MOV     DPL,R6
   \   000069   8F83         MOV     DPH,R7
   \   00006B   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   00006E   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    578          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   000071   75....       MOV     ?V4,#`?<Constant " | ">` & 0xff
   \   000074   75....       MOV     ?V5,#(`?<Constant " | ">` >> 8) & 0xff
   \   000077                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000077   AA..         MOV     R2,?V4
   \   000079   AB..         MOV     R3,?V5
   \   00007B   7900         MOV     R1,#0x0
   \   00007D   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    579          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[0].dstEP);
   \   000080                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000080   8E82         MOV     DPL,R6
   \   000082   8F83         MOV     DPH,R7
   \   000084   A3           INC     DPTR
   \   000085   A3           INC     DPTR
   \   000086   A3           INC     DPTR
   \   000087   A3           INC     DPTR
   \   000088   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   00008B   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    580          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   00008E                ; Setup parameters for call to function UART_ZCmdPrint
   \   00008E   AA..         MOV     R2,?V0
   \   000090   AB..         MOV     R3,?V1
   \   000092   7900         MOV     R1,#0x0
   \   000094   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    581          
    582          		current_BindingTableEntry = GetBindingTableEntry( 1 );
   \   000097                ; Setup parameters for call to function GetBindingTableEntry
   \   000097   7A01         MOV     R2,#0x1
   \   000099   7B00         MOV     R3,#0x0
   \   00009B   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   00009E   8A..         MOV     ?V6,R2
   \   0000A0   8B..         MOV     ?V7,R3
   \   0000A2   AE..         MOV     R6,?V6
   \   0000A4   AF..         MOV     R7,?V7
    583          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 1: ");
   \   0000A6                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000A6   7A..         MOV     R2,#`?<Constant "Entry 1: ">` & 0xff
   \   0000A8   7B..         MOV     R3,#(`?<Constant "Entry 1: ">` >> 8) & 0xff
   \   0000AA   7900         MOV     R1,#0x0
   \   0000AC   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    584          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[1].srcEP);
   \   0000AF                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000AF   EE           MOV     A,R6
   \   0000B0   240E         ADD     A,#0xe
   \   0000B2   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   0000B5   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    585          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   0000B8                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000B8   AA..         MOV     R2,?V4
   \   0000BA   AB..         MOV     R3,?V5
   \   0000BC   7900         MOV     R1,#0x0
   \   0000BE   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    586          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[1].dstEP);
   \   0000C1                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000C1   EE           MOV     A,R6
   \   0000C2   2412         ADD     A,#0x12
   \   0000C4   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   0000C7   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    587          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   0000CA                ; Setup parameters for call to function UART_ZCmdPrint
   \   0000CA   AA..         MOV     R2,?V0
   \   0000CC   AB..         MOV     R3,?V1
   \   0000CE   7900         MOV     R1,#0x0
   \   0000D0   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    588          
    589          		current_BindingTableEntry = GetBindingTableEntry( 2 );
   \   0000D3                ; Setup parameters for call to function GetBindingTableEntry
   \   0000D3   7A02         MOV     R2,#0x2
   \   0000D5   7B00         MOV     R3,#0x0
   \   0000D7   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   0000DA   8A..         MOV     ?V6,R2
   \   0000DC   8B..         MOV     ?V7,R3
   \   0000DE   AE..         MOV     R6,?V6
   \   0000E0   AF..         MOV     R7,?V7
    590          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 2: ");
   \   0000E2                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000E2   7A..         MOV     R2,#`?<Constant "Entry 2: ">` & 0xff
   \   0000E4   7B..         MOV     R3,#(`?<Constant "Entry 2: ">` >> 8) & 0xff
   \   0000E6   7900         MOV     R1,#0x0
   \   0000E8   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    591          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[2].srcEP);
   \   0000EB                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000EB   EE           MOV     A,R6
   \   0000EC   241C         ADD     A,#0x1c
   \   0000EE   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   0000F1   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    592          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   0000F4                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000F4   AA..         MOV     R2,?V4
   \   0000F6   AB..         MOV     R3,?V5
   \   0000F8   7900         MOV     R1,#0x0
   \   0000FA   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    593          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[2].dstEP);
   \   0000FD                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000FD   EE           MOV     A,R6
   \   0000FE   2420         ADD     A,#0x20
   \   000100   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   000103   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    594          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   000106                ; Setup parameters for call to function UART_ZCmdPrint
   \   000106   AA..         MOV     R2,?V0
   \   000108   AB..         MOV     R3,?V1
   \   00010A   7900         MOV     R1,#0x0
   \   00010C   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    595          
    596          		current_BindingTableEntry = GetBindingTableEntry( 3 );
   \   00010F                ; Setup parameters for call to function GetBindingTableEntry
   \   00010F   7A03         MOV     R2,#0x3
   \   000111   7B00         MOV     R3,#0x0
   \   000113   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   000116   8A..         MOV     ?V6,R2
   \   000118   8B..         MOV     ?V7,R3
   \   00011A   AE..         MOV     R6,?V6
   \   00011C   AF..         MOV     R7,?V7
    597          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 3: ");
   \   00011E                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00011E   7A..         MOV     R2,#`?<Constant "Entry 3: ">` & 0xff
   \   000120   7B..         MOV     R3,#(`?<Constant "Entry 3: ">` >> 8) & 0xff
   \   000122   7900         MOV     R1,#0x0
   \   000124   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    598          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[3].srcEP);
   \   000127                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000127   EE           MOV     A,R6
   \   000128   242A         ADD     A,#0x2a
   \   00012A   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   00012D   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    599          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   000130                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000130   AA..         MOV     R2,?V4
   \   000132   AB..         MOV     R3,?V5
   \   000134   7900         MOV     R1,#0x0
   \   000136   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    600          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[3].dstEP);
   \   000139                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000139   EE           MOV     A,R6
   \   00013A   242E         ADD     A,#0x2e
   \   00013C   12....       LCALL   ?Subroutine12 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   00013F   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    601          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   000142                ; Setup parameters for call to function UART_ZCmdPrint
   \   000142   AA..         MOV     R2,?V0
   \   000144   AB..         MOV     R3,?V1
   \   000146   7900         MOV     R1,#0x0
   \   000148   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    602          		
    603          	}
    604          	
    605            if ( keys & HAL_KEY_SW_8 ) //~ SW3 on board
   \                     ??zclSampleThermostat_HandleKeys_0:
   \   00014B   E5..         MOV     A,?V2
   \   00014D   A2E7         MOV     C,0xE0 /* A   */.7
   \   00014F   4003         JC      $+5
   \   000151   02....       LJMP    ??zclSampleThermostat_HandleKeys_1 & 0xFFFF
    606            {
    607            	UART_DebugPrint(HAL_UART_PORT_0, "SW8");
   \   000154                ; Setup parameters for call to function UART_DebugPrint
   \   000154   7A..         MOV     R2,#`?<Constant "SW8">` & 0xff
   \   000156   7B..         MOV     R3,#(`?<Constant "SW8">` >> 8) & 0xff
   \   000158   7900         MOV     R1,#0x0
   \   00015A   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    608              if ( ( giThermostatScreenMode == THERMOSTAT_MAINMODE ) ||
    609                   ( giThermostatScreenMode == THERMOSTAT_HELPMODE ) )
   \   00015D   90....       MOV     DPTR,#giThermostatScreenMode
   \   000160   E0           MOVX    A,@DPTR
   \   000161   6004         JZ      ??zclSampleThermostat_HandleKeys_2
   \   000163   6401         XRL     A,#0x1
   \   000165   7072         JNZ     ??zclSampleThermostat_HandleKeys_1
    610              {
    611                giThermostatScreenMode = THERMOSTAT_MAINMODE;
   \                     ??zclSampleThermostat_HandleKeys_2:
   \   000167   E4           CLR     A
   \   000168   F0           MOVX    @DPTR,A
    612          
    613          			FLAG_BINDING = !FLAG_BINDING;
   \   000169   90....       MOV     DPTR,#FLAG_BINDING
   \   00016C   E0           MOVX    A,@DPTR
   \   00016D   7004         JNZ     ??zclSampleThermostat_HandleKeys_3
   \   00016F   7401         MOV     A,#0x1
   \   000171   8001         SJMP    ??zclSampleThermostat_HandleKeys_4
   \                     ??zclSampleThermostat_HandleKeys_3:
   \   000173   E4           CLR     A
   \                     ??zclSampleThermostat_HandleKeys_4:
   \   000174   F0           MOVX    @DPTR,A
    614          			FLAG_HARD_BINDING = !FLAG_HARD_BINDING;
   \   000175   90....       MOV     DPTR,#FLAG_HARD_BINDING
   \   000178   E0           MOVX    A,@DPTR
   \   000179   7004         JNZ     ??zclSampleThermostat_HandleKeys_5
   \   00017B   7401         MOV     A,#0x1
   \   00017D   8001         SJMP    ??zclSampleThermostat_HandleKeys_6
   \                     ??zclSampleThermostat_HandleKeys_5:
   \   00017F   E4           CLR     A
   \                     ??zclSampleThermostat_HandleKeys_6:
   \   000180   12....       LCALL   ?Subroutine7 & 0xFFFF
    615          
    616          			#ifdef ZCL_EZMODE
    617                zclEZMode_InvokeData_t ezModeData;
    618                static uint16 clusterIDs[] = { ZCL_CLUSTER_ID_HVAC_THERMOSTAT };   // only bind on the Thermostat cluster
    619          
    620                // Invoke EZ-Mode
    621                ezModeData.endpoint = SAMPLETHERMOSTAT_ENDPOINT; // endpoint on which to invoke EZ-Mode
    622                if ( ( zclSampleThermostat_NwkState == DEV_ZB_COORD ) ||
    623                     ( zclSampleThermostat_NwkState == DEV_ROUTER )   ||
    624                     ( zclSampleThermostat_NwkState == DEV_END_DEVICE ) )
   \                     ??CrossCallReturnLabel_3:
   \   000183   600A         JZ      ??zclSampleThermostat_HandleKeys_7
   \   000185   E0           MOVX    A,@DPTR
   \   000186   6407         XRL     A,#0x7
   \   000188   6005         JZ      ??zclSampleThermostat_HandleKeys_7
   \   00018A   E0           MOVX    A,@DPTR
   \   00018B   6406         XRL     A,#0x6
   \   00018D   7009         JNZ     ??zclSampleThermostat_HandleKeys_8
    625                {
    626                  ezModeData.onNetwork = TRUE;      // node is already on the network
   \                     ??zclSampleThermostat_HandleKeys_7:
   \   00018F   7401         MOV     A,#0x1
   \   000191   12....       LCALL   ?XSTACK_DISP0_8
   \   000194   7401         MOV     A,#0x1
   \   000196   8006         SJMP    ??zclSampleThermostat_HandleKeys_9
    627                }
    628                else
    629                {
    630                  ezModeData.onNetwork = FALSE;     // node is not yet on the network
   \                     ??zclSampleThermostat_HandleKeys_8:
   \   000198   7401         MOV     A,#0x1
   \   00019A   12....       LCALL   ?XSTACK_DISP0_8
   \   00019D   E4           CLR     A
   \                     ??zclSampleThermostat_HandleKeys_9:
   \   00019E   F0           MOVX    @DPTR,A
    631                }
    632                ezModeData.initiator = TRUE;        // Thermostat is an initiator
   \   00019F   7402         MOV     A,#0x2
   \   0001A1   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A4   7401         MOV     A,#0x1
   \   0001A6   F0           MOVX    @DPTR,A
    633                ezModeData.numActiveInClusters = 0;
   \   0001A7   7403         MOV     A,#0x3
   \   0001A9   12....       LCALL   ?XSTACK_DISP0_8
   \   0001AC   E4           CLR     A
   \   0001AD   F0           MOVX    @DPTR,A
    634                ezModeData.pActiveInClusterIDs = NULL;
   \   0001AE   7404         MOV     A,#0x4
   \   0001B0   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B3   E4           CLR     A
   \   0001B4   F0           MOVX    @DPTR,A
   \   0001B5   A3           INC     DPTR
   \   0001B6   F0           MOVX    @DPTR,A
    635                ezModeData.numActiveOutClusters = 1;   // active output cluster
   \   0001B7   7406         MOV     A,#0x6
   \   0001B9   12....       LCALL   ?XSTACK_DISP0_8
   \   0001BC   7401         MOV     A,#0x1
   \   0001BE   F0           MOVX    @DPTR,A
    636                ezModeData.pActiveOutClusterIDs = clusterIDs;
   \   0001BF   7407         MOV     A,#0x7
   \   0001C1   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C4   74..         MOV     A,#??clusterIDs & 0xff
   \   0001C6   F0           MOVX    @DPTR,A
   \   0001C7   A3           INC     DPTR
   \   0001C8   74..         MOV     A,#(??clusterIDs >> 8) & 0xff
   \   0001CA   12....       LCALL   ??Subroutine32_0 & 0xFFFF
    637                zcl_InvokeEZMode( &ezModeData );
   \                     ??CrossCallReturnLabel_55:
   \   0001CD   12....       LCALL   `??zcl_InvokeEZMode::?relay`; Banked call to: zcl_InvokeEZMode
    638          
    639          			#ifdef LCD_SUPPORTED
    640                HalLcdWriteString( "EZMode", HAL_LCD_LINE_2 );
   \   0001D0                ; Setup parameters for call to function HalLcdWriteString
   \   0001D0   7902         MOV     R1,#0x2
   \   0001D2   7A..         MOV     R2,#`?<Constant "EZMode">` & 0xff
   \   0001D4   7B..         MOV     R3,#(`?<Constant "EZMode">` >> 8) & 0xff
   \   0001D6   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    641          			#endif
    642          
    643                // NOT ZCL_EZMODE, use EndDeviceBind
    644          			#else
    645                zAddrType_t dstAddr;
    646                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
    647          
    648                // Initiate an End Device Bind Request, this bind request will
    649                // only use a cluster list that is important to binding.
    650                dstAddr.addrMode = afAddr16Bit;
    651                dstAddr.addr.shortAddr = 0;   // Coordinator makes the match
    652                ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
    653                                      SAMPLETHERMOSTAT_ENDPOINT,
    654                                      ZCL_HA_PROFILE_ID,
    655                                      ZCLSAMPLETHERMOSTAT_BINDINGLIST_IN, bindingInClusters,
    656                                      ZCLSAMPLETHERMOSTAT_BINDINGLIST_OUT, bindingOutClusters,
    657                                      TRUE );
    658          			#endif // ZCL_EZMODE
    659              }
    660            }
    661          
    662            if ( keys & HAL_KEY_SW_4 )
   \                     ??zclSampleThermostat_HandleKeys_1:
   \   0001D9   E5..         MOV     A,?V2
   \   0001DB   A2E3         MOV     C,0xE0 /* A   */.3
   \   0001DD   5041         JNC     ??zclSampleThermostat_HandleKeys_10
    663            {
    664              giThermostatScreenMode = THERMOSTAT_MAINMODE;
   \   0001DF   90....       MOV     DPTR,#giThermostatScreenMode
   \   0001E2   E4           CLR     A
   \   0001E3   F0           MOVX    @DPTR,A
    665          
    666              if ( ( zclSampleThermostat_NwkState == DEV_ZB_COORD ) ||
    667                   ( zclSampleThermostat_NwkState == DEV_ROUTER ) )
   \   0001E4   90....       MOV     DPTR,#zclSampleThermostat_NwkState
   \   0001E7   E0           MOVX    A,@DPTR
   \   0001E8   6409         XRL     A,#0x9
   \   0001EA   6005         JZ      ??zclSampleThermostat_HandleKeys_11
   \   0001EC   E0           MOVX    A,@DPTR
   \   0001ED   6407         XRL     A,#0x7
   \   0001EF   702F         JNZ     ??zclSampleThermostat_HandleKeys_10
    668              {
    669                zAddrType_t tmpAddr;
    670          
    671                tmpAddr.addrMode = Addr16Bit;
   \                     ??zclSampleThermostat_HandleKeys_11:
   \   0001F1   7408         MOV     A,#0x8
   \   0001F3   12....       LCALL   ?XSTACK_DISP0_8
   \   0001F6   7402         MOV     A,#0x2
   \   0001F8   F0           MOVX    @DPTR,A
    672                tmpAddr.addr.shortAddr = NLME_GetShortAddr();
   \   0001F9                ; Setup parameters for call to function NLME_GetShortAddr
   \   0001F9   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   0001FC   85..82       MOV     DPL,?XSP + 0
   \   0001FF   85..83       MOV     DPH,?XSP + 1
   \   000202   EA           MOV     A,R2
   \   000203   F0           MOVX    @DPTR,A
   \   000204   A3           INC     DPTR
   \   000205   EB           MOV     A,R3
   \   000206   F0           MOVX    @DPTR,A
    673          
    674                // toggle permit join
    675                gPermitDuration = gPermitDuration ? 0 : 0xff;
   \   000207   90....       MOV     DPTR,#gPermitDuration
   \   00020A   E0           MOVX    A,@DPTR
   \   00020B   6003         JZ      ??zclSampleThermostat_HandleKeys_12
   \   00020D   E4           CLR     A
   \   00020E   8002         SJMP    ??zclSampleThermostat_HandleKeys_13
   \                     ??zclSampleThermostat_HandleKeys_12:
   \   000210   74FF         MOV     A,#-0x1
   \                     ??zclSampleThermostat_HandleKeys_13:
   \   000212   F0           MOVX    @DPTR,A
    676          
    677                // Trust Center significance is always true
    678                ZDP_MgmtPermitJoinReq( &tmpAddr, gPermitDuration, TRUE, FALSE );
   \   000213                ; Setup parameters for call to function ZDP_MgmtPermitJoinReq
   \   000213   7D00         MOV     R5,#0x0
   \   000215   7C01         MOV     R4,#0x1
   \   000217   E0           MOVX    A,@DPTR
   \   000218   F9           MOV     R1,A
   \   000219   AA..         MOV     R2,?XSP + 0
   \   00021B   AB..         MOV     R3,?XSP + 1
   \   00021D   12....       LCALL   `??ZDP_MgmtPermitJoinReq::?relay`; Banked call to: ZDP_MgmtPermitJoinReq
    679              }
    680            }
    681          
    682            if ( shift && ( keys & HAL_KEY_SW_5 ) )
   \                     ??zclSampleThermostat_HandleKeys_10:
   \   000220   E5..         MOV     A,?V3
   \   000222   600B         JZ      ??zclSampleThermostat_HandleKeys_14
   \   000224   E5..         MOV     A,?V2
   \   000226   A2E2         MOV     C,0xE0 /* A   */.2
   \   000228   5005         JNC     ??zclSampleThermostat_HandleKeys_14
    683            {
    684              zclSampleThermostat_BasicResetCB();
   \   00022A                ; Setup parameters for call to function zclSampleThermostat_BasicResetCB
   \   00022A   12....       LCALL   `??zclSampleThermostat_BasicResetCB::?relay`; Banked call to: zclSampleThermostat_BasicResetCB
   \   00022D   803C         SJMP    ??zclSampleThermostat_HandleKeys_15
    685            }
    686            else if ( keys & HAL_KEY_SW_5 )
    687            {
    688              if ( keys & HAL_KEY_SW_5 )
   \                     ??zclSampleThermostat_HandleKeys_14:
   \   00022F   E5..         MOV     A,?V2
   \   000231   A2E2         MOV     C,0xE0 /* A   */.2
   \   000233   5036         JNC     ??zclSampleThermostat_HandleKeys_15
    689              {
    690                // in heating or cooling setpoint mode
    691                if ( giThermostatScreenMode == THERMOSTAT_HEATMODE )
   \   000235   90....       MOV     DPTR,#giThermostatScreenMode
   \   000238   E0           MOVX    A,@DPTR
   \   000239   6402         XRL     A,#0x2
   \   00023B   7008         JNZ     ??zclSampleThermostat_HandleKeys_16
    692                {
    693          				#ifdef LCD_SUPPORTED
    694                  // save current heat setpoint temperature
    695                  HalLcdWriteString( (char *)sStoreHeatTemp, HAL_LCD_LINE_2 );
   \   00023D                ; Setup parameters for call to function HalLcdWriteString
   \   00023D   7902         MOV     R1,#0x2
   \   00023F   7A..         MOV     R2,#sStoreHeatTemp & 0xff
   \   000241   7B..         MOV     R3,#(sStoreHeatTemp >> 8) & 0xff
   \   000243   801E         SJMP    ??zclSampleThermostat_HandleKeys_17
    696          				#endif
    697                  giThermostatScreenMode = THERMOSTAT_MAINMODE;
    698                }
    699                else if ( giThermostatScreenMode == THERMOSTAT_COOLMODE )
   \                     ??zclSampleThermostat_HandleKeys_16:
   \   000245   E0           MOVX    A,@DPTR
   \   000246   6403         XRL     A,#0x3
   \   000248   7008         JNZ     ??zclSampleThermostat_HandleKeys_18
    700                {
    701          				#ifdef LCD_SUPPORTED
    702                  // save current cool setpoint temperature
    703                  HalLcdWriteString( (char *)sStoreCoolTemp, HAL_LCD_LINE_2 );
   \   00024A                ; Setup parameters for call to function HalLcdWriteString
   \   00024A   7902         MOV     R1,#0x2
   \   00024C   7A..         MOV     R2,#sStoreCoolTemp & 0xff
   \   00024E   7B..         MOV     R3,#(sStoreCoolTemp >> 8) & 0xff
   \   000250   8011         SJMP    ??zclSampleThermostat_HandleKeys_17
    704          				#endif
    705                  giThermostatScreenMode = THERMOSTAT_MAINMODE;
    706                }
    707                else if ( giThermostatScreenMode == THERMOSTAT_MAINMODE )
   \                     ??zclSampleThermostat_HandleKeys_18:
   \   000252   E0           MOVX    A,@DPTR
   \   000253   7004         JNZ     ??zclSampleThermostat_HandleKeys_19
    708                {
    709                  giThermostatScreenMode = THERMOSTAT_HELPMODE;
   \   000255   7401         MOV     A,#0x1
   \   000257   8011         SJMP    ??zclSampleThermostat_HandleKeys_20
    710                }
    711                else if ( giThermostatScreenMode == THERMOSTAT_HELPMODE )
   \                     ??zclSampleThermostat_HandleKeys_19:
   \   000259   6401         XRL     A,#0x1
   \   00025B   700E         JNZ     ??zclSampleThermostat_HandleKeys_15
    712                {
    713          				#ifdef LCD_SUPPORTED
    714                  HalLcdWriteString( (char *)sClearLine, HAL_LCD_LINE_2 );
   \   00025D                ; Setup parameters for call to function HalLcdWriteString
   \   00025D   7902         MOV     R1,#0x2
   \   00025F   7A..         MOV     R2,#sClearLine & 0xff
   \   000261   7B..         MOV     R3,#(sClearLine >> 8) & 0xff
   \                     ??zclSampleThermostat_HandleKeys_17:
   \   000263   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    715          				#endif
    716                  giThermostatScreenMode = THERMOSTAT_MAINMODE;
   \   000266   90....       MOV     DPTR,#giThermostatScreenMode
   \   000269   E4           CLR     A
   \                     ??zclSampleThermostat_HandleKeys_20:
   \   00026A   F0           MOVX    @DPTR,A
    717                }
    718              }
    719            }
    720          
    721            // update display
    722            zclSampleThermostat_LcdDisplayUpdate();
   \                     ??zclSampleThermostat_HandleKeys_15:
   \   00026B                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayUpdate
   \   00026B   12....       LCALL   `??zclSampleThermostat_LcdDisplayUpdate::?relay`; Banked call to: zclSampleThermostat_LcdDisplayUpdate
    723          }
   \   00026E   740D         MOV     A,#0xd
   \   000270   12....       LCALL   ?DEALLOC_XSTACK8
   \   000273   7F08         MOV     R7,#0x8
   \   000275   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine37_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   AA..         MOV     R2,?V0
   \   000007   FB           MOV     R3,A
   \   000008   E4           CLR     A
   \   000009   FC           MOV     R4,A
   \   00000A   FD           MOV     R5,A
   \   00000B   F9           MOV     R1,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   3F           ADDC    A,R7
   \   000004   F583         MOV     DPH,A
   \   000006                REQUIRE ??Subroutine38_0
   \   000006                ; // Fall through to label ??Subroutine38_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine38_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   E4           CLR     A
   \   000003   FB           MOV     R3,A
   \   000004   FC           MOV     R4,A
   \   000005   FD           MOV     R5,A
   \   000006   F9           MOV     R1,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   12....       LCALL   ?Subroutine27 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   000003   7401         MOV     A,#0x1
   \   000005   F0           MOVX    @DPTR,A
   \   000006   90....       MOV     DPTR,#zclSampleThermostat_NwkState
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   6409         XRL     A,#0x9
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     ??clusterIDs:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for clusterIDs>`
   \   000002                REQUIRE __INIT_XDATA_I
    724          
    725          /*********************************************************************
    726           * @fn      zclSampleThermostat_LcdDisplayUpdate
    727           *
    728           * @brief   Called to update the LCD display.
    729           *
    730           * @param   none
    731           *
    732           * @return  none
    733           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    734          void zclSampleThermostat_LcdDisplayUpdate( void )
   \                     zclSampleThermostat_LcdDisplayUpdate:
    735          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    736            // use LEDs to show heating or cooling cycles based off local temperature
    737            if ( zclSampleThermostat_LocalTemperature != NULL )
   \   000004   90....       MOV     DPTR,#zclSampleThermostat_LocalTemperature
   \   000007   12....       LCALL   ??Subroutine31_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   00000A   602C         JZ      ??zclSampleThermostat_LcdDisplayUpdate_0
    738            {
    739              if ( zclSampleThermostat_LocalTemperature <= zclSampleThermostat_OccupiedHeatingSetpoint )
   \   00000C   7583..       MOV     DPH,#(zclSampleThermostat_OccupiedHeatingSetpoint >> 8) & 0xff
   \   00000F   7582..       MOV     DPL,#zclSampleThermostat_OccupiedHeatingSetpoint & 0xff
   \   000012   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   000015   4007         JC      ??zclSampleThermostat_LcdDisplayUpdate_1
    740              {
    741                // turn on heating
    742                zclSampleThermostat_SystemMode = HVAC_THERMOSTAT_SYSTEM_MODE_HEAT;
   \   000017   90....       MOV     DPTR,#zclSampleThermostat_SystemMode
   \   00001A   7404         MOV     A,#0x4
   \   00001C   8019         SJMP    ??zclSampleThermostat_LcdDisplayUpdate_2
    743          //      HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
    744          //      HalLedSet ( HAL_LED_2, HAL_LED_MODE_ON );
    745              }
    746              else if ( zclSampleThermostat_LocalTemperature >= zclSampleThermostat_OccupiedCoolingSetpoint )
   \                     ??zclSampleThermostat_LcdDisplayUpdate_1:
   \   00001E   90....       MOV     DPTR,#zclSampleThermostat_OccupiedCoolingSetpoint
   \   000021   12....       LCALL   ??Subroutine35_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000024   7583..       MOV     DPH,#(zclSampleThermostat_LocalTemperature >> 8) & 0xff
   \   000027   7582..       MOV     DPL,#zclSampleThermostat_LocalTemperature & 0xff
   \   00002A   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   00002D   90....       MOV     DPTR,#zclSampleThermostat_SystemMode
   \   000030   4004         JC      ??zclSampleThermostat_LcdDisplayUpdate_3
    747              {
    748                // turn on cooling
    749                zclSampleThermostat_SystemMode = HVAC_THERMOSTAT_SYSTEM_MODE_COOL;
   \   000032   7403         MOV     A,#0x3
   \   000034   8001         SJMP    ??zclSampleThermostat_LcdDisplayUpdate_2
    750          //      HalLedSet ( HAL_LED_1, HAL_LED_MODE_ON );
    751          //      HalLedSet ( HAL_LED_2, HAL_LED_MODE_OFF );
    752              }
    753              else
    754              {
    755                // turn off heating/cooling
    756                zclSampleThermostat_SystemMode = HVAC_THERMOSTAT_SYSTEM_MODE_OFF;
   \                     ??zclSampleThermostat_LcdDisplayUpdate_3:
   \   000036   E4           CLR     A
   \                     ??zclSampleThermostat_LcdDisplayUpdate_2:
   \   000037   F0           MOVX    @DPTR,A
    757          //      HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
    758          //      HalLedSet ( HAL_LED_2, HAL_LED_MODE_OFF );
    759              }
    760            }
    761          
    762            if ( giThermostatScreenMode == THERMOSTAT_HEATMODE )
   \                     ??zclSampleThermostat_LcdDisplayUpdate_0:
   \   000038   90....       MOV     DPTR,#giThermostatScreenMode
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   6402         XRL     A,#0x2
   \   00003E   7005         JNZ     ??zclSampleThermostat_LcdDisplayUpdate_4
    763            {
    764              zclSampleThermostat_LcdDisplayHeatMode();
   \   000040                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayHeatMode
   \   000040   12....       LCALL   `??zclSampleThermostat_LcdDisplayHeatMode::?rela`; Banked call to: zclSampleThermostat_LcdDisplayHeatMode
   \   000043   8017         SJMP    ??zclSampleThermostat_LcdDisplayUpdate_5
    765            }
    766            else if ( giThermostatScreenMode == THERMOSTAT_COOLMODE )
   \                     ??zclSampleThermostat_LcdDisplayUpdate_4:
   \   000045   E0           MOVX    A,@DPTR
   \   000046   6403         XRL     A,#0x3
   \   000048   7005         JNZ     ??zclSampleThermostat_LcdDisplayUpdate_6
    767            {
    768              zclSampleThermostat_LcdDisplayCoolMode();
   \   00004A                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayCoolMode
   \   00004A   12....       LCALL   `??zclSampleThermostat_LcdDisplayCoolMode::?rela`; Banked call to: zclSampleThermostat_LcdDisplayCoolMode
   \   00004D   800D         SJMP    ??zclSampleThermostat_LcdDisplayUpdate_5
    769            }
    770            else if ( giThermostatScreenMode == THERMOSTAT_HELPMODE )
   \                     ??zclSampleThermostat_LcdDisplayUpdate_6:
   \   00004F   E0           MOVX    A,@DPTR
   \   000050   6401         XRL     A,#0x1
   \   000052   7005         JNZ     ??zclSampleThermostat_LcdDisplayUpdate_7
    771            {
    772              zclSampleThermostat_LcdDisplayHelpMode();
   \   000054                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayHelpMode
   \   000054   12....       LCALL   `??zclSampleThermostat_LcdDisplayHelpMode::?rela`; Banked call to: zclSampleThermostat_LcdDisplayHelpMode
   \   000057   8003         SJMP    ??zclSampleThermostat_LcdDisplayUpdate_5
    773            }
    774            else
    775            {
    776              zclSampleThermostat_LcdDisplayMainMode();
   \                     ??zclSampleThermostat_LcdDisplayUpdate_7:
   \   000059                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayMainMode
   \   000059   12....       LCALL   `??zclSampleThermostat_LcdDisplayMainMode::?rela`; Banked call to: zclSampleThermostat_LcdDisplayMainMode
    777            }
    778          }
   \                     ??zclSampleThermostat_LcdDisplayUpdate_5:
   \   00005C   02....       LJMP    ??Subroutine33_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   C3           CLR     C
   \   000001   E0           MOVX    A,@DPTR
   \   000002   98           SUBB    A,R0
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   99           SUBB    A,R1
   \   000006   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000008   65D0         XRL     A,PSW
   \   00000A   33           RLC     A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine33_0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine35_0:
   \   000000   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   000003   22           RET
    779          
    780          /*********************************************************************
    781           * @fn      zclSampleThermostat_LcdDisplayMainMode
    782           *
    783           * @brief   Called to display the main screen on the LCD.
    784           *
    785           * @param   none
    786           *
    787           * @return  none
    788           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    789          void zclSampleThermostat_LcdDisplayMainMode( void )
   \                     zclSampleThermostat_LcdDisplayMainMode:
    790          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 16
   \   000005   74F0         MOV     A,#-0x10
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    791            char sDisplayTemp[16];
    792          
    793            if ( zclSampleThermostat_NwkState == DEV_ZB_COORD )
   \   00000A   90....       MOV     DPTR,#zclSampleThermostat_NwkState
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   6409         XRL     A,#0x9
   \   000010   7004         JNZ     ??zclSampleThermostat_LcdDisplayMainMode_0
    794            {
    795              zclHA_LcdStatusLine1( 0 );
   \   000012                ; Setup parameters for call to function zclHA_LcdStatusLine1
   \   000012   7900         MOV     R1,#0x0
   \   000014   8010         SJMP    ??zclSampleThermostat_LcdDisplayMainMode_1
    796            }
    797            else if ( zclSampleThermostat_NwkState == DEV_ROUTER )
   \                     ??zclSampleThermostat_LcdDisplayMainMode_0:
   \   000016   E0           MOVX    A,@DPTR
   \   000017   6407         XRL     A,#0x7
   \   000019   7004         JNZ     ??zclSampleThermostat_LcdDisplayMainMode_2
    798            {
    799              zclHA_LcdStatusLine1( 1 );
   \   00001B                ; Setup parameters for call to function zclHA_LcdStatusLine1
   \   00001B   7901         MOV     R1,#0x1
   \   00001D   8007         SJMP    ??zclSampleThermostat_LcdDisplayMainMode_1
    800            }
    801            else if ( zclSampleThermostat_NwkState == DEV_END_DEVICE )
   \                     ??zclSampleThermostat_LcdDisplayMainMode_2:
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   6406         XRL     A,#0x6
   \   000022   7005         JNZ     ??zclSampleThermostat_LcdDisplayMainMode_3
    802            {
    803              zclHA_LcdStatusLine1( 2 );
   \   000024                ; Setup parameters for call to function zclHA_LcdStatusLine1
   \   000024   7902         MOV     R1,#0x2
   \                     ??zclSampleThermostat_LcdDisplayMainMode_1:
   \   000026   12....       LCALL   `??zclHA_LcdStatusLine1::?relay`; Banked call to: zclHA_LcdStatusLine1
    804            }
    805          
    806            osal_memcpy( sDisplayTemp, "TEMP: ", 6 );
   \                     ??zclSampleThermostat_LcdDisplayMainMode_3:
   \   000029                ; Setup parameters for call to function osal_memcpy
   \   000029   75....       MOV     ?V0,#`?<Constant "TEMP: ">` & 0xff
   \   00002C   75....       MOV     ?V1,#(`?<Constant "TEMP: ">` >> 8) & 0xff
   \   00002F   75..00       MOV     ?V2,#0x0
   \   000032   78..         MOV     R0,#?V0
   \   000034   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000037   7C06         MOV     R4,#0x6
   \   000039   7D00         MOV     R5,#0x0
   \   00003B   7403         MOV     A,#0x3
   \   00003D   12....       LCALL   ?XSTACK_DISP101_8
   \   000040   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000043   7403         MOV     A,#0x3
   \   000045   12....       LCALL   ?DEALLOC_XSTACK8
    807          
    808            // if local temperature has not been set, make note on display
    809            if ( zclSampleThermostat_LocalTemperature == NULL )
   \   000048   90....       MOV     DPTR,#zclSampleThermostat_LocalTemperature
   \   00004B   12....       LCALL   ??Subroutine31_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   00004E   7013         JNZ     ??zclSampleThermostat_LcdDisplayMainMode_4
    810            {
    811              osal_memcpy( &sDisplayTemp[6], "N/A", 4 );
   \   000050                ; Setup parameters for call to function osal_memcpy
   \   000050   75....       MOV     ?V0,#`?<Constant "N/A">` & 0xff
   \   000053   75....       MOV     ?V1,#(`?<Constant "N/A">` >> 8) & 0xff
   \   000056   78..         MOV     R0,#?V0
   \   000058   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00005B   7C04         MOV     R4,#0x4
   \   00005D   7D00         MOV     R5,#0x0
   \   00005F   7409         MOV     A,#0x9
   \   000061   803D         SJMP    ??zclSampleThermostat_LcdDisplayMainMode_5
    812            }
    813            else
    814            {
    815              _ltoa( ( zclSampleThermostat_LocalTemperature / 100 ), (void *)(&sDisplayTemp[6]), 10 ); // only use whole number
   \                     ??zclSampleThermostat_LcdDisplayMainMode_4:
   \   000063                ; Setup parameters for call to function _ltoa
   \   000063   7406         MOV     A,#0x6
   \   000065   12....       LCALL   ?XSTACK_DISP0_8
   \   000068   8582..       MOV     ?V0,DPL
   \   00006B   8583..       MOV     ?V1,DPH
   \   00006E   78..         MOV     R0,#?V0
   \   000070   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000073   90....       MOV     DPTR,#zclSampleThermostat_LocalTemperature
   \   000076   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   000079   12....       LCALL   ?S_DIV_MOD
   \   00007C   E8           MOV     A,R0
   \   00007D   FA           MOV     R2,A
   \   00007E   E9           MOV     A,R1
   \   00007F   FB           MOV     R3,A
   \   000080   33           RLC     A
   \   000081   95E0         SUBB    A,0xE0 /* A   */
   \   000083   FC           MOV     R4,A
   \   000084   FD           MOV     R5,A
   \   000085   790A         MOV     R1,#0xa
   \   000087   12....       LCALL   `??_ltoa::?relay`    ; Banked call to: _ltoa
   \   00008A   7402         MOV     A,#0x2
   \   00008C   12....       LCALL   ?DEALLOC_XSTACK8
    816              osal_memcpy( &sDisplayTemp[8], "C", 2 );
   \   00008F                ; Setup parameters for call to function osal_memcpy
   \   00008F   75....       MOV     ?V0,#`?<Constant "C">` & 0xff
   \   000092   75....       MOV     ?V1,#(`?<Constant "C">` >> 8) & 0xff
   \   000095   78..         MOV     R0,#?V0
   \   000097   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00009A   7C02         MOV     R4,#0x2
   \   00009C   7D00         MOV     R5,#0x0
   \   00009E   740B         MOV     A,#0xb
   \                     ??zclSampleThermostat_LcdDisplayMainMode_5:
   \   0000A0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A3   AA82         MOV     R2,DPL
   \   0000A5   AB83         MOV     R3,DPH
   \   0000A7   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000AA   7403         MOV     A,#0x3
   \   0000AC   12....       LCALL   ?DEALLOC_XSTACK8
    817            }
    818          #ifdef LCD_SUPPORTED
    819            // display current temperature
    820            HalLcdWriteString( (char *)sDisplayTemp, HAL_LCD_LINE_2 );
   \   0000AF                ; Setup parameters for call to function HalLcdWriteString
   \   0000AF   7902         MOV     R1,#0x2
   \   0000B1   AA..         MOV     R2,?XSP + 0
   \   0000B3   AB..         MOV     R3,?XSP + 1
   \   0000B5   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    821          #endif
    822          
    823          #ifdef LCD_SUPPORTED
    824            if ( ( zclSampleThermostat_NwkState == DEV_ZB_COORD ) ||
    825                 ( zclSampleThermostat_NwkState == DEV_ROUTER ) )
   \   0000B8   90....       MOV     DPTR,#zclSampleThermostat_NwkState
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   6409         XRL     A,#0x9
   \   0000BE   6005         JZ      ??zclSampleThermostat_LcdDisplayMainMode_6
   \   0000C0   E0           MOVX    A,@DPTR
   \   0000C1   6407         XRL     A,#0x7
   \   0000C3   7014         JNZ     ??zclSampleThermostat_LcdDisplayMainMode_7
    826            {
    827              // display help key with permit join status
    828              if ( gPermitDuration )
   \                     ??zclSampleThermostat_LcdDisplayMainMode_6:
   \   0000C5   90....       MOV     DPTR,#gPermitDuration
   \   0000C8   E0           MOVX    A,@DPTR
   \   0000C9   7903         MOV     R1,#0x3
   \   0000CB   6006         JZ      ??zclSampleThermostat_LcdDisplayMainMode_8
    829              {
    830                HalLcdWriteString( "SW5: Help      *", HAL_LCD_LINE_3 );
   \   0000CD                ; Setup parameters for call to function HalLcdWriteString
   \   0000CD   7A..         MOV     R2,#`?<Constant "SW5: Help      *">` & 0xff
   \   0000CF   7B..         MOV     R3,#(`?<Constant "SW5: Help      *">` >> 8) & 0xff
   \   0000D1   800C         SJMP    ??zclSampleThermostat_LcdDisplayMainMode_9
    831              }
    832              else
    833              {
    834                HalLcdWriteString( "SW5: Help       ", HAL_LCD_LINE_3 );
   \                     ??zclSampleThermostat_LcdDisplayMainMode_8:
   \   0000D3                ; Setup parameters for call to function HalLcdWriteString
   \   0000D3   7A..         MOV     R2,#`?<Constant "SW5: Help       ">` & 0xff
   \   0000D5   7B..         MOV     R3,#(`?<Constant "SW5: Help       ">` >> 8) & 0xff
   \   0000D7   8006         SJMP    ??zclSampleThermostat_LcdDisplayMainMode_9
    835              }
    836            }
    837            else
    838            {
    839              // display help key
    840              HalLcdWriteString( (char *)sSwHelp, HAL_LCD_LINE_3);
   \                     ??zclSampleThermostat_LcdDisplayMainMode_7:
   \   0000D9                ; Setup parameters for call to function HalLcdWriteString
   \   0000D9   7903         MOV     R1,#0x3
   \   0000DB   7A..         MOV     R2,#sSwHelp & 0xff
   \   0000DD   7B..         MOV     R3,#(sSwHelp >> 8) & 0xff
    841            }
   \                     ??zclSampleThermostat_LcdDisplayMainMode_9:
   \   0000DF   02....       LJMP    ??Subroutine34_0 & 0xFFFF
    842          #endif
    843          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine34_0:
   \   000000   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   \   000003   7410         MOV     A,#0x10
   \   000005   12....       LCALL   ?DEALLOC_XSTACK8
   \   000008   7F03         MOV     R7,#0x3
   \   00000A   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   000003   7A64         MOV     R2,#0x64
   \   000005   7B00         MOV     R3,#0x0
   \   000007   22           RET
    844          
    845          /*********************************************************************
    846           * @fn      zclSampleThermostat_LcdDisplayHelpMode
    847           *
    848           * @brief   Called to display the SW options on the LCD.
    849           *
    850           * @param   none
    851           *
    852           * @return  none
    853           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    854          void zclSampleThermostat_LcdDisplayHelpMode( void )
   \                     zclSampleThermostat_LcdDisplayHelpMode:
    855          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    856          #ifdef LCD_SUPPORTED
    857            HalLcdWriteString( (char *)sSwHeatSet, HAL_LCD_LINE_1 );
   \   000004                ; Setup parameters for call to function HalLcdWriteString
   \   000004   7901         MOV     R1,#0x1
   \   000006   7A..         MOV     R2,#sSwHeatSet & 0xff
   \   000008   7B..         MOV     R3,#(sSwHeatSet >> 8) & 0xff
   \   00000A   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    858            HalLcdWriteString( (char *)sSwEZMode, HAL_LCD_LINE_2 );
   \   00000D                ; Setup parameters for call to function HalLcdWriteString
   \   00000D   7902         MOV     R1,#0x2
   \   00000F   7A..         MOV     R2,#sSwEZMode & 0xff
   \   000011   7B..         MOV     R3,#(sSwEZMode >> 8) & 0xff
   \   000013   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    859            HalLcdWriteString( (char *)sSwCoolSet, HAL_LCD_LINE_3 );
   \   000016                ; Setup parameters for call to function HalLcdWriteString
   \   000016   7903         MOV     R1,#0x3
   \   000018   7A..         MOV     R2,#sSwCoolSet & 0xff
   \   00001A   7B..         MOV     R3,#(sSwCoolSet >> 8) & 0xff
   \   00001C   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    860          #endif
    861          }
   \   00001F   80..         SJMP    ??Subroutine33_0
    862          
    863          /*********************************************************************
    864           * @fn      zclSampleThermostat_LcdDisplayHeatMode
    865           *
    866           * @brief   Called to display the heating setpoint temperature on the LCD.
    867           *
    868           * @param   none
    869           *
    870           * @return  none
    871           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    872          void zclSampleThermostat_LcdDisplayHeatMode( void )
   \                     zclSampleThermostat_LcdDisplayHeatMode:
    873          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 16
   \   000005   74F0         MOV     A,#-0x10
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    874          #ifdef LCD_SUPPORTED
    875            char sDisplayTemp[16];
    876          
    877            osal_memcpy( sDisplayTemp, "HEAT TEMP: ", 11 );
   \   00000A                ; Setup parameters for call to function osal_memcpy
   \   00000A   75....       MOV     ?V0,#`?<Constant "HEAT TEMP: ">` & 0xff
   \   00000D   75....       MOV     ?V1,#(`?<Constant "HEAT TEMP: ">` >> 8) & 0xff
   \   000010   75..00       MOV     ?V2,#0x0
   \   000013   78..         MOV     R0,#?V0
   \   000015   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000018   7C0B         MOV     R4,#0xb
   \   00001A   7D00         MOV     R5,#0x0
   \   00001C   7403         MOV     A,#0x3
   \   00001E   12....       LCALL   ?XSTACK_DISP101_8
   \   000021   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000024   7403         MOV     A,#0x3
   \   000026   12....       LCALL   ?DEALLOC_XSTACK8
    878            _ltoa( ( zclSampleThermostat_OccupiedHeatingSetpoint / 100 ), (void *)(&sDisplayTemp[11]), 10 ); // only use whole number
   \   000029                ; Setup parameters for call to function _ltoa
   \   000029   740B         MOV     A,#0xb
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   8582..       MOV     ?V0,DPL
   \   000031   8583..       MOV     ?V1,DPH
   \   000034   78..         MOV     R0,#?V0
   \   000036   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000039   90....       MOV     DPTR,#zclSampleThermostat_OccupiedHeatingSetpoint
   \   00003C                REQUIRE ?Subroutine1
   \   00003C                ; // Fall through to label ?Subroutine1
    879            osal_memcpy( &sDisplayTemp[13], "C", 2 );
    880          
    881            HalLcdWriteString( (char *)sDisplayTemp, HAL_LCD_LINE_1 );
    882            HalLcdWriteString( (char *)sTempLine2, HAL_LCD_LINE_2 );
    883            HalLcdWriteString( (char *)sTempLine3, HAL_LCD_LINE_3 );
    884          #endif
    885          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?Subroutine23 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   000003   12....       LCALL   ?S_DIV_MOD
   \   000006   E8           MOV     A,R0
   \   000007   FA           MOV     R2,A
   \   000008   E9           MOV     A,R1
   \   000009   FB           MOV     R3,A
   \   00000A   33           RLC     A
   \   00000B   95E0         SUBB    A,0xE0 /* A   */
   \   00000D   FC           MOV     R4,A
   \   00000E   FD           MOV     R5,A
   \   00000F   790A         MOV     R1,#0xa
   \   000011   12....       LCALL   `??_ltoa::?relay`    ; Banked call to: _ltoa
   \   000014   7402         MOV     A,#0x2
   \   000016   12....       LCALL   ?DEALLOC_XSTACK8
   \   000019                ; Setup parameters for call to function osal_memcpy
   \   000019                ; Setup parameters for call to function osal_memcpy
   \   000019   75....       MOV     ?V0,#`?<Constant "C">` & 0xff
   \   00001C   75....       MOV     ?V1,#(`?<Constant "C">` >> 8) & 0xff
   \   00001F   78..         MOV     R0,#?V0
   \   000021   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000024   7C02         MOV     R4,#0x2
   \   000026   7D00         MOV     R5,#0x0
   \   000028   7410         MOV     A,#0x10
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   AA82         MOV     R2,DPL
   \   00002F   AB83         MOV     R3,DPH
   \   000031   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000034   7403         MOV     A,#0x3
   \   000036   12....       LCALL   ?DEALLOC_XSTACK8
   \   000039                ; Setup parameters for call to function HalLcdWriteString
   \   000039                ; Setup parameters for call to function HalLcdWriteString
   \   000039   7901         MOV     R1,#0x1
   \   00003B   AA..         MOV     R2,?XSP + 0
   \   00003D   AB..         MOV     R3,?XSP + 1
   \   00003F   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   \   000042                ; Setup parameters for call to function HalLcdWriteString
   \   000042                ; Setup parameters for call to function HalLcdWriteString
   \   000042   7902         MOV     R1,#0x2
   \   000044   7A..         MOV     R2,#sTempLine2 & 0xff
   \   000046   7B..         MOV     R3,#(sTempLine2 >> 8) & 0xff
   \   000048   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   \   00004B                ; Setup parameters for call to function HalLcdWriteString
   \   00004B                ; Setup parameters for call to function HalLcdWriteString
   \   00004B   7903         MOV     R1,#0x3
   \   00004D   7A..         MOV     R2,#sTempLine3 & 0xff
   \   00004F   7B..         MOV     R3,#(sTempLine3 >> 8) & 0xff
   \   000051                REQUIRE ??Subroutine34_0
   \   000051                ; // Fall through to label ??Subroutine34_0
    886          
    887          /*********************************************************************
    888           * @fn      zclSampleThermostat_LcdDisplayCoolMode
    889           *
    890           * @brief   Called to display the cooling setpoint temperature on the LCD.
    891           *
    892           * @param   none
    893           *
    894           * @return  none
    895           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    896          void zclSampleThermostat_LcdDisplayCoolMode( void )
   \                     zclSampleThermostat_LcdDisplayCoolMode:
    897          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 16
   \   000005   74F0         MOV     A,#-0x10
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    898          #ifdef LCD_SUPPORTED
    899            char sDisplayTemp[16];
    900          
    901            osal_memcpy(sDisplayTemp, "COOL TEMP: ", 11);
   \   00000A                ; Setup parameters for call to function osal_memcpy
   \   00000A   75....       MOV     ?V0,#`?<Constant "COOL TEMP: ">` & 0xff
   \   00000D   75....       MOV     ?V1,#(`?<Constant "COOL TEMP: ">` >> 8) & 0xff
   \   000010   75..00       MOV     ?V2,#0x0
   \   000013   78..         MOV     R0,#?V0
   \   000015   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000018   7C0B         MOV     R4,#0xb
   \   00001A   7D00         MOV     R5,#0x0
   \   00001C   7403         MOV     A,#0x3
   \   00001E   12....       LCALL   ?XSTACK_DISP101_8
   \   000021   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000024   7403         MOV     A,#0x3
   \   000026   12....       LCALL   ?DEALLOC_XSTACK8
    902            _ltoa( ( zclSampleThermostat_OccupiedCoolingSetpoint / 100 ), (void *)(&sDisplayTemp[11]), 10 ); // only use whole number
   \   000029                ; Setup parameters for call to function _ltoa
   \   000029   740B         MOV     A,#0xb
   \   00002B   12....       LCALL   ?XSTACK_DISP0_8
   \   00002E   8582..       MOV     ?V0,DPL
   \   000031   8583..       MOV     ?V1,DPH
   \   000034   78..         MOV     R0,#?V0
   \   000036   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000039   90....       MOV     DPTR,#zclSampleThermostat_OccupiedCoolingSetpoint
   \   00003C   02....       LJMP    ?Subroutine1 & 0xFFFF
    903            osal_memcpy( &sDisplayTemp[13], "C", 2 );
    904          
    905            HalLcdWriteString( (char *)sDisplayTemp, HAL_LCD_LINE_1 );
    906            HalLcdWriteString( (char *)sTempLine2, HAL_LCD_LINE_2 );
    907            HalLcdWriteString( (char *)sTempLine3, HAL_LCD_LINE_3 );
    908          #endif
    909          }
    910          
    911          /*********************************************************************
    912           * @fn      zclSampleThermostat_ProcessIdentifyTimeChange
    913           *
    914           * @brief   Called to process any change to the IdentifyTime attribute.
    915           *
    916           * @param   none
    917           *
    918           * @return  none
    919           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    920          static void zclSampleThermostat_ProcessIdentifyTimeChange( void )
   \                     zclSampleThermostat_ProcessIdentifyTimeChange:
    921          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    922            if ( zclSampleThermostat_IdentifyTime > 0 )
   \   000004   12....       LCALL   ?Subroutine17 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   000007   6026         JZ      ??zclSampleThermostat_ProcessIdentifyTimeChange_1
    923            {
    924              osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_IDENTIFY_TIMEOUT_EVT, 1000 );
   \   000009                ; Setup parameters for call to function osal_start_timerEx
   \   000009   90....       MOV     DPTR,#__Constant_3e8
   \   00000C   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00000F   7A01         MOV     R2,#0x1
   \   000011   7B00         MOV     R3,#0x0
   \   000013   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000016   E0           MOVX    A,@DPTR
   \   000017   F9           MOV     R1,A
   \   000018   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   00001B   7404         MOV     A,#0x4
   \   00001D   12....       LCALL   ?DEALLOC_XSTACK8
    925              HalLedBlink ( HAL_LED_4, 0xFF, HAL_LED_DEFAULT_DUTY_CYCLE, HAL_LED_DEFAULT_FLASH_TIME );
   \   000020                ; Setup parameters for call to function HalLedBlink
   \   000020   7CE8         MOV     R4,#-0x18
   \   000022   7D03         MOV     R5,#0x3
   \   000024   7B05         MOV     R3,#0x5
   \   000026   7AFF         MOV     R2,#-0x1
   \   000028   7908         MOV     R1,#0x8
   \   00002A   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
   \   00002D   801D         SJMP    ??zclSampleThermostat_ProcessIdentifyTimeChange_2
    926            }
    927            else
    928            {
    929              if ( zclSampleThermostat_OnOff )
   \                     ??zclSampleThermostat_ProcessIdentifyTimeChange_1:
   \   00002F   90....       MOV     DPTR,#zclSampleThermostat_OnOff
   \   000032   E0           MOVX    A,@DPTR
   \   000033   6004         JZ      ??zclSampleThermostat_ProcessIdentifyTimeChange_3
    930              {
    931                HalLedSet ( HAL_LED_4, HAL_LED_MODE_ON );
   \   000035                ; Setup parameters for call to function HalLedSet
   \   000035   7A01         MOV     R2,#0x1
   \   000037   8002         SJMP    ??zclSampleThermostat_ProcessIdentifyTimeChange_4
    932              }
    933              else
    934              {
    935                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \                     ??zclSampleThermostat_ProcessIdentifyTimeChange_3:
   \   000039                ; Setup parameters for call to function HalLedSet
   \   000039   7A00         MOV     R2,#0x0
   \                     ??zclSampleThermostat_ProcessIdentifyTimeChange_4:
   \   00003B   7908         MOV     R1,#0x8
   \   00003D   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    936              }
    937          
    938              osal_stop_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_IDENTIFY_TIMEOUT_EVT );
   \   000040                ; Setup parameters for call to function osal_stop_timerEx
   \   000040   7A01         MOV     R2,#0x1
   \   000042   7B00         MOV     R3,#0x0
   \   000044   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000047   E0           MOVX    A,@DPTR
   \   000048   F9           MOV     R1,A
   \   000049   12....       LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
    939            }
    940          }
   \                     ??zclSampleThermostat_ProcessIdentifyTimeChange_2:
   \   00004C   02....       LJMP    ??Subroutine33_0 & 0xFFFF
    941          
    942          /*********************************************************************
    943           * @fn      zclSampleThermostat_ProcessAppMsg
    944           *
    945           * @brief   Process DoorLock messages
    946           *
    947           * @param   srcEP - Sending Apps endpoint
    948           * @param   len - number of bytes
    949           * @param   msg - pointer to message
    950           *          0 - lo byte destination address
    951           *          1 - hi byte destination address
    952           *          2 - destination endpoint
    953           *          3 - lo byte cluster ID
    954           *          4 - hi byte cluster ID
    955           *          5 - message length
    956           *          6 - destination address mode (first byte of data)
    957           *          7 - zcl command frame
    958           *
    959           * @return  none
    960           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    961          static void zclSampleThermostat_ProcessAppMsg( uint8 srcEP, uint8 len, uint8 *msg )
   \                     zclSampleThermostat_ProcessAppMsg:
    962          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 23
   \   000005   74E9         MOV     A,#-0x17
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   89..         MOV     ?V2,R1
   \   00000C   EC           MOV     A,R4
   \   00000D   FE           MOV     R6,A
   \   00000E   ED           MOV     A,R5
   \   00000F   FF           MOV     R7,A
    963            afAddrType_t dstAddr;
    964            uint16 clusterID;
    965            zclFrameHdr_t hdr;
    966            uint8 *pData;
    967            uint8 dataLen;
    968          
    969            dstAddr.addr.shortAddr = BUILD_UINT16( msg[0], msg[1] );
   \   000010   8E82         MOV     DPL,R6
   \   000012   8F83         MOV     DPH,R7
   \   000014   E0           MOVX    A,@DPTR
   \   000015   FA           MOV     R2,A
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F9           MOV     R1,A
   \   000019   EA           MOV     A,R2
   \   00001A   F8           MOV     R0,A
   \   00001B   740B         MOV     A,#0xb
   \   00001D   12....       LCALL   ?XSTACK_DISP0_8
   \   000020   12....       LCALL   ?Subroutine11 & 0xFFFF
    970            msg += 2;
    971            dstAddr.endPoint = *msg++;
   \                     ??CrossCallReturnLabel_9:
   \   000023   8E82         MOV     DPL,R6
   \   000025   8F83         MOV     DPH,R7
   \   000027   A3           INC     DPTR
   \   000028   A3           INC     DPTR
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   C0E0         PUSH    A
   \   00002C   7414         MOV     A,#0x14
   \   00002E   12....       LCALL   ?XSTACK_DISP0_8
   \   000031   D0E0         POP     A
   \   000033   F0           MOVX    @DPTR,A
   \   000034   EE           MOV     A,R6
   \   000035   2403         ADD     A,#0x3
   \   000037   FE           MOV     R6,A
   \   000038   5001         JNC     ??zclSampleThermostat_ProcessAppMsg_0
   \   00003A   0F           INC     R7
    972            clusterID = BUILD_UINT16( msg[0], msg[1] );
   \                     ??zclSampleThermostat_ProcessAppMsg_0:
   \   00003B   8E82         MOV     DPL,R6
   \   00003D   8F83         MOV     DPH,R7
   \   00003F   E0           MOVX    A,@DPTR
   \   000040   FA           MOV     R2,A
   \   000041   A3           INC     DPTR
   \   000042   E0           MOVX    A,@DPTR
   \   000043   F8           MOV     R0,A
   \   000044   E4           CLR     A
   \   000045   C8           XCH     A,R0
   \   000046   F9           MOV     R1,A
   \   000047   EA           MOV     A,R2
   \   000048   28           ADD     A,R0
   \   000049   F5..         MOV     ?V0,A
   \   00004B   E4           CLR     A
   \   00004C   39           ADDC    A,R1
   \   00004D   F5..         MOV     ?V1,A
    973            msg += 2;
    974            dataLen = *msg++; // Length of message (Z-Tool can support up to 255 octets)
   \   00004F   8E82         MOV     DPL,R6
   \   000051   8F83         MOV     DPH,R7
   \   000053   A3           INC     DPTR
   \   000054   A3           INC     DPTR
   \   000055   E0           MOVX    A,@DPTR
   \   000056   F5..         MOV     ?V4,A
    975            dstAddr.addrMode = (afAddrMode_t)(*msg++);
   \   000058   8E82         MOV     DPL,R6
   \   00005A   8F83         MOV     DPH,R7
   \   00005C   A3           INC     DPTR
   \   00005D   A3           INC     DPTR
   \   00005E   A3           INC     DPTR
   \   00005F   E0           MOVX    A,@DPTR
   \   000060   C0E0         PUSH    A
   \   000062   7413         MOV     A,#0x13
   \   000064   12....       LCALL   ?XSTACK_DISP0_8
   \   000067   D0E0         POP     A
   \   000069   F0           MOVX    @DPTR,A
   \   00006A   EE           MOV     A,R6
   \   00006B   2404         ADD     A,#0x4
   \   00006D   FE           MOV     R6,A
   \   00006E   5001         JNC     ??zclSampleThermostat_ProcessAppMsg_1
   \   000070   0F           INC     R7
    976            dataLen--; // Length of ZCL frame
    977          
    978            // Begining of ZCL frame
    979            pData = zclParseHdr( &hdr, msg );
   \                     ??zclSampleThermostat_ProcessAppMsg_1:
   \   000071                ; Setup parameters for call to function zclParseHdr
   \   000071   FC           MOV     R4,A
   \   000072   EF           MOV     A,R7
   \   000073   FD           MOV     R5,A
   \   000074   AA..         MOV     R2,?XSP + 0
   \   000076   AB..         MOV     R3,?XSP + 1
   \   000078   12....       LCALL   `??zclParseHdr::?relay`; Banked call to: zclParseHdr
   \   00007B   8A..         MOV     ?V6,R2
   \   00007D   8B..         MOV     ?V7,R3
    980            dataLen -= (uint8)( pData - msg );
   \   00007F   A8..         MOV     R0,?V6
   \   000081   74FF         MOV     A,#-0x1
   \   000083   25..         ADD     A,?V4
   \   000085   C3           CLR     C
   \   000086   98           SUBB    A,R0
   \   000087   2E           ADD     A,R6
   \   000088   F5..         MOV     ?V4,A
    981          
    982            // Is this a foundation type message?
    983            if ( zcl_ProfileCmd( hdr.fc.type ) )
   \   00008A   85..82       MOV     DPL,?XSP + 0
   \   00008D   85..83       MOV     DPH,?XSP + 1
   \   000090   E0           MOVX    A,@DPTR
   \   000091   C4           SWAP    A
   \   000092   540F         ANL     A,#0xf
   \   000094   5401         ANL     A,#0x1
   \   000096   F9           MOV     R1,A
   \   000097   75..00       MOV     ?V5,#0x0
   \   00009A   E0           MOVX    A,@DPTR
   \   00009B   5403         ANL     A,#0x3
   \   00009D   6003         JZ      $+5
   \   00009F   02....       LJMP    ??zclSampleThermostat_ProcessAppMsg_2 & 0xFFFF
    984            {
    985              if ( hdr.fc.manuSpecific )
   \   0000A2   E0           MOVX    A,@DPTR
   \   0000A3   5404         ANL     A,#0x4
   \   0000A5   6032         JZ      ??zclSampleThermostat_ProcessAppMsg_3
    986              {
    987                // We don't support any manufacturer specific command -- just forward it.
    988                zcl_SendCommand( srcEP, &dstAddr, clusterID, hdr.commandID, FALSE, ZCL_FRAME_CLIENT_SERVER_DIR,
    989                                 hdr.fc.disableDefaultRsp, hdr.manuCode, hdr.transSeqNum, dataLen, pData );
   \   0000A7                ; Setup parameters for call to function zcl_SendCommand
   \   0000A7   78..         MOV     R0,#?V6
   \   0000A9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AC   78..         MOV     R0,#?V4
   \   0000AE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B1   7408         MOV     A,#0x8
   \   0000B3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B6   E0           MOVX    A,@DPTR
   \   0000B7   F5..         MOV     ?V3,A
   \   0000B9   78..         MOV     R0,#?V3
   \   0000BB   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000BE   7407         MOV     A,#0x7
   \   0000C0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C3   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000C6   E9           MOV     A,R1
   \   0000C7   F5..         MOV     ?V3,A
   \   0000C9   78..         MOV     R0,#?V3
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CE   75..00       MOV     ?V3,#0x0
   \   0000D1   78..         MOV     R0,#?V3
   \   0000D3   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000D6   02....       LJMP    ??zclSampleThermostat_ProcessAppMsg_4 & 0xFFFF
    990              }
    991              else
    992              {
    993                zclParseCmd_t cmd;
    994          
    995                cmd.endpoint = srcEP;
   \                     ??zclSampleThermostat_ProcessAppMsg_3:
   \   0000D9   7406         MOV     A,#0x6
   \   0000DB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DE   E5..         MOV     A,?V2
   \   0000E0   F0           MOVX    @DPTR,A
    996                cmd.dataLen = dataLen;
   \   0000E1   7407         MOV     A,#0x7
   \   0000E3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E6   E5..         MOV     A,?V4
   \   0000E8   F0           MOVX    @DPTR,A
   \   0000E9   A3           INC     DPTR
   \   0000EA   E4           CLR     A
   \   0000EB   F0           MOVX    @DPTR,A
    997                cmd.pData = pData;
   \   0000EC   7409         MOV     A,#0x9
   \   0000EE   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F1   E8           MOV     A,R0
   \   0000F2   F0           MOVX    @DPTR,A
   \   0000F3   A3           INC     DPTR
   \   0000F4   EB           MOV     A,R3
   \   0000F5   F0           MOVX    @DPTR,A
    998          
    999                zclSampleThermostat_ProcessFoundationMsg( &dstAddr, clusterID, &hdr, &cmd );
   \   0000F6                ; Setup parameters for call to function zclSampleThermostat_ProcessFoundationMsg
   \   0000F6   7406         MOV     A,#0x6
   \   0000F8   12....       LCALL   ?XSTACK_DISP100_8
   \   0000FB   88..         MOV     ?V4,R0
   \   0000FD   89..         MOV     ?V5,R1
   \   0000FF   78..         MOV     R0,#?V4
   \   000101   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000104   7402         MOV     A,#0x2
   \   000106   12....       LCALL   ?XSTACK_DISP100_8
   \   000109   88..         MOV     ?V4,R0
   \   00010B   89..         MOV     ?V5,R1
   \   00010D   78..         MOV     R0,#?V4
   \   00010F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000112   AC..         MOV     R4,?V0
   \   000114   AD..         MOV     R5,?V1
   \   000116   740F         MOV     A,#0xf
   \   000118   12....       LCALL   ?XSTACK_DISP101_8
   \   00011B   12....       LCALL   `??zclSampleThermostat_ProcessFoundationMsg::?re`; Banked call to: zclSampleThermostat_ProcessFoundationMsg
   \   00011E   7404         MOV     A,#0x4
   \   000120   12....       LCALL   ?DEALLOC_XSTACK8
   \   000123   805C         SJMP    ??zclSampleThermostat_ProcessAppMsg_5
   1000              }
   1001            }
   1002            else
   1003            {
   1004              // Nope, must be specific to the cluster ID
   1005              if ( hdr.fc.manuSpecific )
   \                     ??zclSampleThermostat_ProcessAppMsg_2:
   \   000125   E0           MOVX    A,@DPTR
   \   000126   5404         ANL     A,#0x4
   \   000128   6057         JZ      ??zclSampleThermostat_ProcessAppMsg_5
   1006              {
   1007                // We don't support any manufacturer specific command -- just forward it.
   1008                zcl_SendCommand( srcEP, &dstAddr, clusterID, hdr.commandID, TRUE, ZCL_FRAME_CLIENT_SERVER_DIR,
   1009                                 hdr.fc.disableDefaultRsp, hdr.manuCode, hdr.transSeqNum, dataLen, pData );
   \   00012A                ; Setup parameters for call to function zcl_SendCommand
   \   00012A   78..         MOV     R0,#?V6
   \   00012C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012F   78..         MOV     R0,#?V4
   \   000131   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000134   7408         MOV     A,#0x8
   \   000136   12....       LCALL   ?XSTACK_DISP0_8
   \   000139   E0           MOVX    A,@DPTR
   \   00013A   F5..         MOV     ?V3,A
   \   00013C   78..         MOV     R0,#?V3
   \   00013E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000141   7407         MOV     A,#0x7
   \   000143   12....       LCALL   ?XSTACK_DISP0_8
   \   000146   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000149   E9           MOV     A,R1
   \   00014A   F5..         MOV     ?V3,A
   \   00014C   78..         MOV     R0,#?V3
   \   00014E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000151   75..00       MOV     ?V3,#0x0
   \   000154   78..         MOV     R0,#?V3
   \   000156   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000159   75..01       MOV     ?V3,#0x1
   \                     ??zclSampleThermostat_ProcessAppMsg_4:
   \   00015C   78..         MOV     R0,#?V3
   \   00015E   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000161   740F         MOV     A,#0xf
   \   000163   12....       LCALL   ?XSTACK_DISP0_8
   \   000166   E0           MOVX    A,@DPTR
   \   000167   F5..         MOV     ?V3,A
   \   000169   78..         MOV     R0,#?V3
   \   00016B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00016E   AC..         MOV     R4,?V0
   \   000170   AD..         MOV     R5,?V1
   \   000172   7416         MOV     A,#0x16
   \   000174   12....       LCALL   ?XSTACK_DISP101_8
   \   000177   A9..         MOV     R1,?V2
   \   000179   12....       LCALL   `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   00017C   740B         MOV     A,#0xb
   \   00017E   12....       LCALL   ?DEALLOC_XSTACK8
   1010              }
   1011            }
   1012          }
   \                     ??zclSampleThermostat_ProcessAppMsg_5:
   \   000181   7417         MOV     A,#0x17
   \   000183   12....       LCALL   ?DEALLOC_XSTACK8
   \   000186                REQUIRE ?Subroutine2
   \   000186                ; // Fall through to label ?Subroutine2

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F0A         MOV     R7,#0xa
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET
   1013          
   1014          /*********************************************************************
   1015           * @fn      zclSampleThermostat_ProcessFoundationMsg
   1016           *
   1017           * @brief   Process Foundation message
   1018           *
   1019           * @param   srcEP - Sending Apps endpoint
   1020           * @param   dstAddr - where to send the request
   1021           * @param   clusterID - real cluster ID
   1022           * @param   hdr - pointer to the message header
   1023           * @param   len - length of the received message
   1024           * @param   data - received message
   1025           *
   1026           * @return  none
   1027           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1028          static void zclSampleThermostat_ProcessFoundationMsg( afAddrType_t *dstAddr, uint16 clusterID,
   \                     zclSampleThermostat_ProcessFoundationMsg:
   1029                                                          zclFrameHdr_t *hdr, zclParseCmd_t *pParseCmd )
   1030          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   8C..         MOV     ?V0,R4
   \   00000B   8D..         MOV     ?V1,R5
   \   00000D   7412         MOV     A,#0x12
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   E0           MOVX    A,@DPTR
   \   000013   F5..         MOV     ?V2,A
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   F5..         MOV     ?V3,A
   1031          #if defined(ZCL_READ) || defined(ZCL_WRITE) || defined(ZCL_REPORT) || defined(ZCL_DISCOVER)
   1032            void *cmd;
   1033          #endif
   1034          
   1035            switch ( hdr->commandID )
   \   000019   85..82       MOV     DPL,?V2
   \   00001C   F583         MOV     DPH,A
   \   00001E   A3           INC     DPTR
   \   00001F   A3           INC     DPTR
   \   000020   A3           INC     DPTR
   \   000021   A3           INC     DPTR
   \   000022   A3           INC     DPTR
   \   000023   E0           MOVX    A,@DPTR
   \   000024   F9           MOV     R1,A
   \   000025   E5..         MOV     A,?V2
   \   000027   2404         ADD     A,#0x4
   \   000029   F5..         MOV     ?V4,A
   \   00002B   E4           CLR     A
   \   00002C   35..         ADDC    A,?V3
   \   00002E   F5..         MOV     ?V5,A
   \   000030   7414         MOV     A,#0x14
   \   000032   12....       LCALL   ?XSTACK_DISP0_8
   \   000035   E0           MOVX    A,@DPTR
   \   000036   F5..         MOV     ?V6,A
   \   000038   A3           INC     DPTR
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   F5..         MOV     ?V7,A
   \   00003C   E9           MOV     A,R1
   \   00003D   6028         JZ      ??zclSampleThermostat_ProcessFoundationMsg_0
   \   00003F   24FE         ADD     A,#-0x2
   \   000041   6060         JZ      ??zclSampleThermostat_ProcessFoundationMsg_1
   \   000043   14           DEC     A
   \   000044   7003         JNZ     $+5
   \   000046   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_2 & 0xFFFF
   \   000049   24FE         ADD     A,#-0x2
   \   00004B   7003         JNZ     $+5
   \   00004D   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_3 & 0xFFFF
   \   000050   14           DEC     A
   \   000051   7003         JNZ     $+5
   \   000053   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_4 & 0xFFFF
   \   000056   24FE         ADD     A,#-0x2
   \   000058   7003         JNZ     $+5
   \   00005A   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_5 & 0xFFFF
   \   00005D   24FE         ADD     A,#-0x2
   \   00005F   7003         JNZ     $+5
   \   000061   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_6 & 0xFFFF
   \   000064   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_7 & 0xFFFF
   1036            {
   1037          #ifdef ZCL_READ
   1038              case ZCL_CMD_READ:
   1039                cmd = zclParseInReadCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_0:
   \   000067                ; Setup parameters for call to function zclParseInReadCmd
   \   000067   AA..         MOV     R2,?V6
   \   000069   AB..         MOV     R3,?V7
   \   00006B   12....       LCALL   `??zclParseInReadCmd::?relay`; Banked call to: zclParseInReadCmd
   \   00006E   8A..         MOV     ?V6,R2
   \   000070   8B..         MOV     ?V7,R3
   1040                if ( cmd )
   \   000072   EA           MOV     A,R2
   \   000073   45..         ORL     A,?V7
   \   000075   7003         JNZ     $+5
   \   000077   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1041                {
   1042                  zcl_SendRead( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclReadCmd_t *)cmd,
   1043                                ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   00007A                ; Setup parameters for call to function zcl_SendRead
   \   00007A   12....       LCALL   ?Subroutine16 & 0xFFFF
   1044                  osal_mem_free( cmd );
   1045                }
   \                     ??CrossCallReturnLabel_26:
   \   00007D   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000080   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   000083   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000086   75..00       MOV     ?V2,#0x0
   \   000089   78..         MOV     R0,#?V2
   \   00008B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00008E   78..         MOV     R0,#?V6
   \   000090   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000093   AC..         MOV     R4,?V0
   \   000095   AD..         MOV     R5,?V1
   \   000097   EE           MOV     A,R6
   \   000098   FA           MOV     R2,A
   \   000099   EF           MOV     A,R7
   \   00009A   FB           MOV     R3,A
   \   00009B   7901         MOV     R1,#0x1
   \   00009D   12....       LCALL   `??zcl_SendRead::?relay`; Banked call to: zcl_SendRead
   \   0000A0   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_9 & 0xFFFF
   1046                break;
   1047          #endif // ZCL_READ
   1048          
   1049          #ifdef ZCL_WRITE
   1050              case ZCL_CMD_WRITE:
   1051                cmd = zclParseInWriteCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_1:
   \   0000A3                ; Setup parameters for call to function zclParseInWriteCmd
   \   0000A3   AA..         MOV     R2,?V6
   \   0000A5   AB..         MOV     R3,?V7
   \   0000A7   12....       LCALL   `??zclParseInWriteCmd::?relay`; Banked call to: zclParseInWriteCmd
   \   0000AA   8A..         MOV     ?V6,R2
   \   0000AC   8B..         MOV     ?V7,R3
   1052                if ( cmd )
   \   0000AE   EA           MOV     A,R2
   \   0000AF   45..         ORL     A,?V7
   \   0000B1   7003         JNZ     $+5
   \   0000B3   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1053                {
   1054                  zcl_SendWrite( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclWriteCmd_t *)cmd,
   1055                                 ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   0000B6                ; Setup parameters for call to function zcl_SendWriteRequest
   \   0000B6   12....       LCALL   ?Subroutine16 & 0xFFFF
   1056                  osal_mem_free( cmd );
   1057                }
   \                     ??CrossCallReturnLabel_27:
   \   0000B9   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000BC   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   0000BF   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000C2   75..00       MOV     ?V2,#0x0
   \   0000C5   78..         MOV     R0,#?V2
   \   0000C7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000CA   75..02       MOV     ?V2,#0x2
   \   0000CD   8056         SJMP    ??zclSampleThermostat_ProcessFoundationMsg_10
   1058                break;
   1059          
   1060              case ZCL_CMD_WRITE_UNDIVIDED:
   1061                cmd = zclParseInWriteCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_2:
   \   0000CF                ; Setup parameters for call to function zclParseInWriteCmd
   \   0000CF   AA..         MOV     R2,?V6
   \   0000D1   AB..         MOV     R3,?V7
   \   0000D3   12....       LCALL   `??zclParseInWriteCmd::?relay`; Banked call to: zclParseInWriteCmd
   \   0000D6   8A..         MOV     ?V6,R2
   \   0000D8   8B..         MOV     ?V7,R3
   1062                if ( cmd )
   \   0000DA   EA           MOV     A,R2
   \   0000DB   45..         ORL     A,?V7
   \   0000DD   7003         JNZ     $+5
   \   0000DF   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1063                {
   1064                  zcl_SendWriteUndivided( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclWriteCmd_t *)cmd,
   1065                                          ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   0000E2                ; Setup parameters for call to function zcl_SendWriteRequest
   \   0000E2   12....       LCALL   ?Subroutine16 & 0xFFFF
   1066                  osal_mem_free( cmd );
   1067                }
   \                     ??CrossCallReturnLabel_28:
   \   0000E5   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000E8   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   0000EB   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000EE   75..00       MOV     ?V2,#0x0
   \   0000F1   78..         MOV     R0,#?V2
   \   0000F3   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000F6   75..03       MOV     ?V2,#0x3
   \   0000F9   802A         SJMP    ??zclSampleThermostat_ProcessFoundationMsg_10
   1068                break;
   1069          
   1070              case ZCL_CMD_WRITE_NO_RSP:
   1071                cmd = zclParseInWriteCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_3:
   \   0000FB                ; Setup parameters for call to function zclParseInWriteCmd
   \   0000FB   AA..         MOV     R2,?V6
   \   0000FD   AB..         MOV     R3,?V7
   \   0000FF   12....       LCALL   `??zclParseInWriteCmd::?relay`; Banked call to: zclParseInWriteCmd
   \   000102   8A..         MOV     ?V6,R2
   \   000104   8B..         MOV     ?V7,R3
   1072                if ( cmd )
   \   000106   EA           MOV     A,R2
   \   000107   45..         ORL     A,?V7
   \   000109   7003         JNZ     $+5
   \   00010B   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1073                {
   1074                  zcl_SendWriteNoRsp( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclWriteCmd_t *)cmd,
   1075                                      ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   00010E                ; Setup parameters for call to function zcl_SendWriteRequest
   \   00010E   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000111   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000114   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   000117   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00011A   75..00       MOV     ?V2,#0x0
   \   00011D   78..         MOV     R0,#?V2
   \   00011F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000122   75..05       MOV     ?V2,#0x5
   \                     ??zclSampleThermostat_ProcessFoundationMsg_10:
   \   000125   78..         MOV     R0,#?V2
   \   000127   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00012A   78..         MOV     R0,#?V6
   \   00012C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012F   AC..         MOV     R4,?V0
   \   000131   AD..         MOV     R5,?V1
   \   000133   EE           MOV     A,R6
   \   000134   FA           MOV     R2,A
   \   000135   EF           MOV     A,R7
   \   000136   FB           MOV     R3,A
   \   000137   7901         MOV     R1,#0x1
   \   000139   12....       LCALL   `??zcl_SendWriteRequest::?relay`; Banked call to: zcl_SendWriteRequest
   \   00013C   7406         MOV     A,#0x6
   \   00013E   12....       LCALL   ?DEALLOC_XSTACK8
   1076                  osal_mem_free( cmd );
   \   000141                ; Setup parameters for call to function osal_mem_free
   \   000141   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_11 & 0xFFFF
   1077                }
   1078                break;
   1079          #endif // ZCL_WRITE
   1080          
   1081          #ifdef ZCL_REPORT
   1082              case ZCL_CMD_CONFIG_REPORT:
   1083                cmd = zclParseInConfigReportCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_4:
   \   000144                ; Setup parameters for call to function zclParseInConfigReportCmd
   \   000144   AA..         MOV     R2,?V6
   \   000146   AB..         MOV     R3,?V7
   \   000148   12....       LCALL   `??zclParseInConfigReportCmd::?relay`; Banked call to: zclParseInConfigReportCmd
   \   00014B   8A..         MOV     ?V6,R2
   \   00014D   8B..         MOV     ?V7,R3
   1084                if ( cmd )
   \   00014F   EA           MOV     A,R2
   \   000150   45..         ORL     A,?V7
   \   000152   7003         JNZ     $+5
   \   000154   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1085                {
   1086                  zcl_SendConfigReportCmd( SAMPLETHERMOSTAT_ENDPOINT, dstAddr,  clusterID, (zclCfgReportCmd_t *)cmd,
   1087                                           ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   000157                ; Setup parameters for call to function zcl_SendConfigReportCmd
   \   000157   12....       LCALL   ?Subroutine16 & 0xFFFF
   1088                  osal_mem_free( cmd );
   1089                }
   \                     ??CrossCallReturnLabel_30:
   \   00015A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00015D   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000160   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000163   75..00       MOV     ?V2,#0x0
   \   000166   78..         MOV     R0,#?V2
   \   000168   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00016B   78..         MOV     R0,#?V6
   \   00016D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000170   AC..         MOV     R4,?V0
   \   000172   AD..         MOV     R5,?V1
   \   000174   EE           MOV     A,R6
   \   000175   FA           MOV     R2,A
   \   000176   EF           MOV     A,R7
   \   000177   FB           MOV     R3,A
   \   000178   7901         MOV     R1,#0x1
   \   00017A   12....       LCALL   `??zcl_SendConfigReportCmd::?relay`; Banked call to: zcl_SendConfigReportCmd
   \   00017D   8074         SJMP    ??zclSampleThermostat_ProcessFoundationMsg_9
   1090                break;
   1091          
   1092              case ZCL_CMD_READ_REPORT_CFG:
   1093                cmd = zclParseInReadReportCfgCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_5:
   \   00017F                ; Setup parameters for call to function zclParseInReadReportCfgCmd
   \   00017F   AA..         MOV     R2,?V6
   \   000181   AB..         MOV     R3,?V7
   \   000183   12....       LCALL   `??zclParseInReadReportCfgCmd::?relay`; Banked call to: zclParseInReadReportCfgCmd
   \   000186   8A..         MOV     ?V6,R2
   \   000188   8B..         MOV     ?V7,R3
   1094                if ( cmd )
   \   00018A   EA           MOV     A,R2
   \   00018B   45..         ORL     A,?V7
   \   00018D   7003         JNZ     $+5
   \   00018F   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1095                {
   1096                  zcl_SendReadReportCfgCmd( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclReadReportCfgCmd_t *)cmd,
   1097                                            ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   000192                ; Setup parameters for call to function zcl_SendReadReportCfgCmd
   \   000192   12....       LCALL   ?Subroutine16 & 0xFFFF
   1098                  osal_mem_free( cmd );
   1099                }
   \                     ??CrossCallReturnLabel_31:
   \   000195   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000198   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   00019B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00019E   75..00       MOV     ?V2,#0x0
   \   0001A1   78..         MOV     R0,#?V2
   \   0001A3   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001A6   78..         MOV     R0,#?V6
   \   0001A8   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001AB   AC..         MOV     R4,?V0
   \   0001AD   AD..         MOV     R5,?V1
   \   0001AF   EE           MOV     A,R6
   \   0001B0   FA           MOV     R2,A
   \   0001B1   EF           MOV     A,R7
   \   0001B2   FB           MOV     R3,A
   \   0001B3   7901         MOV     R1,#0x1
   \   0001B5   12....       LCALL   `??zcl_SendReadReportCfgCmd::?relay`; Banked call to: zcl_SendReadReportCfgCmd
   \   0001B8   8039         SJMP    ??zclSampleThermostat_ProcessFoundationMsg_9
   1100                break;
   1101          
   1102              case ZCL_CMD_REPORT:
   1103                cmd = zclParseInReportCmd( pParseCmd );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_6:
   \   0001BA                ; Setup parameters for call to function zclParseInReportCmd
   \   0001BA   AA..         MOV     R2,?V6
   \   0001BC   AB..         MOV     R3,?V7
   \   0001BE   12....       LCALL   `??zclParseInReportCmd::?relay`; Banked call to: zclParseInReportCmd
   \   0001C1   8A..         MOV     ?V6,R2
   \   0001C3   8B..         MOV     ?V7,R3
   1104                if ( cmd )
   \   0001C5   EA           MOV     A,R2
   \   0001C6   45..         ORL     A,?V7
   \   0001C8   7003         JNZ     $+5
   \   0001CA   02....       LJMP    ??zclSampleThermostat_ProcessFoundationMsg_8 & 0xFFFF
   1105                {
   1106                  zcl_SendReportCmd( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclReportCmd_t *)cmd,
   1107                                     ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   \   0001CD                ; Setup parameters for call to function zcl_SendReportCmd
   \   0001CD   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   0001D0   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001D3   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   0001D6   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001D9   75..00       MOV     ?V2,#0x0
   \   0001DC   78..         MOV     R0,#?V2
   \   0001DE   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0001E1   78..         MOV     R0,#?V6
   \   0001E3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001E6   AC..         MOV     R4,?V0
   \   0001E8   AD..         MOV     R5,?V1
   \   0001EA   EE           MOV     A,R6
   \   0001EB   FA           MOV     R2,A
   \   0001EC   EF           MOV     A,R7
   \   0001ED   FB           MOV     R3,A
   \   0001EE   7901         MOV     R1,#0x1
   \   0001F0   12....       LCALL   `??zcl_SendReportCmd::?relay`; Banked call to: zcl_SendReportCmd
   \                     ??zclSampleThermostat_ProcessFoundationMsg_9:
   \   0001F3   7405         MOV     A,#0x5
   \   0001F5   12....       LCALL   ?DEALLOC_XSTACK8
   1108                  osal_mem_free( cmd );
   \   0001F8                ; Setup parameters for call to function osal_mem_free
   \                     ??zclSampleThermostat_ProcessFoundationMsg_11:
   \   0001F8   AA..         MOV     R2,?V6
   \   0001FA   AB..         MOV     R3,?V7
   \   0001FC   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0001FF   8051         SJMP    ??zclSampleThermostat_ProcessFoundationMsg_8
   1109                }
   1110                break;
   1111          #endif // ZCL_REPORT
   1112          #ifdef ZCL_DISCOVER
   1113              case ZCL_CMD_DISCOVER_ATTRS:
   1114                cmd = zclParseInDiscAttrsCmd( pParseCmd );
   1115                if ( cmd )
   1116                {
   1117                  zcl_SendDiscoverAttrsCmd( SAMPLETHERMOSTAT_ENDPOINT, dstAddr, clusterID, (zclDiscoverAttrsCmd_t *)cmd,
   1118                                            ZCL_FRAME_CLIENT_SERVER_DIR, hdr->fc.disableDefaultRsp, hdr->transSeqNum );
   1119                  osal_mem_free( cmd );
   1120                }
   1121                break;
   1122          #endif // ZCL_DISCOVER
   1123          
   1124              default:
   1125                // Unsupported command -- just forward it.
   1126                zcl_SendCommand( pParseCmd->endpoint, dstAddr, clusterID, hdr->commandID, FALSE, ZCL_FRAME_CLIENT_SERVER_DIR,
   1127                                 hdr->fc.disableDefaultRsp, 0, hdr->transSeqNum, pParseCmd->dataLen, pParseCmd->pData );
   \                     ??zclSampleThermostat_ProcessFoundationMsg_7:
   \   000201                ; Setup parameters for call to function zcl_SendCommand
   \   000201   85..82       MOV     DPL,?V6
   \   000204   85..83       MOV     DPH,?V7
   \   000207   A3           INC     DPTR
   \   000208   A3           INC     DPTR
   \   000209   A3           INC     DPTR
   \   00020A   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00020D   85..82       MOV     DPL,?V6
   \   000210   85..83       MOV     DPH,?V7
   \   000213   A3           INC     DPTR
   \   000214   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000217   12....       LCALL   ?Subroutine16 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   00021A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00021D   E4           CLR     A
   \   00021E   F5..         MOV     ?V4,A
   \   000220   F5..         MOV     ?V5,A
   \   000222   78..         MOV     R0,#?V4
   \   000224   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000227   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   00022A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00022D   75..00       MOV     ?V2,#0x0
   \   000230   78..         MOV     R0,#?V2
   \   000232   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000235   78..         MOV     R0,#?V2
   \   000237   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00023A   E9           MOV     A,R1
   \   00023B   F5..         MOV     ?V2,A
   \   00023D   78..         MOV     R0,#?V2
   \   00023F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000242   85..82       MOV     DPL,?V6
   \   000245   85..83       MOV     DPH,?V7
   \   000248   E0           MOVX    A,@DPTR
   \   000249   F9           MOV     R1,A
   \   00024A   12....       LCALL   `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   00024D   740B         MOV     A,#0xb
   \   00024F   12....       LCALL   ?DEALLOC_XSTACK8
   1128                break;
   1129            }
   1130          }
   \                     ??zclSampleThermostat_ProcessFoundationMsg_8:
   \   000252   02....       LJMP    ?Subroutine2 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   85..82       MOV     DPL,?V4
   \   000003   85..83       MOV     DPH,?V5
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F5..         MOV     ?V4,A
   \   000009   78..         MOV     R0,#?V4
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   85..82       MOV     DPL,?V2
   \   000003   85..83       MOV     DPH,?V3
   \   000006   E0           MOVX    A,@DPTR
   \   000007   C4           SWAP    A
   \   000008   540F         ANL     A,#0xf
   \   00000A   5401         ANL     A,#0x1
   \   00000C   F5..         MOV     ?V2,A
   \   00000E   78..         MOV     R0,#?V2
   \   000010   22           RET
   1131          
   1132          /*********************************************************************
   1133           * @fn      zclSampleThermostat_BasicResetCB
   1134           *
   1135           * @brief   Callback from the ZCL General Cluster Library
   1136           *          to set all the Basic Cluster attributes to default values.
   1137           *
   1138           * @param   none
   1139           *
   1140           * @return  none
   1141           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1142          static void zclSampleThermostat_BasicResetCB( void )
   \                     zclSampleThermostat_BasicResetCB:
   1143          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1144            // Put device back to factory default settings
   1145            zgWriteStartupOptions( ZG_STARTUP_SET, 3 );   // bit set both default configuration and default network
   \   000004                ; Setup parameters for call to function zgWriteStartupOptions
   \   000004   7A03         MOV     R2,#0x3
   \   000006   79FF         MOV     R1,#-0x1
   \   000008   12....       LCALL   `??zgWriteStartupOptions::?relay`; Banked call to: zgWriteStartupOptions
   1146          
   1147            // restart device
   1148            MT_SysCommandProcessing( aProcessCmd );
   \   00000B                ; Setup parameters for call to function MT_SysCommandProcessing
   \   00000B   7A..         MOV     R2,#aProcessCmd & 0xff
   \   00000D   7B..         MOV     R3,#(aProcessCmd >> 8) & 0xff
   \   00000F   12....       LCALL   `??MT_SysCommandProcessing::?relay`; Banked call to: MT_SysCommandProcessing
   1149          }
   \   000012   02....       LJMP    ??Subroutine33_0 & 0xFFFF
   1150          
   1151          /*********************************************************************
   1152           * @fn      zclSampleThermostat_IdentifyCB
   1153           *
   1154           * @brief   Callback from the ZCL General Cluster Library when
   1155           *          it received an Identity Command for this application.
   1156           *
   1157           * @param   srcAddr - source address and endpoint of the response message
   1158           * @param   identifyTime - the number of seconds to identify yourself
   1159           *
   1160           * @return  none
   1161           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1162          static void zclSampleThermostat_IdentifyCB( zclIdentify_t *pCmd )
   \                     zclSampleThermostat_IdentifyCB:
   1163          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1164            zclSampleThermostat_IdentifyTime = pCmd->identifyTime;
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   00000C   90....       MOV     DPTR,#zclSampleThermostat_IdentifyTime
   \   00000F   12....       LCALL   ?Subroutine11 & 0xFFFF
   1165            zclSampleThermostat_ProcessIdentifyTimeChange();
   \                     ??CrossCallReturnLabel_10:
   \   000012                ; Setup parameters for call to function zclSampleThermostat_ProcessIdentifyTimeChange
   \   000012   12....       LCALL   ??zclSampleThermostat_ProcessIdentifyTimeChange; Banked call to: zclSampleThermostat_ProcessIdentifyTimeChange
   1166          }
   \   000015   02....       LJMP    ??Subroutine33_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   A3           INC     DPTR
   \   000001                REQUIRE ??Subroutine35_0
   \   000001                ; // Fall through to label ??Subroutine35_0
   1167          
   1168          /*********************************************************************
   1169           * @fn      zclSampleThermostat_IdentifyQueryRspCB
   1170           *
   1171           * @brief   Callback from the ZCL General Cluster Library when
   1172           *          it received an Identity Query Response Command for this application.
   1173           *
   1174           * @param   srcAddr - requestor's address
   1175           * @param   timeout - number of seconds to identify yourself (valid for query response)
   1176           *
   1177           * @return  none
   1178           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   EA           MOV     A,R2
   \   000007   F0           MOVX    @DPTR,A
   \   000008   A3           INC     DPTR
   \   000009   EB           MOV     A,R3
   \   00000A                REQUIRE ??Subroutine32_0
   \   00000A                ; // Fall through to label ??Subroutine32_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine33_0
   \   000003                ; // Fall through to label ??Subroutine33_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1179          static void zclSampleThermostat_IdentifyQueryRspCB(  zclIdentifyQueryRsp_t *pRsp )
   \                     zclSampleThermostat_IdentifyQueryRspCB:
   1180          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 2
   \   000004   74FE         MOV     A,#-0x2
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
   1181            (void)pRsp;
   1182          #ifdef ZCL_EZMODE
   1183            {
   1184              zclEZMode_ActionData_t data;
   1185              data.pIdentifyQueryRsp = pRsp;
   \   000009   12....       LCALL   ?Subroutine10 & 0xFFFF
   1186              zcl_EZModeAction ( EZMODE_ACTION_IDENTIFY_QUERY_RSP, &data );
   1187            }
   \                     ??CrossCallReturnLabel_54:
   \   00000C   7904         MOV     R1,#0x4
   \   00000E   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
   1188          #endif
   1189          }
   \   000011   7402         MOV     A,#0x2
   \   000013   02....       LJMP    ?Subroutine0 & 0xFFFF
   1190          
   1191          /******************************************************************************
   1192           *
   1193           *  Functions for processing ZCL Foundation incoming Command/Response messages
   1194           *
   1195           *****************************************************************************/
   1196          
   1197          /*********************************************************************
   1198           * @fn      zclSampleThermostat_ProcessIncomingMsg
   1199           *
   1200           * @brief   Process ZCL Foundation incoming message
   1201           *
   1202           * @param   pInMsg - pointer to the received message
   1203           *
   1204           * @return  none
   1205           */
   1206          static void zclSampleThermostat_ProcessIncomingMsg( zclIncomingMsg_t *pInMsg)
   1207          {
   1208            switch ( pInMsg->zclHdr.commandID )
   1209            {
   1210          #ifdef ZCL_READ
   1211              case ZCL_CMD_READ_RSP:
   1212                zclSampleThermostat_ProcessInReadRspCmd( pInMsg );
   1213                break;
   1214          #endif
   1215          #ifdef ZCL_WRITE
   1216              case ZCL_CMD_WRITE_RSP:
   1217                zclSampleThermostat_ProcessInWriteRspCmd( pInMsg );
   1218                break;
   1219          #endif
   1220          #ifdef ZCL_REPORT
   1221              case ZCL_CMD_CONFIG_REPORT:
   1222                //zclSampleThermostat_ProcessInConfigReportCmd( pInMsg );
   1223                break;
   1224          
   1225              case ZCL_CMD_CONFIG_REPORT_RSP:
   1226                //zclSampleThermostat_ProcessInConfigReportRspCmd( pInMsg );
   1227                break;
   1228          
   1229              case ZCL_CMD_READ_REPORT_CFG:
   1230                //zclSampleThermostat_ProcessInReadReportCfgCmd( pInMsg );
   1231                break;
   1232          
   1233              case ZCL_CMD_READ_REPORT_CFG_RSP:
   1234                //zclSampleThermostat_ProcessInReadReportCfgRspCmd( pInMsg );
   1235                break;
   1236          
   1237              case ZCL_CMD_REPORT:
   1238                zclSampleThermostat_ProcessInReportCmd( pInMsg );
   1239                break;
   1240          #endif
   1241              case ZCL_CMD_DEFAULT_RSP:
   1242                zclSampleThermostat_ProcessInDefaultRspCmd( pInMsg );
   1243                break;
   1244          
   1245              default:
   1246                break;
   1247            }
   1248          
   1249            if ( pInMsg->attrCmd )
   1250            {
   1251              osal_mem_free( pInMsg->attrCmd );
   1252            }
   1253          }
   1254          
   1255          #ifdef ZCL_READ
   1256          /*********************************************************************
   1257           * @fn      zclSampleThermostat_ProcessInReadRspCmd
   1258           *
   1259           * @brief   Process the "Profile" Read Response Command
   1260           *
   1261           * @param   pInMsg - incoming message to process
   1262           *
   1263           * @return  none
   1264           */
   1265          static uint8 zclSampleThermostat_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg )
   1266          {
   1267            zclReadRspCmd_t *readRspCmd;
   1268            uint8 i;
   1269          
   1270            readRspCmd = (zclReadRspCmd_t *)pInMsg->attrCmd;
   1271            for (i = 0; i < readRspCmd->numAttr; i++)
   1272            {
   1273              // Notify the originator of the results of the original read attributes
   1274              // attempt and, for each successfull request, the value of the requested
   1275              // attribute
   1276            }
   1277          
   1278            return ( TRUE );
   1279          }
   1280          #endif // ZCL_READ
   1281          
   1282          #ifdef ZCL_WRITE
   1283          /*********************************************************************
   1284           * @fn      zclSampleThermostat_ProcessInWriteRspCmd
   1285           *
   1286           * @brief   Process the "Profile" Write Response Command
   1287           *
   1288           * @param   pInMsg - incoming message to process
   1289           *
   1290           * @return  none
   1291           */
   1292          static uint8 zclSampleThermostat_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg )
   1293          {
   1294            zclWriteRspCmd_t *writeRspCmd;
   1295            uint8 i;
   1296          
   1297            writeRspCmd = (zclWriteRspCmd_t *)pInMsg->attrCmd;
   1298            for (i = 0; i < writeRspCmd->numAttr; i++)
   1299            {
   1300              // Notify the device of the results of the its original write attributes
   1301              // command.
   1302            }
   1303          
   1304            return ( TRUE );
   1305          }
   1306          #endif // ZCL_WRITE
   1307          
   1308          #ifdef ZCL_REPORT
   1309          /*********************************************************************
   1310           * @fn      zclSampleThermostat_ProcessInReportCmd
   1311           *
   1312           * @brief   Process the "Profile" Report Command
   1313           *
   1314           * @param   pInMsg - incoming message to process
   1315           *
   1316           * @return  none
   1317           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1318          static void zclSampleThermostat_ProcessInReportCmd( zclIncomingMsg_t *pInMsg )
   \                     zclSampleThermostat_ProcessInReportCmd:
   1319          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 53
   \   000005   74CB         MOV     A,#-0x35
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1320          	uint8 src_EndPoint;
   1321          	
   1322            zclReportCmd_t *pInReportCmd;
   1323          	
   1324            zclReportCmd_t *pOutDemandReport;
   1325            uint8 outDemandBuffer[sizeof( zclReportCmd_t ) + ( 3 * sizeof( zclReport_t ) )];
   1326            bool send = TRUE;
   1327          
   1328            pInReportCmd = (zclReportCmd_t *)pInMsg->attrCmd;
   \   00000A   EA           MOV     A,R2
   \   00000B   2417         ADD     A,#0x17
   \   00000D   F582         MOV     DPL,A
   \   00000F   E4           CLR     A
   \   000010   3B           ADDC    A,R3
   \   000011   F583         MOV     DPH,A
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F5..         MOV     ?V0,A
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V1,A
   1329          
   1330          	/*- Router: Data report ----------------------------------------------------*/
   1331          	#ifdef COORDINATOR
   1332          	if ( pInReportCmd->attrList[0].attrID == ATTRID_REPORT_DATA_COORD)
   1333          	{
   1334          		HalLedBlink ( HAL_LED_2, 1, 50, 500 );
   1335          		
   1336          		UART_ZCmdPrintString(HAL_UART_PORT_0, "@ZBR:");
   1337          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, msg_RSSI);																			// RSSI
   1338          		UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   1339          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[2].attrID);							// shortAddr
   1340          		UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   1341          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[2].attrData[0]);						// endPoint
   1342          		UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   1343          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[0].attrData[0]);					// temperature
   1344          		UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   1345          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[0].attrData[1]);					// humidity
   1346          		UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   1347          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[1].attrData[0]);					// heating
   1348          		UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   1349          		UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[1].attrData[1]);					// cooling
   1350          		UART_ZCmdPrint		(HAL_UART_PORT_0, "!");
   1351          		return;
   1352          	}
   1353          	#endif
   1354          	
   1355          	/*- endDev Engine: Feedback ------------------------------------------------*/
   1356          	if ( pInReportCmd->attrList[0].attrID == ATTRID_HVAC_THERMOSTAT_RUNNING_STATE )
   \   00001A   85..82       MOV     DPL,?V0
   \   00001D   F583         MOV     DPH,A
   \   00001F   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   000022   75....       MOV     ?V10,#`?<Constant "!">` & 0xff
   \   000025   75....       MOV     ?V11,#(`?<Constant "!">` >> 8) & 0xff
   \   000028   E5..         MOV     A,?V0
   \   00002A   2404         ADD     A,#0x4
   \   00002C   F5..         MOV     ?V2,A
   \   00002E   E4           CLR     A
   \   00002F   35..         ADDC    A,?V1
   \   000031   F5..         MOV     ?V3,A
   \   000033   EA           MOV     A,R2
   \   000034   2413         ADD     A,#0x13
   \   000036   F5..         MOV     ?V6,A
   \   000038   E4           CLR     A
   \   000039   3B           ADDC    A,R3
   \   00003A   F5..         MOV     ?V7,A
   \   00003C   EA           MOV     A,R2
   \   00003D   240A         ADD     A,#0xa
   \   00003F   F5..         MOV     ?V8,A
   \   000041   E4           CLR     A
   \   000042   3B           ADDC    A,R3
   \   000043   F5..         MOV     ?V9,A
   \   000045   7429         MOV     A,#0x29
   \   000047   68           XRL     A,R0
   \   000048   49           ORL     A,R1
   \   000049   7071         JNZ     ??zclSampleThermostat_ProcessInReportCmd_0
   1357          	{
   1358          		HalLedBlink ( HAL_LED_2, 1, 50, 500 );
   \   00004B                ; Setup parameters for call to function HalLedBlink
   \   00004B   7CF4         MOV     R4,#-0xc
   \   00004D   7D01         MOV     R5,#0x1
   \   00004F   7B32         MOV     R3,#0x32
   \   000051   7A01         MOV     R2,#0x1
   \   000053   7902         MOV     R1,#0x2
   \   000055   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
   1359          
   1360          		if (FLAG_ECHO_RDATA)
   \   000058   90....       MOV     DPTR,#FLAG_ECHO_RDATA
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   7003         JNZ     $+5
   \   00005E   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_1 & 0xFFFF
   1361          		{
   1362          			UART_ZCmdPrintString(HAL_UART_PORT_0, "@ZBF:");
   \   000061                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000061   7A..         MOV     R2,#`?<Constant "@ZBF:">` & 0xff
   \   000063   7B..         MOV     R3,#(`?<Constant "@ZBF:">` >> 8) & 0xff
   \   000065   7900         MOV     R1,#0x0
   \   000067   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1363          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, msg_RSSI);																		// RSSI
   \   00006A                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   00006A   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   00006D   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1364          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000070                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000070   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000072   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000074   7900         MOV     R1,#0x0
   \   000076   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1365          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.addr.shortAddr);							// shortAddr
   \   000079                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000079   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   00007C   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1366          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   00007F                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00007F   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000081   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000083   7900         MOV     R1,#0x0
   \   000085   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1367          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.endPoint);										// endPoint
   \   000088                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000088   85..82       MOV     DPL,?V6
   \   00008B   85..83       MOV     DPH,?V7
   \   00008E   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   000091   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1368          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000094                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000094   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000096   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000098   7900         MOV     R1,#0x0
   \   00009A   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1369          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[0].attrData[0]); 			// Feedback Heating
   \   00009D                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   00009D   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   0000A0   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   0000A3   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1370          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0000A6                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000A6   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   0000A8   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   0000AA   7900         MOV     R1,#0x0
   \   0000AC   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1371          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[0].attrData[1]); 			// Feedback Cooling
   \   0000AF                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000AF   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   0000B2   A3           INC     DPTR
   \   0000B3   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   0000B6   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1372          			UART_ZCmdPrint			(HAL_UART_PORT_0, "!");
   \   0000B9                ; Setup parameters for call to function UART_ZCmdPrint
   \   0000B9   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_2 & 0xFFFF
   1373          		}
   1374          		
   1375          		return;
   1376          	}
   1377          
   1378          	/*- endDev Sensor: Value Process -------------------------------------------*/
   1379            if ( pInReportCmd->attrList[0].attrID == ATTRID_MS_TEMPERATURE_MEASURED_VALUE )
   \                     ??zclSampleThermostat_ProcessInReportCmd_0:
   \   0000BC   75....       MOV     ?V4,#`?<Constant "@ZBR:">` & 0xff
   \   0000BF   75....       MOV     ?V5,#(`?<Constant "@ZBR:">` >> 8) & 0xff
   \   0000C2   E8           MOV     A,R0
   \   0000C3   49           ORL     A,R1
   \   0000C4   6003         JZ      $+5
   \   0000C6   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_3 & 0xFFFF
   1380            {		
   1381          	  pOutDemandReport = (zclReportCmd_t *)outDemandBuffer;
   1382          		src_EndPoint = pInMsg->srcAddr.endPoint;	
   \   0000C9   85..82       MOV     DPL,?V6
   \   0000CC   85..83       MOV     DPH,?V7
   \   0000CF   E0           MOVX    A,@DPTR
   \   0000D0   85..82       MOV     DPL,?XSP + 0
   \   0000D3   85..83       MOV     DPH,?XSP + 1
   \   0000D6   F0           MOVX    @DPTR,A
   1383          
   1384          		HalLedBlink ( HAL_LED_1, 1, 50, 500 );
   \   0000D7                ; Setup parameters for call to function HalLedBlink
   \   0000D7   7CF4         MOV     R4,#-0xc
   \   0000D9   7D01         MOV     R5,#0x1
   \   0000DB   7B32         MOV     R3,#0x32
   \   0000DD   7A01         MOV     R2,#0x1
   \   0000DF   7901         MOV     R1,#0x1
   \   0000E1   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
   1385          
   1386          	  // store the current temperature value sent over the air from temperature sensor
   1387          	  zclSampleThermostat_LocalTemperature = pInReportCmd->attrList[0].attrData[0] * 100;
   \   0000E4   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   0000E7   E0           MOVX    A,@DPTR
   \   0000E8   75F064       MOV     B,#0x64
   \   0000EB   A4           MUL     AB
   \   0000EC   90....       MOV     DPTR,#zclSampleThermostat_LocalTemperature
   \   0000EF   F0           MOVX    @DPTR,A
   \   0000F0   A3           INC     DPTR
   \   0000F1   E5F0         MOV     A,B
   \   0000F3   F0           MOVX    @DPTR,A
   1388          
   1389          		/* Feedback Data Received */
   1390          		if (FLAG_ECHO_RDATA)
   \   0000F4   90....       MOV     DPTR,#FLAG_ECHO_RDATA
   \   0000F7   E0           MOVX    A,@DPTR
   \   0000F8   6061         JZ      ??zclSampleThermostat_ProcessInReportCmd_4
   1391          		{
   1392          			UART_ZCmdPrintString(HAL_UART_PORT_0, "@ZBR:");
   \   0000FA                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000FA   AA..         MOV     R2,?V4
   \   0000FC   AB..         MOV     R3,?V5
   \   0000FE   7900         MOV     R1,#0x0
   \   000100   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1393          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, msg_RSSI);																	// RSSI
   \   000103                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000103   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000106   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1394          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000109                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000109   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   00010B   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   00010D   7900         MOV     R1,#0x0
   \   00010F   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1395          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.addr.shortAddr);						// shortAddr
   \   000112                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000112   12....       LCALL   ?Subroutine14 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   000115   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1396          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000118                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000118   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   00011A   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   00011C   7900         MOV     R1,#0x0
   \   00011E   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1397          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.endPoint);									// endPoint
   \   000121                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000121   85..82       MOV     DPL,?V6
   \   000124   85..83       MOV     DPH,?V7
   \   000127   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   00012A   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1398          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   00012D                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00012D   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   00012F   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000131   7900         MOV     R1,#0x0
   \   000133   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1399          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[0].attrData[0]);			// temperature
   \   000136                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000136   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000139   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   00013C   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1400          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   00013F                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00013F   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000141   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000143   7900         MOV     R1,#0x0
   \   000145   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1401          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[0].attrData[1]);			// humidity
   \   000148                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000148   12....       LCALL   ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   00014B   A3           INC     DPTR
   \   00014C   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   00014F   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1402          			UART_ZCmdPrint		(HAL_UART_PORT_0, "!");
   \   000152                ; Setup parameters for call to function UART_ZCmdPrint
   \   000152   AA..         MOV     R2,?V10
   \   000154   AB..         MOV     R3,?V11
   \   000156   7900         MOV     R1,#0x0
   \   000158   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
   1403          		}
   1404          		
   1405          	  // update display with current temperature information, set current mode
   1406          	  zclSampleThermostat_LcdDisplayUpdate();
   \                     ??zclSampleThermostat_ProcessInReportCmd_4:
   \   00015B                ; Setup parameters for call to function zclSampleThermostat_LcdDisplayUpdate
   \   00015B   12....       LCALL   `??zclSampleThermostat_LcdDisplayUpdate::?relay`; Banked call to: zclSampleThermostat_LcdDisplayUpdate
   1407          
   1408          	  pOutDemandReport->numAttr = 3;
   \   00015E   7405         MOV     A,#0x5
   \   000160   12....       LCALL   ?XSTACK_DISP0_8
   \   000163   7403         MOV     A,#0x3
   \   000165   F0           MOVX    @DPTR,A
   1409          	  pOutDemandReport->attrList[0].attrID 		= ATTRID_HVAC_THERMOSTAT_PI_HEATING_DEMAND;
   \   000166   7406         MOV     A,#0x6
   \   000168   12....       LCALL   ?XSTACK_DISP0_8
   \   00016B   7408         MOV     A,#0x8
   \   00016D   F0           MOVX    @DPTR,A
   \   00016E   A3           INC     DPTR
   \   00016F   E4           CLR     A
   \   000170   F0           MOVX    @DPTR,A
   1410          	  pOutDemandReport->attrList[0].dataType 	= ZCL_DATATYPE_UINT8;
   \   000171   7408         MOV     A,#0x8
   \   000173   12....       LCALL   ?XSTACK_DISP0_8
   \   000176   7420         MOV     A,#0x20
   \   000178   F0           MOVX    @DPTR,A
   1411          	  pOutDemandReport->attrList[1].attrID 		= ATTRID_HVAC_THERMOSTAT_PI_COOLING_DEMAND;
   \   000179   740B         MOV     A,#0xb
   \   00017B   12....       LCALL   ?XSTACK_DISP0_8
   \   00017E   7407         MOV     A,#0x7
   \   000180   F0           MOVX    @DPTR,A
   \   000181   A3           INC     DPTR
   \   000182   E4           CLR     A
   \   000183   F0           MOVX    @DPTR,A
   1412          	  pOutDemandReport->attrList[1].dataType 	= ZCL_DATATYPE_UINT8;
   \   000184   740D         MOV     A,#0xd
   \   000186   12....       LCALL   ?XSTACK_DISP0_8
   \   000189   7420         MOV     A,#0x20
   \   00018B   F0           MOVX    @DPTR,A
   1413          		pOutDemandReport->attrList[2].attrID 		= ATTRID_ENDPOINT;
   \   00018C   7410         MOV     A,#0x10
   \   00018E   12....       LCALL   ?XSTACK_DISP0_8
   \   000191   7401         MOV     A,#0x1
   \   000193   F0           MOVX    @DPTR,A
   \   000194   A3           INC     DPTR
   \   000195   74A0         MOV     A,#-0x60
   \   000197   F0           MOVX    @DPTR,A
   1414          	  pOutDemandReport->attrList[2].dataType 	= ZCL_DATATYPE_UINT8;
   \   000198   7412         MOV     A,#0x12
   \   00019A   12....       LCALL   ?XSTACK_DISP0_8
   \   00019D   7420         MOV     A,#0x20
   \   00019F   F0           MOVX    @DPTR,A
   1415          		pOutDemandReport->attrList[2].attrData	= &src_EndPoint;
   \   0001A0   7413         MOV     A,#0x13
   \   0001A2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A5   E5..         MOV     A,?XSP + 0
   \   0001A7   F0           MOVX    @DPTR,A
   \   0001A8   A3           INC     DPTR
   \   0001A9   E5..         MOV     A,?XSP + 1
   \   0001AB   F0           MOVX    @DPTR,A
   1416          
   1417          	  // send heating demand to heating/cooling unit
   1418          	  if ( zclSampleThermostat_SystemMode == HVAC_THERMOSTAT_SYSTEM_MODE_HEAT )
   \   0001AC   90....       MOV     DPTR,#zclSampleThermostat_SystemMode
   \   0001AF   E0           MOVX    A,@DPTR
   \   0001B0   6404         XRL     A,#0x4
   \   0001B2   700C         JNZ     ??zclSampleThermostat_ProcessInReportCmd_5
   1419          	  {
   1420          	    zclSampleThermostat_HeatingDemand = 100; 	// 100%
   \   0001B4   90....       MOV     DPTR,#zclSampleThermostat_HeatingDemand
   \   0001B7   7464         MOV     A,#0x64
   \   0001B9   F0           MOVX    @DPTR,A
   1421          	    zclSampleThermostat_CoolingDemand = 0;  	// off
   \   0001BA   90....       MOV     DPTR,#zclSampleThermostat_CoolingDemand
   \   0001BD   E4           CLR     A
   \   0001BE   801F         SJMP    ??zclSampleThermostat_ProcessInReportCmd_6
   1422          
   1423          	    pOutDemandReport->attrList[0].attrData = &zclSampleThermostat_HeatingDemand;
   1424          	    pOutDemandReport->attrList[1].attrData = &zclSampleThermostat_CoolingDemand;
   1425          	  }
   1426          	  // send cooling demand to heating/cooling unit
   1427          	  else if ( zclSampleThermostat_SystemMode == HVAC_THERMOSTAT_SYSTEM_MODE_COOL )
   \                     ??zclSampleThermostat_ProcessInReportCmd_5:
   \   0001C0   E0           MOVX    A,@DPTR
   \   0001C1   6403         XRL     A,#0x3
   \   0001C3   700C         JNZ     ??zclSampleThermostat_ProcessInReportCmd_7
   1428          	  {
   1429          	    zclSampleThermostat_HeatingDemand = 0;  	// off
   \   0001C5   90....       MOV     DPTR,#zclSampleThermostat_HeatingDemand
   \   0001C8   E4           CLR     A
   \   0001C9   F0           MOVX    @DPTR,A
   1430          	    zclSampleThermostat_CoolingDemand = 100;  // 100%
   \   0001CA   90....       MOV     DPTR,#zclSampleThermostat_CoolingDemand
   \   0001CD   7464         MOV     A,#0x64
   \   0001CF   800E         SJMP    ??zclSampleThermostat_ProcessInReportCmd_6
   1431          
   1432          	    pOutDemandReport->attrList[0].attrData = &zclSampleThermostat_HeatingDemand;
   1433          	    pOutDemandReport->attrList[1].attrData = &zclSampleThermostat_CoolingDemand;
   1434          	  }
   1435          	  // turn heating/cooling unit off
   1436          	  else if ( zclSampleThermostat_SystemMode == HVAC_THERMOSTAT_SYSTEM_MODE_OFF )
   \                     ??zclSampleThermostat_ProcessInReportCmd_7:
   \   0001D1   E0           MOVX    A,@DPTR
   \   0001D2   6003         JZ      $+5
   \   0001D4   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_1 & 0xFFFF
   1437          	  {
   1438          	    zclSampleThermostat_HeatingDemand = 0;  	// off
   \   0001D7   90....       MOV     DPTR,#zclSampleThermostat_HeatingDemand
   \   0001DA   E4           CLR     A
   \   0001DB   F0           MOVX    @DPTR,A
   1439          	    zclSampleThermostat_CoolingDemand = 0;  	// off
   \   0001DC   90....       MOV     DPTR,#zclSampleThermostat_CoolingDemand
   \                     ??zclSampleThermostat_ProcessInReportCmd_6:
   \   0001DF   F0           MOVX    @DPTR,A
   1440          
   1441          	    pOutDemandReport->attrList[0].attrData = &zclSampleThermostat_HeatingDemand;
   \   0001E0   7409         MOV     A,#0x9
   \   0001E2   12....       LCALL   ?XSTACK_DISP0_8
   \   0001E5   74..         MOV     A,#zclSampleThermostat_HeatingDemand & 0xff
   \   0001E7   F0           MOVX    @DPTR,A
   \   0001E8   A3           INC     DPTR
   \   0001E9   74..         MOV     A,#(zclSampleThermostat_HeatingDemand >> 8) & 0xff
   \   0001EB   F0           MOVX    @DPTR,A
   1442          	    pOutDemandReport->attrList[1].attrData = &zclSampleThermostat_CoolingDemand;
   \   0001EC   740E         MOV     A,#0xe
   \   0001EE   12....       LCALL   ?XSTACK_DISP0_8
   \   0001F1   74..         MOV     A,#zclSampleThermostat_CoolingDemand & 0xff
   \   0001F3   F0           MOVX    @DPTR,A
   \   0001F4   A3           INC     DPTR
   \   0001F5   74..         MOV     A,#(zclSampleThermostat_CoolingDemand >> 8) & 0xff
   \   0001F7   12....       LCALL   ?Subroutine26 & 0xFFFF
   1443          	  }
   1444          	  else
   1445          	  {
   1446          	    send = FALSE;
   1447          	  }
   1448          
   1449          	  if ( send )
   1450          	  {
   1451          	    zcl_SendReportCmd( SAMPLETHERMOSTAT_ENDPOINT, &zclSampleThermostat_DstAddr,
   1452          	                      ZCL_CLUSTER_ID_HVAC_THERMOSTAT,
   1453          	                      pOutDemandReport, ZCL_FRAME_SERVER_CLIENT_DIR, TRUE, zclSampleThermostatSeqNum++ );
   \                     ??CrossCallReturnLabel_44:
   \   0001FA   F5..         MOV     ?V0,A
   \   0001FC   78..         MOV     R0,#?V0
   \   0001FE   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000201   75..01       MOV     ?V0,#0x1
   \   000204   78..         MOV     R0,#?V0
   \   000206   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000209   78..         MOV     R0,#?V0
   \   00020B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00020E   7408         MOV     A,#0x8
   \   000210   12....       LCALL   ?XSTACK_DISP100_8
   \   000213   88..         MOV     ?V0,R0
   \   000215   89..         MOV     ?V1,R1
   \   000217   78..         MOV     R0,#?V0
   \   000219   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00021C   7C01         MOV     R4,#0x1
   \   00021E   7D02         MOV     R5,#0x2
   \   000220   7A..         MOV     R2,#zclSampleThermostat_DstAddr & 0xff
   \   000222   7B..         MOV     R3,#(zclSampleThermostat_DstAddr >> 8) & 0xff
   \   000224   7901         MOV     R1,#0x1
   \   000226   12....       LCALL   `??zcl_SendReportCmd::?relay`; Banked call to: zcl_SendReportCmd
   \   000229   7405         MOV     A,#0x5
   \   00022B   12....       LCALL   ?DEALLOC_XSTACK8
   1454          			
   1455          			UART_DebugPrint(HAL_UART_PORT_0, "SENT TO ENGINE!");
   \   00022E                ; Setup parameters for call to function UART_DebugPrint
   \   00022E   7A..         MOV     R2,#`?<Constant "SENT TO ENGINE!">` & 0xff
   \   000230   7B..         MOV     R3,#(`?<Constant "SENT TO ENGINE!">` >> 8) & 0xff
   \   000232   7900         MOV     R1,#0x0
   \   000234   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
   1456          
   1457          			/* Feedback Data Sent */
   1458          			if (FLAG_ECHO_SDATA)
   \   000237   90....       MOV     DPTR,#FLAG_ECHO_SDATA
   \   00023A   E0           MOVX    A,@DPTR
   \   00023B   6054         JZ      ??zclSampleThermostat_ProcessInReportCmd_8
   1459          			{
   1460          				UART_ZCmdPrintString(HAL_UART_PORT_0, "@ZBS:");
   \   00023D                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00023D   7A..         MOV     R2,#`?<Constant "@ZBS:">` & 0xff
   \   00023F   7B..         MOV     R3,#(`?<Constant "@ZBS:">` >> 8) & 0xff
   \   000241   7900         MOV     R1,#0x0
   \   000243   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1461          				UART_ZCmdPrintString(HAL_UART_PORT_0, "indirect");															// destShortAddr
   \   000246                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000246   7A..         MOV     R2,#`?<Constant "indirect">` & 0xff
   \   000248   7B..         MOV     R3,#(`?<Constant "indirect">` >> 8) & 0xff
   \   00024A   7900         MOV     R1,#0x0
   \   00024C   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1462          				UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   00024F                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00024F   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000251   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000253   7900         MOV     R1,#0x0
   \   000255   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1463          				UART_ZCmdPrintNum 	(HAL_UART_PORT_0, src_EndPoint);															// destEndPoint
   \   000258                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000258   85..82       MOV     DPL,?XSP + 0
   \   00025B   85..83       MOV     DPH,?XSP + 1
   \   00025E   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   000261   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1464          				UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000264                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000264   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000266   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000268   7900         MOV     R1,#0x0
   \   00026A   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1465          				UART_ZCmdPrintNum 	(HAL_UART_PORT_0, zclSampleThermostat_HeatingDemand);					// destHeating
   \   00026D                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   00026D   90....       MOV     DPTR,#zclSampleThermostat_HeatingDemand
   \   000270   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   000273   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1466          				UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000276                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000276   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   000278   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   00027A   7900         MOV     R1,#0x0
   \   00027C   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1467          				UART_ZCmdPrintNum 	(HAL_UART_PORT_0, zclSampleThermostat_CoolingDemand);					// destCooling
   \   00027F                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   00027F   90....       MOV     DPTR,#zclSampleThermostat_CoolingDemand
   \   000282   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_86:
   \   000285   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1468          				UART_ZCmdPrint			(HAL_UART_PORT_0, "!");
   \   000288                ; Setup parameters for call to function UART_ZCmdPrint
   \   000288   AA..         MOV     R2,?V10
   \   00028A   AB..         MOV     R3,?V11
   \   00028C   7900         MOV     R1,#0x0
   \   00028E   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
   1469          			}	
   1470          
   1471          			/* Send report to ZB Coordinator */
   1472          			#ifdef ROUTER	
   1473          			uint16 HeatingCooling_Demand = BUILD_UINT16(zclSampleThermostat_HeatingDemand, zclSampleThermostat_CoolingDemand);
   \                     ??zclSampleThermostat_ProcessInReportCmd_8:
   \   000291   90....       MOV     DPTR,#zclSampleThermostat_HeatingDemand
   \   000294   E0           MOVX    A,@DPTR
   \   000295   FA           MOV     R2,A
   \   000296   90....       MOV     DPTR,#zclSampleThermostat_CoolingDemand
   \   000299   E0           MOVX    A,@DPTR
   \   00029A   F9           MOV     R1,A
   \   00029B   EA           MOV     A,R2
   \   00029C   F8           MOV     R0,A
   \   00029D   7403         MOV     A,#0x3
   \   00029F   12....       LCALL   ?XSTACK_DISP0_8
   \   0002A2   12....       LCALL   ?Subroutine11 & 0xFFFF
   1474          			uint16 TempHum_Value = BUILD_UINT16(pInReportCmd->attrList[0].attrData[0], pInReportCmd->attrList[0].attrData[1]);
   \                     ??CrossCallReturnLabel_11:
   \   0002A5   85..82       MOV     DPL,?V2
   \   0002A8   85..83       MOV     DPH,?V3
   \   0002AB   12....       LCALL   ??Subroutine35_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   0002AE   8882         MOV     DPL,R0
   \   0002B0   8983         MOV     DPH,R1
   \   0002B2   E0           MOVX    A,@DPTR
   \   0002B3   FA           MOV     R2,A
   \   0002B4   A3           INC     DPTR
   \   0002B5   E0           MOVX    A,@DPTR
   \   0002B6   F9           MOV     R1,A
   \   0002B7   EA           MOV     A,R2
   \   0002B8   F8           MOV     R0,A
   \   0002B9   7401         MOV     A,#0x1
   \   0002BB   12....       LCALL   ?XSTACK_DISP0_8
   \   0002BE   12....       LCALL   ?Subroutine11 & 0xFFFF
   1475          			
   1476          			afAddrType_t DstAddr;
   1477          			DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \                     ??CrossCallReturnLabel_12:
   \   0002C1   741D         MOV     A,#0x1d
   \   0002C3   12....       LCALL   ?XSTACK_DISP0_8
   \   0002C6   7402         MOV     A,#0x2
   \   0002C8   F0           MOVX    @DPTR,A
   1478          			DstAddr.endPoint = APP_COORDINATOR_ENDPOINT;
   \   0002C9   741E         MOV     A,#0x1e
   \   0002CB   12....       LCALL   ?XSTACK_DISP0_8
   \   0002CE   7408         MOV     A,#0x8
   \   0002D0   F0           MOVX    @DPTR,A
   1479          			DstAddr.addr.shortAddr = 0;
   \   0002D1   7415         MOV     A,#0x15
   \   0002D3   12....       LCALL   ?XSTACK_DISP0_8
   \   0002D6   E4           CLR     A
   \   0002D7   F0           MOVX    @DPTR,A
   \   0002D8   A3           INC     DPTR
   \   0002D9   F0           MOVX    @DPTR,A
   1480          			
   1481          			zclReportCmd_t *pReportCmd;
   1482          			pReportCmd = osal_mem_alloc( sizeof(zclReportCmd_t) + 3 * sizeof(zclReport_t) );
   \   0002DA                ; Setup parameters for call to function osal_mem_alloc
   \   0002DA   7A10         MOV     R2,#0x10
   \   0002DC   FB           MOV     R3,A
   \   0002DD   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   0002E0   8A..         MOV     ?V0,R2
   \   0002E2   8B..         MOV     ?V1,R3
   1483          			if ( pReportCmd != NULL )
   \   0002E4   EA           MOV     A,R2
   \   0002E5   45..         ORL     A,?V1
   \   0002E7   7003         JNZ     $+5
   \   0002E9   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_9 & 0xFFFF
   1484          			{
   1485          				pReportCmd->numAttr = 3;
   \   0002EC   8A82         MOV     DPL,R2
   \   0002EE   8B83         MOV     DPH,R3
   \   0002F0   7403         MOV     A,#0x3
   \   0002F2   12....       LCALL   ?Subroutine6 & 0xFFFF
   1486          				
   1487          				// Sensor value
   1488          				pReportCmd->attrList[0].attrID		= ATTRID_REPORT_DATA_COORD;
   1489          				pReportCmd->attrList[0].dataType	= ZCL_DATATYPE_INT16;
   \                     ??CrossCallReturnLabel_95:
   \   0002F5   7429         MOV     A,#0x29
   \   0002F7   F0           MOVX    @DPTR,A
   1490          				pReportCmd->attrList[0].attrData	= (void *)(&TempHum_Value);
   \   0002F8   7401         MOV     A,#0x1
   \   0002FA   12....       LCALL   ?XSTACK_DISP100_8
   \   0002FD   12....       LCALL   ?Subroutine9 & 0xFFFF
   1491          				// Heating / Cooling Demand
   1492          				pReportCmd->attrList[1].attrID		= ATTRID_REPORT_DATA_COORD;
   \                     ??CrossCallReturnLabel_7:
   \   000300   7404         MOV     A,#0x4
   \   000302   12....       LCALL   ?Subroutine5 & 0xFFFF
   1493          				pReportCmd->attrList[1].dataType	= ZCL_DATATYPE_UINT16;
   \                     ??CrossCallReturnLabel_100:
   \   000305   7421         MOV     A,#0x21
   \   000307   F0           MOVX    @DPTR,A
   1494          				pReportCmd->attrList[1].attrData	= (void *)(&HeatingCooling_Demand);
   \   000308   7403         MOV     A,#0x3
   \   00030A   12....       LCALL   ?XSTACK_DISP100_8
   \   00030D   8A82         MOV     DPL,R2
   \   00030F   8B83         MOV     DPH,R3
   \   000311   A3           INC     DPTR
   \   000312   A3           INC     DPTR
   \   000313   A3           INC     DPTR
   \   000314   A3           INC     DPTR
   \   000315   A3           INC     DPTR
   \   000316   A3           INC     DPTR
   \   000317   A3           INC     DPTR
   \   000318   A3           INC     DPTR
   \   000319   A3           INC     DPTR
   \   00031A   12....       LCALL   ?Subroutine11 & 0xFFFF
   1495          				// Information: shortAddr (16bits), endPoint (8bits)
   1496          				pReportCmd->attrList[2].attrID		= pInMsg->srcAddr.addr.shortAddr;
   \                     ??CrossCallReturnLabel_13:
   \   00031D   85..82       MOV     DPL,?V8
   \   000320   85..83       MOV     DPH,?V9
   \   000323   12....       LCALL   ??Subroutine35_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   000326   EA           MOV     A,R2
   \   000327   240B         ADD     A,#0xb
   \   000329   F582         MOV     DPL,A
   \   00032B   E4           CLR     A
   \   00032C   35..         ADDC    A,?V1
   \   00032E   F583         MOV     DPH,A
   \   000330   12....       LCALL   ?Subroutine11 & 0xFFFF
   1497          				pReportCmd->attrList[2].dataType	= ZCL_DATATYPE_UINT8;
   \                     ??CrossCallReturnLabel_14:
   \   000333   EA           MOV     A,R2
   \   000334   240D         ADD     A,#0xd
   \   000336   F582         MOV     DPL,A
   \   000338   E4           CLR     A
   \   000339   35..         ADDC    A,?V1
   \   00033B   F583         MOV     DPH,A
   \   00033D   7420         MOV     A,#0x20
   \   00033F   F0           MOVX    @DPTR,A
   1498          				pReportCmd->attrList[2].attrData	= &(pInMsg->srcAddr.endPoint);
   \   000340   EA           MOV     A,R2
   \   000341   240E         ADD     A,#0xe
   \   000343   F582         MOV     DPL,A
   \   000345   E4           CLR     A
   \   000346   35..         ADDC    A,?V1
   \   000348   F583         MOV     DPH,A
   \   00034A   E5..         MOV     A,?V6
   \   00034C   F0           MOVX    @DPTR,A
   \   00034D   A3           INC     DPTR
   \   00034E   E5..         MOV     A,?V7
   \   000350   12....       LCALL   ?Subroutine4 & 0xFFFF
   1499          			
   1500          				zcl_SendReportCmd( SAMPLETHERMOSTAT_ENDPOINT, &DstAddr,
   1501          													 ZCL_CLUSTER_ID_HVAC_THERMOSTAT,
   1502          													 pReportCmd, ZCL_FRAME_SERVER_CLIENT_DIR, TRUE, zclSampleThermostatSeqNum++ );
   1503          			}
   \                     ??CrossCallReturnLabel_0:
   \   000353   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000356   75..01       MOV     ?V2,#0x1
   \   000359   78..         MOV     R0,#?V2
   \   00035B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00035E   78..         MOV     R0,#?V2
   \   000360   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000363   78..         MOV     R0,#?V0
   \   000365   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000368   7C01         MOV     R4,#0x1
   \   00036A   7D02         MOV     R5,#0x2
   \   00036C   741A         MOV     A,#0x1a
   \   00036E   12....       LCALL   ?XSTACK_DISP101_8
   \   000371   7901         MOV     R1,#0x1
   \   000373   12....       LCALL   `??zcl_SendReportCmd::?relay`; Banked call to: zcl_SendReportCmd
   \   000376   7405         MOV     A,#0x5
   \   000378   12....       LCALL   ?DEALLOC_XSTACK8
   1504          			
   1505          			osal_mem_free( pReportCmd );
   \                     ??zclSampleThermostat_ProcessInReportCmd_9:
   \   00037B                ; Setup parameters for call to function osal_mem_free
   \   00037B   AA..         MOV     R2,?V0
   \   00037D   AB..         MOV     R3,?V1
   \   00037F   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   1506          			#endif
   1507          	  }
   1508          		return;
   \   000382   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_1 & 0xFFFF
   1509            }
   1510          	
   1511          	/*- FREE DATA --------------------------------------------------------------*/
   1512          	if ( pInReportCmd->attrList[0].attrID == ATTRID_FREE_DATA )
   \                     ??zclSampleThermostat_ProcessInReportCmd_3:
   \   000385   7403         MOV     A,#0x3
   \   000387   68           XRL     A,R0
   \   000388   7003         JNZ     ??zclSampleThermostat_ProcessInReportCmd_10
   \   00038A   74A0         MOV     A,#-0x60
   \   00038C   69           XRL     A,R1
   \                     ??zclSampleThermostat_ProcessInReportCmd_10:
   \   00038D   6003         JZ      $+5
   \   00038F   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_1 & 0xFFFF
   1513          	{
   1514          		uint8 i;
   1515          		uint8 tmp_Data[20];
   1516          		
   1517          		HalLedBlink ( HAL_LED_2, 1, 50, 500 );
   \   000392                ; Setup parameters for call to function HalLedBlink
   \   000392   7CF4         MOV     R4,#-0xc
   \   000394   7D01         MOV     R5,#0x1
   \   000396   7B32         MOV     R3,#0x32
   \   000398   7A01         MOV     R2,#0x1
   \   00039A   7902         MOV     R1,#0x2
   \   00039C   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
   1518          		
   1519          		if (FLAG_ECHO_RDATA)
   \   00039F   90....       MOV     DPTR,#FLAG_ECHO_RDATA
   \   0003A2   E0           MOVX    A,@DPTR
   \   0003A3   7003         JNZ     $+5
   \   0003A5   02....       LJMP    ??zclSampleThermostat_ProcessInReportCmd_1 & 0xFFFF
   1520          		{
   1521          			UART_ZCmdPrintString(HAL_UART_PORT_0, "@ZBR:");
   \   0003A8                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0003A8   AA..         MOV     R2,?V4
   \   0003AA   AB..         MOV     R3,?V5
   \   0003AC   7900         MOV     R1,#0x0
   \   0003AE   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1522          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, msg_RSSI);																// RSSI
   \   0003B1                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0003B1   12....       LCALL   ?Subroutine15 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   0003B4   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1523          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0003B7                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0003B7   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   0003B9   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   0003BB   7900         MOV     R1,#0x0
   \   0003BD   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1524          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.addr.shortAddr);					// shortAddr
   \   0003C0                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0003C0   85..82       MOV     DPL,?V8
   \   0003C3   85..83       MOV     DPH,?V9
   \   0003C6   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   0003C9   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1525          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0003CC                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0003CC   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   0003CE   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   0003D0   7900         MOV     R1,#0x0
   \   0003D2   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1526          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.endPoint);								// endPoint
   \   0003D5                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0003D5   85..82       MOV     DPL,?V6
   \   0003D8   85..83       MOV     DPH,?V7
   \   0003DB   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   0003DE   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1527          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0003E1                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0003E1   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   0003E3   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   0003E5   7900         MOV     R1,#0x0
   \   0003E7   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1528          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[1].attrID); 				// coordShortAddr
   \   0003EA                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0003EA   85..82       MOV     DPL,?V0
   \   0003ED   85..83       MOV     DPH,?V1
   \   0003F0   A3           INC     DPTR
   \   0003F1   A3           INC     DPTR
   \   0003F2   A3           INC     DPTR
   \   0003F3   A3           INC     DPTR
   \   0003F4   A3           INC     DPTR
   \   0003F5   A3           INC     DPTR
   \   0003F6   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   0003F9   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1529          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";"); 
   \   0003FC                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0003FC   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   0003FE   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000400   7900         MOV     R1,#0x0
   \   000402   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1530          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[1].attrData[0]); 	// data size
   \   000405   E5..         MOV     A,?V0
   \   000407   2409         ADD     A,#0x9
   \   000409   F5..         MOV     ?V0,A
   \   00040B   5002         JNC     ??zclSampleThermostat_ProcessInReportCmd_11
   \   00040D   05..         INC     ?V1
   \                     ??zclSampleThermostat_ProcessInReportCmd_11:
   \   00040F                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   00040F   F582         MOV     DPL,A
   \   000411   85..83       MOV     DPH,?V1
   \   000414   12....       LCALL   ??Subroutine36_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   000417   12....       LCALL   ??Subroutine38_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   00041A   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
   1531          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   00041D                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00041D   7A..         MOV     R2,#`?<Constant ";">` & 0xff
   \   00041F   7B..         MOV     R3,#(`?<Constant ";">` >> 8) & 0xff
   \   000421   7900         MOV     R1,#0x0
   \   000423   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
   1532          			
   1533          			// eliminate DUMMY byte index[0]
   1534          			for (i = 1; i <= pInReportCmd->attrList[1].attrData[0]; i++)
   \   000426   7A01         MOV     R2,#0x1
   \   000428   8031         SJMP    ??zclSampleThermostat_ProcessInReportCmd_12
   1535          			{
   1536          				tmp_Data[i-1] = pInReportCmd->attrList[0].attrData[i];
   \                     ??zclSampleThermostat_ProcessInReportCmd_13:
   \   00042A   EA           MOV     A,R2
   \   00042B   F8           MOV     R0,A
   \   00042C   85..82       MOV     DPL,?V2
   \   00042F   85..83       MOV     DPH,?V3
   \   000432   E0           MOVX    A,@DPTR
   \   000433   28           ADD     A,R0
   \   000434   FB           MOV     R3,A
   \   000435   A3           INC     DPTR
   \   000436   E0           MOVX    A,@DPTR
   \   000437   3400         ADDC    A,#0x0
   \   000439   8B82         MOV     DPL,R3
   \   00043B   F583         MOV     DPH,A
   \   00043D   E0           MOVX    A,@DPTR
   \   00043E   C0E0         PUSH    A
   \   000440   7421         MOV     A,#0x21
   \   000442   12....       LCALL   ?XSTACK_DISP0_8
   \   000445   E582         MOV     A,DPL
   \   000447   28           ADD     A,R0
   \   000448   F8           MOV     R0,A
   \   000449   E4           CLR     A
   \   00044A   3583         ADDC    A,DPH
   \   00044C   F9           MOV     R1,A
   \   00044D   E8           MOV     A,R0
   \   00044E   24FF         ADD     A,#-0x1
   \   000450   F582         MOV     DPL,A
   \   000452   E9           MOV     A,R1
   \   000453   34FF         ADDC    A,#-0x1
   \   000455   F583         MOV     DPH,A
   \   000457   D0E0         POP     A
   \   000459   F0           MOVX    @DPTR,A
   1537          			}
   \   00045A   0A           INC     R2
   \                     ??zclSampleThermostat_ProcessInReportCmd_12:
   \   00045B   85..82       MOV     DPL,?V0
   \   00045E   85..83       MOV     DPH,?V1
   \   000461   12....       LCALL   ??Subroutine36_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   000464   E0           MOVX    A,@DPTR
   \   000465   FC           MOV     R4,A
   \   000466   C3           CLR     C
   \   000467   9A           SUBB    A,R2
   \   000468   50C0         JNC     ??zclSampleThermostat_ProcessInReportCmd_13
   1538          			UART_ZCmdPrintBuffer(HAL_UART_PORT_0, tmp_Data, pInReportCmd->attrList[1].attrData[0]); 	// Free Data
   \   00046A                ; Setup parameters for call to function UART_ZCmdPrintBuffer
   \   00046A   7421         MOV     A,#0x21
   \   00046C   12....       LCALL   ?XSTACK_DISP101_8
   \   00046F   7900         MOV     R1,#0x0
   \   000471   12....       LCALL   `??UART_ZCmdPrintBuffer::?relay`; Banked call to: UART_ZCmdPrintBuffer
   1539          			UART_ZCmdPrint			(HAL_UART_PORT_0, "!");
   \   000474                ; Setup parameters for call to function UART_ZCmdPrint
   \                     ??zclSampleThermostat_ProcessInReportCmd_2:
   \   000474   AA..         MOV     R2,?V10
   \   000476   AB..         MOV     R3,?V11
   \   000478   7900         MOV     R1,#0x0
   \   00047A   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
   1540          		}
   1541          		return;
   1542          	}
   1543          
   1544          
   1545          }
   \                     ??zclSampleThermostat_ProcessInReportCmd_1:
   \   00047D   7435         MOV     A,#0x35
   \   00047F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000482   7F0C         MOV     R7,#0xc
   \   000484   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V4,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   AA..         MOV     R2,?V4
   \   000007   FB           MOV     R3,A
   \   000008   E4           CLR     A
   \   000009   FC           MOV     R4,A
   \   00000A   FD           MOV     R5,A
   \   00000B   F9           MOV     R1,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   85..82       MOV     DPL,?V2
   \   000003   85..83       MOV     DPH,?V3
   \   000006                REQUIRE ??Subroutine36_0
   \   000006                ; // Fall through to label ??Subroutine36_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine36_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F583         MOV     DPH,A
   \   000006   8882         MOV     DPL,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   90....       MOV     DPTR,#msg_RSSI
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FA           MOV     R2,A
   \   000005   33           RLC     A
   \   000006   95E0         SUBB    A,0xE0 /* A   */
   \   000008   FB           MOV     R3,A
   \   000009   FC           MOV     R4,A
   \   00000A   FD           MOV     R5,A
   \   00000B   7900         MOV     R1,#0x0
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   85..82       MOV     DPL,?V8
   \   000003   85..83       MOV     DPH,?V9
   \   000006                REQUIRE ??Subroutine37_0
   \   000006                ; // Fall through to label ??Subroutine37_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   04           INC     A
   \   000003                REQUIRE ??Subroutine39_0
   \   000003                ; // Fall through to label ??Subroutine39_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine39_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   74A0         MOV     A,#-0x60
   \   000004   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_105:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   74A0         MOV     A,#-0x60
   \   000004                REQUIRE ??Subroutine40_0
   \   000004                ; // Fall through to label ??Subroutine40_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine40_0:
   \   000000   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   8A82         MOV     DPL,R2
   \   000002   8B83         MOV     DPH,R3
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   E8           MOV     A,R0
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   A3           INC     DPTR
   \   00000B   E9           MOV     A,R1
   \   00000C   12....       LCALL   ?Subroutine25 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   A3           INC     DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   000003   F5..         MOV     ?V2,A
   \   000005   78..         MOV     R0,#?V2
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   90....       MOV     DPTR,#zclSampleThermostatSeqNum
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F8           MOV     R0,A
   \   000006   7401         MOV     A,#0x1
   \   000008   28           ADD     A,R0
   \   000009   F0           MOVX    @DPTR,A
   \   00000A                ; Setup parameters for call to function zcl_SendReportCmd
   \   00000A                ; Setup parameters for call to function zcl_SendReportCmd
   \   00000A                ; Setup parameters for call to function zcl_SendReportCmd
   \   00000A                ; Setup parameters for call to function zcl_SendReportCmd
   \   00000A   E8           MOV     A,R0
   \   00000B   22           RET
   1546          #endif  // ZCL_REPORT
   1547          
   1548          /*********************************************************************
   1549           * @fn      zclSampleThermostat_ProcessInDefaultRspCmd
   1550           *
   1551           * @brief   Process the "Profile" Default Response Command
   1552           *
   1553           * @param   pInMsg - incoming message to process
   1554           *
   1555           * @return  none
   1556           */
   1557          static uint8 zclSampleThermostat_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg )
   1558          {
   1559            // zclDefaultRspCmd_t *defaultRspCmd = (zclDefaultRspCmd_t *)pInMsg->attrCmd;
   1560          
   1561            // Device is notified of the Default Response command.
   1562            (void)pInMsg;
   1563          
   1564            return ( TRUE );
   1565          }
   1566          
   1567          #ifdef ZCL_EZMODE
   1568          /*********************************************************************
   1569           * @fn      zclSampleThermostat_ProcessZDOMsgs
   1570           *
   1571           * @brief   Called when this node receives a ZDO/ZDP response.
   1572           *
   1573           * @param   none
   1574           *
   1575           * @return  status
   1576           */
   1577          static void zclSampleThermostat_ProcessZDOMsgs( zdoIncomingMsg_t *pMsg )
   1578          {
   1579            zclEZMode_ActionData_t data;
   1580            ZDO_MatchDescRsp_t *pMatchDescRsp;
   1581          
   1582            // Let EZ-Mode know of the Match Descriptor Response
   1583            if ( pMsg->clusterID == Match_Desc_rsp )
   1584            {
   1585              pMatchDescRsp = ZDO_ParseEPListRsp( pMsg );
   1586              data.pMatchDescRsp = pMatchDescRsp;
   1587              zcl_EZModeAction( EZMODE_ACTION_MATCH_DESC_RSP, &data );
   1588              osal_mem_free( pMatchDescRsp );
   1589            }
   1590          }
   1591          
   1592          /*********************************************************************
   1593           * @fn      zclSampleThermostat_EZModeCB
   1594           *
   1595           * @brief   The Application is informed of events. This can be used to show on the UI what is
   1596          *           going on during EZ-Mode steering/finding/binding.
   1597           *
   1598           * @param   state - EZ-Mode state
   1599           *          pData - data appropriate to state
   1600           *
   1601           * @return  none
   1602           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1603          static void zclSampleThermostat_EZModeCB( zlcEZMode_State_t state, zclEZMode_CBData_t *pData )
   \                     zclSampleThermostat_EZModeCB:
   1604          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 20
   \   000005   74EC         MOV     A,#-0x14
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   89..         MOV     ?V2,R1
   \   00000C   EA           MOV     A,R2
   \   00000D   FE           MOV     R6,A
   \   00000E   EB           MOV     A,R3
   \   00000F   FF           MOV     R7,A
   1605          #ifdef LCD_SUPPORTED
   1606            char szLine[20];
   1607            char *pStr;
   1608            uint8 err;
   1609          #endif
   1610          
   1611            // time to go into identify mode
   1612            if ( state == EZMODE_STATE_IDENTIFYING )
   \   000010   7404         MOV     A,#0x4
   \   000012   65..         XRL     A,?V2
   \   000014   700F         JNZ     ??zclSampleThermostat_EZModeCB_0
   1613            {
   1614              zclSampleThermostat_IdentifyTime = (EZMODE_TIME / 1000);  // convert to seconds
   \   000016   90....       MOV     DPTR,#zclSampleThermostat_IdentifyTime
   \   000019   74B4         MOV     A,#-0x4c
   \   00001B   F0           MOVX    @DPTR,A
   \   00001C   A3           INC     DPTR
   \   00001D   E4           CLR     A
   \   00001E   F0           MOVX    @DPTR,A
   1615              zclSampleThermostat_ProcessIdentifyTimeChange();
   \   00001F                ; Setup parameters for call to function zclSampleThermostat_ProcessIdentifyTimeChange
   \   00001F   12....       LCALL   ??zclSampleThermostat_ProcessIdentifyTimeChange; Banked call to: zclSampleThermostat_ProcessIdentifyTimeChange
   \   000022   02....       LJMP    ??zclSampleThermostat_EZModeCB_1 & 0xFFFF
   1616            }
   1617          
   1618            // autoclosing, show what happened (success, cancelled, etc...)
   1619            if( state == EZMODE_STATE_AUTOCLOSE )
   \                     ??zclSampleThermostat_EZModeCB_0:
   \   000025   7407         MOV     A,#0x7
   \   000027   65..         XRL     A,?V2
   \   000029   701F         JNZ     ??zclSampleThermostat_EZModeCB_2
   1620            {
   1621          #ifdef LCD_SUPPORTED
   1622              pStr = NULL;
   1623              err = pData->sAutoClose.err;
   1624              if ( err == EZMODE_ERR_SUCCESS )
   \   00002B   8E82         MOV     DPL,R6
   \   00002D   8F83         MOV     DPH,R7
   \   00002F   E0           MOVX    A,@DPTR
   \   000030   6003         JZ      $+5
   \   000032   02....       LJMP    ??zclSampleThermostat_EZModeCB_1 & 0xFFFF
   1625              {
   1626                pStr = "EZMode: Success";
   1627              }
   1628              if ( pStr )
   1629              {
   1630                if ( giThermostatScreenMode == THERMOSTAT_MAINMODE )
   \   000035   90....       MOV     DPTR,#giThermostatScreenMode
   \   000038   E0           MOVX    A,@DPTR
   \   000039   6003         JZ      $+5
   \   00003B   02....       LJMP    ??zclSampleThermostat_EZModeCB_1 & 0xFFFF
   1631                  HalLcdWriteString ( pStr, HAL_LCD_LINE_2 );
   \   00003E                ; Setup parameters for call to function HalLcdWriteString
   \   00003E   7902         MOV     R1,#0x2
   \   000040   7A..         MOV     R2,#`?<Constant "EZMode: Success">` & 0xff
   \   000042   7B..         MOV     R3,#(`?<Constant "EZMode: Success">` >> 8) & 0xff
   \   000044   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   \   000047   02....       LJMP    ??zclSampleThermostat_EZModeCB_1 & 0xFFFF
   1632              }
   1633          #endif
   1634            }
   1635          
   1636            // finished, either show DstAddr/EP, or nothing (depending on success or not)
   1637            if ( state == EZMODE_STATE_FINISH )
   \                     ??zclSampleThermostat_EZModeCB_2:
   \   00004A   7463         MOV     A,#0x63
   \   00004C   65..         XRL     A,?V2
   \   00004E   6003         JZ      $+5
   \   000050   02....       LJMP    ??zclSampleThermostat_EZModeCB_1 & 0xFFFF
   1638            {
   1639              // turn off identify mode
   1640              zclSampleThermostat_IdentifyTime = 0;
   \   000053   90....       MOV     DPTR,#zclSampleThermostat_IdentifyTime
   \   000056   E4           CLR     A
   \   000057   F0           MOVX    @DPTR,A
   \   000058   A3           INC     DPTR
   \   000059   F0           MOVX    @DPTR,A
   1641              zclSampleThermostat_ProcessIdentifyTimeChange();
   \   00005A                ; Setup parameters for call to function zclSampleThermostat_ProcessIdentifyTimeChange
   \   00005A   12....       LCALL   ??zclSampleThermostat_ProcessIdentifyTimeChange; Banked call to: zclSampleThermostat_ProcessIdentifyTimeChange
   1642          
   1643          #ifdef LCD_SUPPORTED
   1644              // if successful, inform user which nwkaddr/ep we bound to
   1645              pStr = NULL;
   1646              err = pData->sFinish.err;
   \   00005D   8E82         MOV     DPL,R6
   \   00005F   8F83         MOV     DPH,R7
   \   000061   E0           MOVX    A,@DPTR
   \   000062   F8           MOV     R0,A
   1647              if ( err == EZMODE_ERR_SUCCESS )
   \   000063   6003         JZ      $+5
   \   000065   02....       LJMP    ??zclSampleThermostat_EZModeCB_3 & 0xFFFF
   1648              {
   1649                // "EZDst:1234 EP:34"
   1650                osal_memcpy(szLine, "EZDst:", 6);
   \   000068                ; Setup parameters for call to function osal_memcpy
   \   000068   75....       MOV     ?V4,#`?<Constant "EZDst:">` & 0xff
   \   00006B   75....       MOV     ?V5,#(`?<Constant "EZDst:">` >> 8) & 0xff
   \   00006E   75..00       MOV     ?V6,#0x0
   \   000071   78..         MOV     R0,#?V4
   \   000073   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000076   7C06         MOV     R4,#0x6
   \   000078   7D00         MOV     R5,#0x0
   \   00007A   7403         MOV     A,#0x3
   \   00007C   12....       LCALL   ?XSTACK_DISP101_8
   \   00007F   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000082   7403         MOV     A,#0x3
   \   000084   12....       LCALL   ?DEALLOC_XSTACK8
   1651                zclHA_uint16toa( pData->sFinish.nwkaddr, &szLine[6]);
   \   000087                ; Setup parameters for call to function zclHA_uint16toa
   \   000087   7406         MOV     A,#0x6
   \   000089   12....       LCALL   ?XSTACK_DISP0_8
   \   00008C   AC82         MOV     R4,DPL
   \   00008E   AD83         MOV     R5,DPH
   \   000090   8E82         MOV     DPL,R6
   \   000092   8F83         MOV     DPH,R7
   \   000094   A3           INC     DPTR
   \   000095   A3           INC     DPTR
   \   000096   E0           MOVX    A,@DPTR
   \   000097   FA           MOV     R2,A
   \   000098   A3           INC     DPTR
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   FB           MOV     R3,A
   \   00009B   12....       LCALL   `??zclHA_uint16toa::?relay`; Banked call to: zclHA_uint16toa
   1652                osal_memcpy(&szLine[10], " EP:", 4);
   \   00009E                ; Setup parameters for call to function osal_memcpy
   \   00009E   75....       MOV     ?V4,#`?<Constant " EP:">` & 0xff
   \   0000A1   75....       MOV     ?V5,#(`?<Constant " EP:">` >> 8) & 0xff
   \   0000A4   78..         MOV     R0,#?V4
   \   0000A6   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A9   7C04         MOV     R4,#0x4
   \   0000AB   7D00         MOV     R5,#0x0
   \   0000AD   740D         MOV     A,#0xd
   \   0000AF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B2   AA82         MOV     R2,DPL
   \   0000B4   AB83         MOV     R3,DPH
   \   0000B6   12....       LCALL   `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000B9   7403         MOV     A,#0x3
   \   0000BB   12....       LCALL   ?DEALLOC_XSTACK8
   1653                _ltoa( pData->sFinish.ep, (void *)(&szLine[14]), 16 );  // _ltoa NULL terminates
   \   0000BE                ; Setup parameters for call to function _ltoa
   \   0000BE   740E         MOV     A,#0xe
   \   0000C0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C3   8582..       MOV     ?V0,DPL
   \   0000C6   8583..       MOV     ?V1,DPH
   \   0000C9   78..         MOV     R0,#?V0
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CE   7910         MOV     R1,#0x10
   \   0000D0   8E82         MOV     DPL,R6
   \   0000D2   8F83         MOV     DPH,R7
   \   0000D4   A3           INC     DPTR
   \   0000D5   E0           MOVX    A,@DPTR
   \   0000D6   FA           MOV     R2,A
   \   0000D7   E4           CLR     A
   \   0000D8   FB           MOV     R3,A
   \   0000D9   FC           MOV     R4,A
   \   0000DA   FD           MOV     R5,A
   \   0000DB   12....       LCALL   `??_ltoa::?relay`    ; Banked call to: _ltoa
   \   0000DE   7402         MOV     A,#0x2
   \   0000E0   12....       LCALL   ?DEALLOC_XSTACK8
   1654                pStr = szLine;
   \   0000E3   A8..         MOV     R0,?XSP + 0
   \   0000E5   A9..         MOV     R1,?XSP + 1
   \   0000E7   88..         MOV     ?V0,R0
   \   0000E9   89..         MOV     ?V1,R1
   \   0000EB   AA..         MOV     R2,?V0
   \   0000ED   AB..         MOV     R3,?V1
   \   0000EF   8025         SJMP    ??zclSampleThermostat_EZModeCB_4
   1655              }
   1656              else if ( err == EZMODE_ERR_BAD_PARAMETER )
   \                     ??zclSampleThermostat_EZModeCB_3:
   \   0000F1   7401         MOV     A,#0x1
   \   0000F3   68           XRL     A,R0
   \   0000F4   7006         JNZ     ??zclSampleThermostat_EZModeCB_5
   1657              {
   1658                pStr = "EZMode: BadParm";
   \   0000F6   7A..         MOV     R2,#`?<Constant "EZMode: BadParm">` & 0xff
   \   0000F8   7B..         MOV     R3,#(`?<Constant "EZMode: BadParm">` >> 8) & 0xff
   \   0000FA   801A         SJMP    ??zclSampleThermostat_EZModeCB_4
   1659              }
   1660              else if ( err == EZMODE_ERR_CANCELLED )
   \                     ??zclSampleThermostat_EZModeCB_5:
   \   0000FC   7402         MOV     A,#0x2
   \   0000FE   68           XRL     A,R0
   \   0000FF   7006         JNZ     ??zclSampleThermostat_EZModeCB_6
   1661              {
   1662                pStr = "EZMode: Cancel";
   \   000101   7A..         MOV     R2,#`?<Constant "EZMode: Cancel">` & 0xff
   \   000103   7B..         MOV     R3,#(`?<Constant "EZMode: Cancel">` >> 8) & 0xff
   \   000105   800F         SJMP    ??zclSampleThermostat_EZModeCB_4
   1663              }
   1664              else if ( err == EZMODE_ERR_NOMATCH )
   \                     ??zclSampleThermostat_EZModeCB_6:
   \   000107   7404         MOV     A,#0x4
   \   000109   68           XRL     A,R0
   \   00010A   7006         JNZ     ??zclSampleThermostat_EZModeCB_7
   1665              {
   1666                pStr = "EZMode: NoMatch"; // not a match made in heaven
   \   00010C   7A..         MOV     R2,#`?<Constant "EZMode: NoMatch">` & 0xff
   \   00010E   7B..         MOV     R3,#(`?<Constant "EZMode: NoMatch">` >> 8) & 0xff
   \   000110   8004         SJMP    ??zclSampleThermostat_EZModeCB_4
   1667              }
   1668              else
   1669              {
   1670                pStr = "EZMode: TimeOut";
   \                     ??zclSampleThermostat_EZModeCB_7:
   \   000112   7A..         MOV     R2,#`?<Constant "EZMode: TimeOut">` & 0xff
   \   000114   7B..         MOV     R3,#(`?<Constant "EZMode: TimeOut">` >> 8) & 0xff
   1671              }
   1672              if ( pStr )
   \                     ??zclSampleThermostat_EZModeCB_4:
   \   000116   EA           MOV     A,R2
   \   000117   4B           ORL     A,R3
   \   000118   600B         JZ      ??zclSampleThermostat_EZModeCB_8
   1673              {
   1674                if ( giThermostatScreenMode == THERMOSTAT_MAINMODE )
   \   00011A   90....       MOV     DPTR,#giThermostatScreenMode
   \   00011D   E0           MOVX    A,@DPTR
   \   00011E   7005         JNZ     ??zclSampleThermostat_EZModeCB_8
   1675                {
   1676                  HalLcdWriteString ( pStr, HAL_LCD_LINE_2 );
   \   000120                ; Setup parameters for call to function HalLcdWriteString
   \   000120   7902         MOV     R1,#0x2
   \   000122   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   1677                }
   1678              }
   1679          #endif  // LCD_SUPPORTED
   1680          
   1681              // show main UI screen 3 seconds after completing EZ-Mode
   1682              osal_start_timerEx( zclSampleThermostat_TaskID, SAMPLETHERMOSTAT_MAIN_SCREEN_EVT, 3000 );
   \                     ??zclSampleThermostat_EZModeCB_8:
   \   000125                ; Setup parameters for call to function osal_start_timerEx
   \   000125   90....       MOV     DPTR,#__Constant_bb8
   \   000128   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00012B   7A10         MOV     R2,#0x10
   \   00012D   7B00         MOV     R3,#0x0
   \   00012F   90....       MOV     DPTR,#zclSampleThermostat_TaskID
   \   000132   E0           MOVX    A,@DPTR
   \   000133   F9           MOV     R1,A
   \   000134   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000137   7404         MOV     A,#0x4
   \   000139   12....       LCALL   ?DEALLOC_XSTACK8
   1683            }
   1684          }
   \                     ??zclSampleThermostat_EZModeCB_1:
   \   00013C   7414         MOV     A,#0x14
   \   00013E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000141   7F07         MOV     R7,#0x7
   \   000143   02....       LJMP    ?BANKED_LEAVE_XDATA
   1685          #endif // ZCL_EZMODE
   1686          
   1687          /*******************************************************************************
   1688          ********************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1689          void zclSampleThermostat_BindingProcess(void)
   \                     zclSampleThermostat_BindingProcess:
   1690          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 9
   \   000004   74F7         MOV     A,#-0x9
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
   1691          	if ( ( giThermostatScreenMode == THERMOSTAT_MAINMODE ) ||
   1692          			 ( giThermostatScreenMode == THERMOSTAT_HELPMODE ) )
   \   000009   90....       MOV     DPTR,#giThermostatScreenMode
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   6004         JZ      ??zclSampleThermostat_BindingProcess_0
   \   00000F   6401         XRL     A,#0x1
   \   000011   7066         JNZ     ??zclSampleThermostat_BindingProcess_1
   1693          	{
   1694          		giThermostatScreenMode = THERMOSTAT_MAINMODE;
   \                     ??zclSampleThermostat_BindingProcess_0:
   \   000013   E4           CLR     A
   \   000014   F0           MOVX    @DPTR,A
   1695          
   1696          		FLAG_BINDING = !FLAG_BINDING;
   \   000015   90....       MOV     DPTR,#FLAG_BINDING
   \   000018   E0           MOVX    A,@DPTR
   \   000019   7004         JNZ     ??zclSampleThermostat_BindingProcess_2
   \   00001B   7401         MOV     A,#0x1
   \   00001D   8001         SJMP    ??zclSampleThermostat_BindingProcess_3
   \                     ??zclSampleThermostat_BindingProcess_2:
   \   00001F   E4           CLR     A
   \                     ??zclSampleThermostat_BindingProcess_3:
   \   000020   12....       LCALL   ?Subroutine7 & 0xFFFF
   1697          	
   1698          	#ifdef ZCL_EZMODE
   1699          		zclEZMode_InvokeData_t ezModeData;
   1700          		static uint16 clusterIDs[] = { ZCL_CLUSTER_ID_HVAC_THERMOSTAT };	 // only bind on the Thermostat cluster
   1701          	
   1702          		// Invoke EZ-Mode
   1703          		ezModeData.endpoint = SAMPLETHERMOSTAT_ENDPOINT; // endpoint on which to invoke EZ-Mode
   1704          		if ( ( zclSampleThermostat_NwkState == DEV_ZB_COORD ) ||
   1705          				 ( zclSampleThermostat_NwkState == DEV_ROUTER ) 	||
   1706          				 ( zclSampleThermostat_NwkState == DEV_END_DEVICE ) )
   \                     ??CrossCallReturnLabel_4:
   \   000023   600A         JZ      ??zclSampleThermostat_BindingProcess_4
   \   000025   E0           MOVX    A,@DPTR
   \   000026   6407         XRL     A,#0x7
   \   000028   6005         JZ      ??zclSampleThermostat_BindingProcess_4
   \   00002A   E0           MOVX    A,@DPTR
   \   00002B   6406         XRL     A,#0x6
   \   00002D   7009         JNZ     ??zclSampleThermostat_BindingProcess_5
   1707          		{
   1708          			ezModeData.onNetwork = TRUE;			// node is already on the network
   \                     ??zclSampleThermostat_BindingProcess_4:
   \   00002F   7401         MOV     A,#0x1
   \   000031   12....       LCALL   ?XSTACK_DISP0_8
   \   000034   7401         MOV     A,#0x1
   \   000036   8006         SJMP    ??zclSampleThermostat_BindingProcess_6
   1709          		}
   1710          		else
   1711          		{
   1712          			ezModeData.onNetwork = FALSE; 		// node is not yet on the network
   \                     ??zclSampleThermostat_BindingProcess_5:
   \   000038   7401         MOV     A,#0x1
   \   00003A   12....       LCALL   ?XSTACK_DISP0_8
   \   00003D   E4           CLR     A
   \                     ??zclSampleThermostat_BindingProcess_6:
   \   00003E   F0           MOVX    @DPTR,A
   1713          		}
   1714          		ezModeData.initiator = TRUE;				// Thermostat is an initiator
   \   00003F   7402         MOV     A,#0x2
   \   000041   12....       LCALL   ?XSTACK_DISP0_8
   \   000044   7401         MOV     A,#0x1
   \   000046   F0           MOVX    @DPTR,A
   1715          		ezModeData.numActiveInClusters = 0;
   \   000047   7403         MOV     A,#0x3
   \   000049   12....       LCALL   ?XSTACK_DISP0_8
   \   00004C   E4           CLR     A
   \   00004D   F0           MOVX    @DPTR,A
   1716          		ezModeData.pActiveInClusterIDs = NULL;
   \   00004E   7404         MOV     A,#0x4
   \   000050   12....       LCALL   ?XSTACK_DISP0_8
   \   000053   E4           CLR     A
   \   000054   F0           MOVX    @DPTR,A
   \   000055   A3           INC     DPTR
   \   000056   F0           MOVX    @DPTR,A
   1717          		ezModeData.numActiveOutClusters = 1;	 // active output cluster
   \   000057   7406         MOV     A,#0x6
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   7401         MOV     A,#0x1
   \   00005E   F0           MOVX    @DPTR,A
   1718          		ezModeData.pActiveOutClusterIDs = clusterIDs;
   \   00005F   7407         MOV     A,#0x7
   \   000061   12....       LCALL   ?XSTACK_DISP0_8
   \   000064   74..         MOV     A,#??clusterIDs_1 & 0xff
   \   000066   F0           MOVX    @DPTR,A
   \   000067   A3           INC     DPTR
   \   000068   74..         MOV     A,#(??clusterIDs_1 >> 8) & 0xff
   \   00006A   12....       LCALL   ??Subroutine32_0 & 0xFFFF
   1719          		zcl_InvokeEZMode( &ezModeData );
   \                     ??CrossCallReturnLabel_56:
   \   00006D   12....       LCALL   `??zcl_InvokeEZMode::?relay`; Banked call to: zcl_InvokeEZMode
   1720          	
   1721          		#ifdef LCD_SUPPORTED
   1722          			HalLcdWriteString( "EZMode", HAL_LCD_LINE_2 );
   \   000070                ; Setup parameters for call to function HalLcdWriteString
   \   000070   7902         MOV     R1,#0x2
   \   000072   7A..         MOV     R2,#`?<Constant "EZMode">` & 0xff
   \   000074   7B..         MOV     R3,#(`?<Constant "EZMode">` >> 8) & 0xff
   \   000076   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   1723          		#endif
   1724          	
   1725          		// NOT ZCL_EZMODE, use EndDeviceBind
   1726          	#else
   1727          		zAddrType_t dstAddr;
   1728          		HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   1729          	
   1730          		// Initiate an End Device Bind Request, this bind request will
   1731          		// only use a cluster list that is important to binding.
   1732          		dstAddr.addrMode = afAddr16Bit;
   1733          		dstAddr.addr.shortAddr = 0; 	// Coordinator makes the match
   1734          		ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
   1735          													SAMPLETHERMOSTAT_ENDPOINT,
   1736          													ZCL_HA_PROFILE_ID,
   1737          													ZCLSAMPLETHERMOSTAT_BINDINGLIST_IN, bindingInClusters,
   1738          													ZCLSAMPLETHERMOSTAT_BINDINGLIST_OUT, bindingOutClusters,
   1739          													TRUE );
   1740          	#endif // ZCL_EZMODE
   1741          	}
   1742          	
   1743          }
   \                     ??zclSampleThermostat_BindingProcess_1:
   \   000079   7409         MOV     A,#0x9
   \   00007B   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     ??clusterIDs_1:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for clusterIDs>_1`
   \   000002                REQUIRE __INIT_XDATA_I
   1744          
   1745          #ifndef COORDINATOR

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1746          static void zclSampleThermostat_RollCall(void)
   \                     zclSampleThermostat_RollCall:
   1747          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 15
   \   000005   74F1         MOV     A,#-0xf
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1748          
   1749          	afAddrType_t RollCall_DstAddr;
   1750          	// Set destination address to ZB Coordinator
   1751            RollCall_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000A   740B         MOV     A,#0xb
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   7402         MOV     A,#0x2
   \   000011   F0           MOVX    @DPTR,A
   1752            RollCall_DstAddr.endPoint = 8;
   \   000012   740C         MOV     A,#0xc
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   7408         MOV     A,#0x8
   \   000019   F0           MOVX    @DPTR,A
   1753            RollCall_DstAddr.addr.shortAddr = 0;
   \   00001A   7403         MOV     A,#0x3
   \   00001C   12....       LCALL   ?XSTACK_DISP0_8
   \   00001F   E4           CLR     A
   \   000020   F0           MOVX    @DPTR,A
   \   000021   A3           INC     DPTR
   \   000022   F0           MOVX    @DPTR,A
   1754          	
   1755          	zclReportCmd_t *pReportCmd;
   1756          	uint16 src_coordShortAddr = NLME_GetCoordShortAddr();
   \   000023                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   000023   12....       LCALL   `??NLME_GetCoordShortAddr::?relay`; Banked call to: NLME_GetCoordShortAddr
   \   000026   7401         MOV     A,#0x1
   \   000028   12....       LCALL   ?XSTACK_DISP0_8
   \   00002B   EA           MOV     A,R2
   \   00002C   F0           MOVX    @DPTR,A
   \   00002D   A3           INC     DPTR
   \   00002E   EB           MOV     A,R3
   \   00002F   12....       LCALL   ?Subroutine27 & 0xFFFF
   1757          	uint8 device_type = 0;
   \                     ??CrossCallReturnLabel_47:
   \   000032   E4           CLR     A
   \   000033   F0           MOVX    @DPTR,A
   1758          
   1759          	switch (zclSampleThermostat_NwkState)
   \   000034   90....       MOV     DPTR,#zclSampleThermostat_NwkState
   \   000037   E0           MOVX    A,@DPTR
   \   000038   24FA         ADD     A,#-0x6
   \   00003A   601B         JZ      ??zclSampleThermostat_RollCall_0
   \   00003C   14           DEC     A
   \   00003D   600E         JZ      ??zclSampleThermostat_RollCall_1
   \   00003F   24FE         ADD     A,#-0x2
   \   000041   701D         JNZ     ??zclSampleThermostat_RollCall_2
   1760          	{
   1761          		case DEV_ZB_COORD:
   1762          			device_type = 1;
   \   000043   85..82       MOV     DPL,?XSP + 0
   \   000046   85..83       MOV     DPH,?XSP + 1
   \   000049   7401         MOV     A,#0x1
   \   00004B   8012         SJMP    ??zclSampleThermostat_RollCall_3
   1763          			break;
   1764          
   1765          		case DEV_ROUTER:
   1766          			device_type = 2;
   \                     ??zclSampleThermostat_RollCall_1:
   \   00004D   85..82       MOV     DPL,?XSP + 0
   \   000050   85..83       MOV     DPH,?XSP + 1
   \   000053   7402         MOV     A,#0x2
   \   000055   8008         SJMP    ??zclSampleThermostat_RollCall_3
   1767          			break;
   1768          
   1769          		case DEV_END_DEVICE:
   1770          			device_type = 3;
   \                     ??zclSampleThermostat_RollCall_0:
   \   000057   85..82       MOV     DPL,?XSP + 0
   \   00005A   85..83       MOV     DPH,?XSP + 1
   \   00005D   7403         MOV     A,#0x3
   \                     ??zclSampleThermostat_RollCall_3:
   \   00005F   F0           MOVX    @DPTR,A
   1771          			break;
   1772          
   1773          		default:
   1774          			device_type = 0;
   1775          			break;
   1776          	}
   1777          	
   1778          	pReportCmd = osal_mem_alloc( sizeof(zclReportCmd_t) + 2 * sizeof(zclReport_t) );
   \                     ??zclSampleThermostat_RollCall_2:
   \   000060                ; Setup parameters for call to function osal_mem_alloc
   \   000060   7A0B         MOV     R2,#0xb
   \   000062   7B00         MOV     R3,#0x0
   \   000064   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000067   8A..         MOV     ?V0,R2
   \   000069   8B..         MOV     ?V1,R3
   1779          	if ( pReportCmd != NULL )
   \   00006B   EA           MOV     A,R2
   \   00006C   45..         ORL     A,?V1
   \   00006E   6052         JZ      ??zclSampleThermostat_RollCall_4
   1780          	{
   1781          	  pReportCmd->numAttr = 2;
   \   000070   8A82         MOV     DPL,R2
   \   000072   8B83         MOV     DPH,R3
   \   000074   7402         MOV     A,#0x2
   \   000076   F0           MOVX    @DPTR,A
   1782          		// Data
   1783          	  pReportCmd->attrList[0].attrID 		= ATTRID_ROLL_CALL;
   \   000077   A3           INC     DPTR
   \   000078   12....       LCALL   ??Subroutine39_0 & 0xFFFF
   1784          	  pReportCmd->attrList[0].dataType 	= ZCL_DATATYPE_UINT16;
   \                     ??CrossCallReturnLabel_97:
   \   00007B   7421         MOV     A,#0x21
   \   00007D   F0           MOVX    @DPTR,A
   1785          	  pReportCmd->attrList[0].attrData 	= (void *)(&src_coordShortAddr);
   \   00007E   7401         MOV     A,#0x1
   \   000080   12....       LCALL   ?XSTACK_DISP100_8
   \   000083   12....       LCALL   ?Subroutine9 & 0xFFFF
   1786          		pReportCmd->attrList[1].attrID 		= ATTRID_ROLL_CALL;
   1787          	  pReportCmd->attrList[1].dataType 	= ZCL_DATATYPE_UINT8;
   1788          	  pReportCmd->attrList[1].attrData 	= (void *)(&device_type);
   1789          
   1790          	  zcl_SendReportCmd( SAMPLETHERMOSTAT_ENDPOINT, &RollCall_DstAddr,
   1791          	                     ZCL_CLUSTER_ID_HVAC_THERMOSTAT,
   1792          	                     pReportCmd, ZCL_FRAME_SERVER_CLIENT_DIR, TRUE, zclSampleThermostatSeqNum++ );
   1793          	}
   \                     ??CrossCallReturnLabel_8:
   \   000086   7402         MOV     A,#0x2
   \   000088   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   00008B   7420         MOV     A,#0x20
   \   00008D   12....       LCALL   ??Subroutine40_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   000090   A3           INC     DPTR
   \   000091   E5..         MOV     A,?XSP + 0
   \   000093   F0           MOVX    @DPTR,A
   \   000094   A3           INC     DPTR
   \   000095   E5..         MOV     A,?XSP + 1
   \   000097   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   00009A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00009D   75..01       MOV     ?V2,#0x1
   \   0000A0   78..         MOV     R0,#?V2
   \   0000A2   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000A5   78..         MOV     R0,#?V2
   \   0000A7   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   0000AA   78..         MOV     R0,#?V0
   \   0000AC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AF   7C01         MOV     R4,#0x1
   \   0000B1   7D02         MOV     R5,#0x2
   \   0000B3   7408         MOV     A,#0x8
   \   0000B5   12....       LCALL   ?XSTACK_DISP101_8
   \   0000B8   7901         MOV     R1,#0x1
   \   0000BA   12....       LCALL   `??zcl_SendReportCmd::?relay`; Banked call to: zcl_SendReportCmd
   \   0000BD   7405         MOV     A,#0x5
   \   0000BF   12....       LCALL   ?DEALLOC_XSTACK8
   1794          
   1795          	osal_mem_free( pReportCmd );
   \                     ??zclSampleThermostat_RollCall_4:
   \   0000C2                ; Setup parameters for call to function osal_mem_free
   \   0000C2   AA..         MOV     R2,?V0
   \   0000C4   AB..         MOV     R3,?V1
   \   0000C6   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   1796          }
   \   0000C9   740F         MOV     A,#0xf
   \   0000CB                REQUIRE ?Subroutine3
   \   0000CB                ; // Fall through to label ?Subroutine3

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F04         MOV     R7,#0x4
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA
   1797          #endif
   1798          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1799          void zclSampleThermostat_SendFreeData(void)
   \                     zclSampleThermostat_SendFreeData:
   1800          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV     A,#-0xc
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1801          	#ifdef ZCL_REPORT
   1802          	// Can't send via indirect ??? (system reset)
   1803          	afAddrType_t DstAddr;
   1804            DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   \   00000A   7408         MOV     A,#0x8
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   740F         MOV     A,#0xf
   \   000011   F0           MOVX    @DPTR,A
   1805            DstAddr.endPoint = 0xFF;
   \   000012   7409         MOV     A,#0x9
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   74FF         MOV     A,#-0x1
   \   000019   12....       LCALL   ?Subroutine27 & 0xFFFF
   1806            DstAddr.addr.shortAddr = 0xFFFF;
   \                     ??CrossCallReturnLabel_48:
   \   00001C   F0           MOVX    @DPTR,A
   \   00001D   A3           INC     DPTR
   \   00001E   F0           MOVX    @DPTR,A
   1807          	
   1808            zclReportCmd_t *pReportCmd;
   1809            pReportCmd = osal_mem_alloc( sizeof(zclReportCmd_t) + 2 * sizeof(zclReport_t) );
   \   00001F                ; Setup parameters for call to function osal_mem_alloc
   \   00001F   7A0B         MOV     R2,#0xb
   \   000021   7B00         MOV     R3,#0x0
   \   000023   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000026   8A..         MOV     ?V0,R2
   \   000028   8B..         MOV     ?V1,R3
   1810            if ( pReportCmd != NULL )
   \   00002A   EA           MOV     A,R2
   \   00002B   45..         ORL     A,?V1
   \   00002D   6063         JZ      ??zclSampleThermostat_SendFreeData_0
   1811            {
   1812              pReportCmd->numAttr = 2;
   \   00002F   8A82         MOV     DPL,R2
   \   000031   8B83         MOV     DPH,R3
   \   000033   7402         MOV     A,#0x2
   \   000035   12....       LCALL   ?Subroutine6 & 0xFFFF
   1813          		
   1814          		// Data
   1815              pReportCmd->attrList[0].attrID 		= ATTRID_FREE_DATA;
   1816              pReportCmd->attrList[0].dataType 	= ZCL_DATATYPE_CHAR_STR;
   \                     ??CrossCallReturnLabel_96:
   \   000038   7442         MOV     A,#0x42
   \   00003A   12....       LCALL   ?Subroutine28 & 0xFFFF
   1817              pReportCmd->attrList[0].attrData 	= (void *)(Free_Data);
   \                     ??CrossCallReturnLabel_99:
   \   00003D   A3           INC     DPTR
   \   00003E   74..         MOV     A,#Free_Data & 0xff
   \   000040   F0           MOVX    @DPTR,A
   \   000041   A3           INC     DPTR
   \   000042   74..         MOV     A,#(Free_Data >> 8) & 0xff
   \   000044   F0           MOVX    @DPTR,A
   1818          		// Endpoint and coordShortAddr
   1819          		pReportCmd->attrList[1].attrID 		= NLME_GetCoordShortAddr();
   \   000045                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   000045   12....       LCALL   `??NLME_GetCoordShortAddr::?relay`; Banked call to: NLME_GetCoordShortAddr
   \   000048   85..82       MOV     DPL,?V0
   \   00004B   85..83       MOV     DPH,?V1
   \   00004E   A3           INC     DPTR
   \   00004F   A3           INC     DPTR
   \   000050   A3           INC     DPTR
   \   000051   A3           INC     DPTR
   \   000052   A3           INC     DPTR
   \   000053   A3           INC     DPTR
   \   000054   EA           MOV     A,R2
   \   000055   F0           MOVX    @DPTR,A
   \   000056   A3           INC     DPTR
   \   000057   EB           MOV     A,R3
   \   000058   12....       LCALL   ?Subroutine8 & 0xFFFF
   1820              pReportCmd->attrList[1].dataType 	= ZCL_DATATYPE_UINT8;
   1821              pReportCmd->attrList[1].attrData 	= (void *)(&Free_Data_Size);
   1822          
   1823              zcl_SendReportCmd( SAMPLETHERMOSTAT_ENDPOINT, &DstAddr,
   1824                                 ZCL_CLUSTER_ID_HVAC_THERMOSTAT,
   1825                                 pReportCmd, ZCL_FRAME_SERVER_CLIENT_DIR, TRUE, zclSampleThermostatSeqNum++ );
   1826            }
   \                     ??CrossCallReturnLabel_5:
   \   00005B   7420         MOV     A,#0x20
   \   00005D   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   000060   A3           INC     DPTR
   \   000061   74..         MOV     A,#Free_Data_Size & 0xff
   \   000063   F0           MOVX    @DPTR,A
   \   000064   A3           INC     DPTR
   \   000065   74..         MOV     A,#(Free_Data_Size >> 8) & 0xff
   \   000067   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_2:
   \   00006A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00006D   75..01       MOV     ?V2,#0x1
   \   000070   78..         MOV     R0,#?V2
   \   000072   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000075   78..         MOV     R0,#?V2
   \   000077   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00007A   78..         MOV     R0,#?V0
   \   00007C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007F   7C01         MOV     R4,#0x1
   \   000081   7D02         MOV     R5,#0x2
   \   000083   7405         MOV     A,#0x5
   \   000085   12....       LCALL   ?XSTACK_DISP101_8
   \   000088   7901         MOV     R1,#0x1
   \   00008A   12....       LCALL   `??zcl_SendReportCmd::?relay`; Banked call to: zcl_SendReportCmd
   \   00008D   7405         MOV     A,#0x5
   \   00008F   12....       LCALL   ?DEALLOC_XSTACK8
   1827          
   1828            osal_mem_free( pReportCmd );
   \                     ??zclSampleThermostat_SendFreeData_0:
   \   000092                ; Setup parameters for call to function osal_mem_free
   \   000092   AA..         MOV     R2,?V0
   \   000094   AB..         MOV     R3,?V1
   \   000096   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   1829          	#endif  // ZCL_REPORT
   1830          }
   \   000099   740C         MOV     A,#0xc
   \   00009B   02....       LJMP    ?Subroutine3 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?V0
   \   000004   85..83       MOV     DPH,?V1
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   A3           INC     DPTR
   \   00000D   A3           INC     DPTR
   \   00000E   A3           INC     DPTR
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   85..82       MOV     DPL,?V2
   \   000003   85..83       MOV     DPH,?V3
   \   000006   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000009   8882         MOV     DPL,R0
   \   00000B   8983         MOV     DPH,R1
   \   00000D   7800         MOV     R0,#0x0
   \   00000F   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleThermostat_NwkState`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aProcessCmd>`:
   \   000000   01           DB 1
   \   000001   00           DB 0
   \   000002   00           DB 0
   \   000003   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for sampleThermostat_TestEp>`:
   \   000000   14           DB 20
   \   000001   ....         DW zclSampleThermostat_TaskID
   \   000003   0000         DW 0H
   \   000005   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleThermostat_CmdCallb`:
   \   000000   ....         DW `??zclSampleThermostat_BasicResetCB::?relay`
   \   000002   ....         DW `??zclSampleThermostat_IdentifyCB::?relay`
   \   000004   0000         DW 0H
   \   000006   0000         DW 0H
   \   000008   0000         DW 0H
   \   00000A   ....         DW `??zclSampleThermostat_IdentifyQueryRspCB::?rela`
   \   00000C   0000         DW 0H
   \   00000E   0000         DW 0H
   \   000010   0000         DW 0H
   \   000012   0000         DW 0H
   \   000014   0000         DW 0H
   \   000016   0000         DW 0H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for clusterIDs>`:
   \   000000   0102         DW 513

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for clusterIDs>_1`:
   \   000000   0102         DW 513

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_event_loop::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_event_loop

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_HandleKeys::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_LcdDisplayUpdate::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_LcdDisplayUpdate

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_LcdDisplayMainMode::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_LcdDisplayMainMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_LcdDisplayHelpMode::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_LcdDisplayHelpMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_LcdDisplayHeatMode::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_LcdDisplayHeatMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_LcdDisplayCoolMode::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_LcdDisplayCoolMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleThermostat_ProcessIdentifyTimeChange:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_ProcessIdentifyTimeChange

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_ProcessAppMsg::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_ProcessAppMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_ProcessFoundationMsg::?re`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_ProcessFoundationMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_BasicResetCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_BasicResetCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_IdentifyCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_IdentifyCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_IdentifyQueryRspCB::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_IdentifyQueryRspCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_ProcessInReportCmd::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_ProcessInReportCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_EZModeCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_EZModeCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_BindingProcess::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_BindingProcess

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_RollCall::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_RollCall

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleThermostat_SendFreeData::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleThermostat_SendFreeData

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] ZDO_CB_MSG">`:
   \   000000   5B455645     DB "[EVENT] ZDO_CB_MSG"
   \            4E545D20
   \            5A444F5F
   \            43425F4D
   \            534700  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] MT_SYS_APP_MSG">`:
   \   000000   5B455645     DB "[EVENT] MT_SYS_APP_MSG"
   \            4E545D20
   \            4D545F53
   \            59535F41
   \            50505F4D
   \            534700  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] ZCL_INCOMING_MSG">`:
   \   000000   5B455645     DB "[EVENT] ZCL_INCOMING_MSG"
   \            4E545D20
   \            5A434C5F
   \            494E434F
   \            4D494E47
   \            5F4D5347
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] KEY_CHANGE">`:
   \   000000   5B455645     DB "[EVENT] KEY_CHANGE"
   \            4E545D20
   \            4B45595F
   \            4348414E
   \            474500  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] ZDO_STATE_CHANGE">`:
   \   000000   5B455645     DB "[EVENT] ZDO_STATE_CHANGE"
   \            4E545D20
   \            5A444F5F
   \            53544154
   \            455F4348
   \            414E4745
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLETHERMOS...">`:
   \   000000   5B455645     DB "[EVENT] SAMPLETHERMOSTAT_IDENTIFY_TIMEOUT_EVT"
   \            4E545D20
   \            53414D50
   \            4C455448
   \            45524D4F
   \            53544154
   \            5F494445
   \            4E544946
   \            595F5449
   \            4D454F55
   \            545F4556
   \            5400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLETHERMOS...">_1`:
   \   000000   5B455645     DB "[EVENT] SAMPLETHERMOSTAT_MAIN_SCREEN_EVT"
   \            4E545D20
   \            53414D50
   \            4C455448
   \            45524D4F
   \            53544154
   \            5F4D4149
   \            4E5F5343
   \            5245454E
   \            5F455654
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLETHERMOS...">_2`:
   \   000000   5B455645     DB "[EVENT] SAMPLETHERMOSTAT_EZMODE_NEXTSTATE_EVT"
   \            4E545D20
   \            53414D50
   \            4C455448
   \            45524D4F
   \            53544154
   \            5F455A4D
   \            4F44455F
   \            4E455854
   \            53544154
   \            455F4556
   \            5400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLETHERMOS...">_3`:
   \   000000   5B455645     DB "[EVENT] SAMPLETHERMOSTAT_EZMODE_TIMEOUT_EVT"
   \            4E545D20
   \            53414D50
   \            4C455448
   \            45524D4F
   \            53544154
   \            5F455A4D
   \            4F44455F
   \            54494D45
   \            4F55545F
   \            45565400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SAMPLETHERMOSTAT_JOIN...">`:
   \   000000   53414D50     DB "SAMPLETHERMOSTAT_JOIN_SETUP_EVT"
   \            4C455448
   \            45524D4F
   \            53544154
   \            5F4A4F49
   \            4E5F5345
   \            5455505F
   \            45565400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW6">`:
   \   000000   53573600     DB "SW6"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "usedEntries: ">`:
   \   000000   75736564     DB "usedEntries: "
   \            456E7472
   \            6965733A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "">`:
   \   000000   00           DB ""

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 0: ">`:
   \   000000   456E7472     DB "Entry 0: "
   \            7920303A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant " | ">`:
   \   000000   207C2000     DB " | "

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 1: ">`:
   \   000000   456E7472     DB "Entry 1: "
   \            7920313A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 2: ">`:
   \   000000   456E7472     DB "Entry 2: "
   \            7920323A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 3: ">`:
   \   000000   456E7472     DB "Entry 3: "
   \            7920333A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW8">`:
   \   000000   53573800     DB "SW8"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode">`:
   \   000000   455A4D6F     DB "EZMode"
   \            646500  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "TEMP: ">`:
   \   000000   54454D50     DB "TEMP: "
   \            3A2000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "N/A">`:
   \   000000   4E2F4100     DB "N/A"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "C">`:
   \   000000   4300         DB "C"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW5: Help      *">`:
   \   000000   5357353A     DB "SW5: Help      *"
   \            2048656C
   \            70202020
   \            2020202A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW5: Help       ">`:
   \   000000   5357353A     DB "SW5: Help       "
   \            2048656C
   \            70202020
   \            20202020
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "HEAT TEMP: ">`:
   \   000000   48454154     DB "HEAT TEMP: "
   \            2054454D
   \            503A2000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "COOL TEMP: ">`:
   \   000000   434F4F4C     DB "COOL TEMP: "
   \            2054454D
   \            503A2000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "@ZBF:">`:
   \   000000   405A4246     DB "@ZBF:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ";">`:
   \   000000   3B00         DB ";"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "!">`:
   \   000000   2100         DB "!"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "@ZBR:">`:
   \   000000   405A4252     DB "@ZBR:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SENT TO ENGINE!">`:
   \   000000   53454E54     DB "SENT TO ENGINE!"
   \            20544F20
   \            454E4749
   \            4E452100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "@ZBS:">`:
   \   000000   405A4253     DB "@ZBS:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "indirect">`:
   \   000000   696E6469     DB "indirect"
   \            72656374
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: Success">`:
   \   000000   455A4D6F     DB "EZMode: Success"
   \            64653A20
   \            53756363
   \            65737300

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZDst:">`:
   \   000000   455A4473     DB "EZDst:"
   \            743A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant " EP:">`:
   \   000000   2045503A     DB " EP:"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: BadParm">`:
   \   000000   455A4D6F     DB "EZMode: BadParm"
   \            64653A20
   \            42616450
   \            61726D00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: Cancel">`:
   \   000000   455A4D6F     DB "EZMode: Cancel"
   \            64653A20
   \            43616E63
   \            656C00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: NoMatch">`:
   \   000000   455A4D6F     DB "EZMode: NoMatch"
   \            64653A20
   \            4E6F4D61
   \            74636800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: TimeOut">`:
   \   000000   455A4D6F     DB "EZMode: TimeOut"
   \            64653A20
   \            54696D65
   \            4F757400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_a:
   \   000000   0A000000     DD 10

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2710:
   \   000000   10270000     DD 10000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1388:
   \   000000   88130000     DD 5000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e8:
   \   000000   E8030000     DD 1000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_bb8:
   \   000000   B80B0000     DD 3000
   1831          
   1832          

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      2     29   zclSampleThermostat_BasicResetCB
        2      0   -> MT_SysCommandProcessing
        2      0   -> zgWriteStartupOptions
      2     25   zclSampleThermostat_BindingProcess
        2      9   -> HalLcdWriteString
        2      9   -> zcl_InvokeEZMode
      0     39   zclSampleThermostat_EZModeCB
        0     35   -> HalLcdWriteString
        0     37   -> _ltoa
        0     38   -> osal_memcpy
        0     39   -> osal_start_timerEx
        0     35   -> zclHA_uint16toa
        0     35   -> zclSampleThermostat_ProcessIdentifyTimeChange
      0     45   zclSampleThermostat_HandleKeys
        0     29   -> GetBindingTableEntry
        0     29   -> HalLcdWriteString
        0     29   -> NLME_GetShortAddr
        0     29   -> UART_DebugPrint
        0     29   -> UART_ZCmdPrint
        0     29   -> UART_ZCmdPrintNum
        0     29   -> UART_ZCmdPrintString
        0     29   -> ZDP_MgmtPermitJoinReq
        0     29   -> bindCapacity
        0     29   -> zclSampleThermostat_BasicResetCB
        0     29   -> zclSampleThermostat_LcdDisplayUpdate
        0     29   -> zcl_InvokeEZMode
      2      0   zclSampleThermostat_IdentifyCB
        2      0   -> zclSampleThermostat_ProcessIdentifyTimeChange
      2      2   zclSampleThermostat_IdentifyQueryRspCB
        2      2   -> zcl_EZModeAction
      0     14   zclSampleThermostat_Init
        0     10   -> HalLcdWriteString
        0     10   -> NLME_GetShortAddr
        0     10   -> RegisterForKeys
        0     10   -> UART_Init
        0     10   -> ZDO_RegisterForZDOMsg
        0     10   -> afRegister
        0     10   -> osal_set_event
        0     14   -> osal_start_timerEx
        0     10   -> zclGeneral_RegisterCmdCallbacks
        0     10   -> zclHA_Init
        0     10   -> zcl_RegisterEZMode
        0     10   -> zcl_registerAttrList
        0     10   -> zcl_registerForMsg
      0     30   zclSampleThermostat_LcdDisplayCoolMode
        0     27   -> HalLcdWriteString
        0     29   -> _ltoa
        0     30   -> osal_memcpy
      0     30   zclSampleThermostat_LcdDisplayHeatMode
        0     27   -> HalLcdWriteString
        0     29   -> _ltoa
        0     30   -> osal_memcpy
      2      0   zclSampleThermostat_LcdDisplayHelpMode
        2      0   -> HalLcdWriteString
      0     30   zclSampleThermostat_LcdDisplayMainMode
        0     27   -> HalLcdWriteString
        0     29   -> _ltoa
        0     30   -> osal_memcpy
        0     27   -> zclHA_LcdStatusLine1
      4     73   zclSampleThermostat_LcdDisplayUpdate
        2      0   -> zclSampleThermostat_LcdDisplayCoolMode
        2      0   -> zclSampleThermostat_LcdDisplayHeatMode
        2      0   -> zclSampleThermostat_LcdDisplayHelpMode
        2      0   -> zclSampleThermostat_LcdDisplayMainMode
      1     68   zclSampleThermostat_ProcessAppMsg
        0     41   -> zclParseHdr
        0     45   -> zclSampleThermostat_ProcessFoundationMsg
        0     52   -> zcl_SendCommand
      0     74   zclSampleThermostat_ProcessFoundationMsg
        0     18   -> osal_mem_free
        0     18   -> zclParseInConfigReportCmd
        0     18   -> zclParseInReadCmd
        0     18   -> zclParseInReadReportCfgCmd
        0     18   -> zclParseInReportCmd
        0     18   -> zclParseInWriteCmd
        0     29   -> zcl_SendCommand
        0     23   -> zcl_SendConfigReportCmd
        0     23   -> zcl_SendRead
        0     23   -> zcl_SendReadReportCfgCmd
        0     23   -> zcl_SendReportCmd
        0     24   -> zcl_SendWriteRequest
      2     39   zclSampleThermostat_ProcessIdentifyTimeChange
        2      0   -> HalLedBlink
        2      0   -> HalLedSet
        2      4   -> osal_start_timerEx
        2      0   -> osal_stop_timerEx
      1     94   zclSampleThermostat_ProcessInReportCmd
        0     73   -> HalLedBlink
        0     73   -> UART_DebugPrint
        0     73   -> UART_ZCmdPrint
        0     73   -> UART_ZCmdPrintBuffer
        0     73   -> UART_ZCmdPrintNum
        0     73   -> UART_ZCmdPrintString
        0     73   -> osal_mem_alloc
        0     73   -> osal_mem_free
        0     73   -> zclSampleThermostat_LcdDisplayUpdate
        0     78   -> zcl_SendReportCmd
      0     48   zclSampleThermostat_RollCall
        0     27   -> NLME_GetCoordShortAddr
        0     27   -> osal_mem_alloc
        0     27   -> osal_mem_free
        0     32   -> zcl_SendReportCmd
      0     29   zclSampleThermostat_SendFreeData
        0     24   -> NLME_GetCoordShortAddr
        0     24   -> osal_mem_alloc
        0     24   -> osal_mem_free
        0     29   -> zcl_SendReportCmd
      0     20   zclSampleThermostat_event_loop
        0     16   -> UART_DebugPrint
        0     16   -> UART_ParseRxPackage
        0     16   -> ZCMD_ReplyCMD
        0     16   -> ZDO_ParseEPListRsp
        0     16   -> osal_mem_free
        0     16   -> osal_msg_deallocate
        0     16   -> osal_msg_receive
        0     16   -> osal_set_event
        0     20   -> osal_start_timerEx
        0     16   -> zclSampleThermostat_BindingProcess
        0     16   -> zclSampleThermostat_HandleKeys
        0     16   -> zclSampleThermostat_LcdDisplayUpdate
        0     16   -> zclSampleThermostat_ProcessAppMsg
        0     16   -> zclSampleThermostat_ProcessIdentifyTimeChange
        0     16   -> zclSampleThermostat_ProcessInReportCmd
        0     16   -> zclSampleThermostat_RollCall
        0     16   -> zcl_EZModeAction


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       5  ?<Constant " EP:">
       4  ?<Constant " | ">
       2  ?<Constant "!">
       1  ?<Constant "">
       2  ?<Constant ";">
       6  ?<Constant "@ZBF:">
       6  ?<Constant "@ZBR:">
       6  ?<Constant "@ZBS:">
       2  ?<Constant "C">
      12  ?<Constant "COOL TEMP: ">
       7  ?<Constant "EZDst:">
       7  ?<Constant "EZMode">
      16  ?<Constant "EZMode: BadParm">
      15  ?<Constant "EZMode: Cancel">
      16  ?<Constant "EZMode: NoMatch">
      16  ?<Constant "EZMode: Success">
      16  ?<Constant "EZMode: TimeOut">
      10  ?<Constant "Entry 0: ">
      10  ?<Constant "Entry 1: ">
      10  ?<Constant "Entry 2: ">
      10  ?<Constant "Entry 3: ">
      12  ?<Constant "HEAT TEMP: ">
       4  ?<Constant "N/A">
      32  ?<Constant "SAMPLETHERMOSTAT_JOIN...">
      16  ?<Constant "SENT TO ENGINE!">
      17  ?<Constant "SW5: Help       ">
      17  ?<Constant "SW5: Help      *">
       4  ?<Constant "SW6">
       4  ?<Constant "SW8">
       7  ?<Constant "TEMP: ">
      19  ?<Constant "[EVENT] KEY_CHANGE">
      23  ?<Constant "[EVENT] MT_SYS_APP_MSG">
      46  ?<Constant "[EVENT] SAMPLETHERMOS...">
      41  ?<Constant "[EVENT] SAMPLETHERMOS...">_1
      46  ?<Constant "[EVENT] SAMPLETHERMOS...">_2
      44  ?<Constant "[EVENT] SAMPLETHERMOS...">_3
      25  ?<Constant "[EVENT] ZCL_INCOMING_MSG">
      19  ?<Constant "[EVENT] ZDO_CB_MSG">
      25  ?<Constant "[EVENT] ZDO_STATE_CHANGE">
       9  ?<Constant "indirect">
      14  ?<Constant "usedEntries: ">
       4  ?<Initializer for aProcessCmd>
       2  ?<Initializer for clusterIDs>
       2  ?<Initializer for clusterIDs>_1
       6  ?<Initializer for sampleThermostat_TestEp>
      24  ?<Initializer for zclSampleThermostat_CmdCallb
       1  ?<Initializer for zclSampleThermostat_NwkState
       6  ??Subroutine31_0
       6  ??Subroutine32_0
       7  ??Subroutine33_0
      13  ??Subroutine34_0
       4  ??Subroutine35_0
       9  ??Subroutine36_0
      13  ??Subroutine37_0
       8  ??Subroutine38_0
       8  ??Subroutine39_0
       6  ??Subroutine40_0
       3  ?Subroutine0
      81  ?Subroutine1
      10  ?Subroutine10
       6  ?Subroutine11
       6  ?Subroutine12
      17  ?Subroutine13
       6  ?Subroutine14
      14  ?Subroutine15
      12  ?Subroutine16
       3  ?Subroutine17
       6  ?Subroutine18
      13  ?Subroutine19
       5  ?Subroutine2
      15  ?Subroutine20
      16  ?Subroutine21
      12  ?Subroutine22
       8  ?Subroutine23
       1  ?Subroutine24
       7  ?Subroutine25
      12  ?Subroutine26
       8  ?Subroutine27
       4  ?Subroutine28
       6  ?Subroutine29
       8  ?Subroutine3
       9  ?Subroutine30
       8  ?Subroutine4
       4  ?Subroutine5
       3  ?Subroutine6
      13  ?Subroutine7
      16  ?Subroutine8
      16  ?Subroutine9
       4  __Constant_1388
       4  __Constant_2710
       4  __Constant_3e8
       4  __Constant_a
       4  __Constant_bb8
       4  aProcessCmd
       2  clusterIDs
       2  clusterIDs
       1  gPermitDuration
       1  giThermostatScreenMode
       2  sClearLine
      14  sDeviceName
      16  sStoreCoolTemp
      16  sStoreHeatTemp
      17  sSwCoolSet
      13  sSwEZMode
      17  sSwHeatSet
      10  sSwHelp
       6  sTempLine2
      17  sTempLine3
       6  sampleThermostat_TestEp
       1  zclSampleThermostatSeqNum
      21  zclSampleThermostat_BasicResetCB
       6  zclSampleThermostat_BasicResetCB::?relay
     126  zclSampleThermostat_BindingProcess
       6  zclSampleThermostat_BindingProcess::?relay
      24  zclSampleThermostat_CmdCallbacks
      12  zclSampleThermostat_DstAddr
     326  zclSampleThermostat_EZModeCB
       6  zclSampleThermostat_EZModeCB::?relay
     632  zclSampleThermostat_HandleKeys
       6  zclSampleThermostat_HandleKeys::?relay
      24  zclSampleThermostat_IdentifyCB
       6  zclSampleThermostat_IdentifyCB::?relay
      22  zclSampleThermostat_IdentifyQueryRspCB
       6  zclSampleThermostat_IdentifyQueryRspCB::?relay
     210  zclSampleThermostat_Init
       6  zclSampleThermostat_Init::?relay
      63  zclSampleThermostat_LcdDisplayCoolMode
       6  zclSampleThermostat_LcdDisplayCoolMode::?relay
      60  zclSampleThermostat_LcdDisplayHeatMode
       6  zclSampleThermostat_LcdDisplayHeatMode::?relay
      33  zclSampleThermostat_LcdDisplayHelpMode
       6  zclSampleThermostat_LcdDisplayHelpMode::?relay
     226  zclSampleThermostat_LcdDisplayMainMode
       6  zclSampleThermostat_LcdDisplayMainMode::?relay
      95  zclSampleThermostat_LcdDisplayUpdate
       6  zclSampleThermostat_LcdDisplayUpdate::?relay
       1  zclSampleThermostat_NwkState
     390  zclSampleThermostat_ProcessAppMsg
       6  zclSampleThermostat_ProcessAppMsg::?relay
     597  zclSampleThermostat_ProcessFoundationMsg
       6  zclSampleThermostat_ProcessFoundationMsg::?relay
      79  zclSampleThermostat_ProcessIdentifyTimeChange
       6  zclSampleThermostat_ProcessIdentifyTimeChange::?relay
    1159  zclSampleThermostat_ProcessInReportCmd
       6  zclSampleThermostat_ProcessInReportCmd::?relay
      10  zclSampleThermostat_RegisterEZModeData
     203  zclSampleThermostat_RollCall
       6  zclSampleThermostat_RollCall::?relay
     158  zclSampleThermostat_SendFreeData
       6  zclSampleThermostat_SendFreeData::?relay
       1  zclSampleThermostat_TaskID
     666  zclSampleThermostat_event_loop
       6  zclSampleThermostat_event_loop::?relay

 
 5 518 bytes in segment BANKED_CODE
   114 bytes in segment BANK_RELAYS
    39 bytes in segment XDATA_I
    39 bytes in segment XDATA_ID
   761 bytes in segment XDATA_ROM_C
    16 bytes in segment XDATA_Z
 
   153 bytes of CODE     memory
   741 bytes of CONST    memory (+ 20 bytes shared)
 5 518 bytes of HUGECODE memory
    55 bytes of XDATA    memory

Errors: none
Warnings: none

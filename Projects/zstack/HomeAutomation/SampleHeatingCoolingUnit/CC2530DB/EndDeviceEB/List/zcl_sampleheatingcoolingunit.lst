###############################################################################
#
# IAR C/C++ Compiler V9.30.1.3056 for 8051                01/Dec/2016  15:07:18
# Copyright 2004-2015 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\Source\zcl_sampleheatingcoolingunit.c
#    Command line       =  
#        -f "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_TX_DATA_MAX=3
#        -DMAC_CFG_TX_MAX=6 -DMAC_CFG_RX_MAX=3) -f "D:\_GIT_COMBROS\[COMBROS]
#        Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFAFA
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
#        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
#        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
#        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
#        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100
#        -DREJOIN_POLL_RATE=440 -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000)
#        -f "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
#        "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\Source\zcl_sampleheatingcoolingunit.c"
#        -D END_DEVICE_ENGINE -D SECURE=1 -D TC_LINKKEY_JOIN -D NV_INIT -D
#        NV_RESTORE -D xPOWER_SAVING -D NWK_AUTO_POLL -D xHOLD_AUTO_START -D
#        ZTOOL_P1 -D MT_TASK -D MT_APP_FUNC -D MT_SYS_FUNC -D MT_ZDO_FUNC -D
#        LCD_SUPPORTED=DEBUG -D MULTICAST_ENABLED=FALSE -D ZCL_READ -D
#        ZCL_WRITE -D ZCL_REPORT -D ZCL_EZMODE -D ZCL_BASIC -D ZCL_IDENTIFY -D
#        ZCL_ON_OFF -D ZCL_HVAC_CLUSTER -D xHAL_UART=TRUE -D xHAL_UART_DMA=1
#        -lC "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\EndDeviceEB\List"
#        -lA "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\EndDeviceEB\List"
#        --diag_suppress Pe001,Pa010 -o "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\EndDeviceEB\Obj"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -I
#        "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\Source\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\Source\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\HomeAutomation\MY-SOURCE\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes
#    List file          =  
#        D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\EndDeviceEB\List\zcl_sampleheatingcoolingunit.lst
#    Object file        =  
#        D:\_GIT_COMBROS\[COMBROS] Z-Stack Home
#        1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\CC2530DB\EndDeviceEB\Obj\zcl_sampleheatingcoolingunit.r51
#
###############################################################################

D:\_GIT_COMBROS\[COMBROS] Z-Stack Home 1.2.2a.44539\Projects\zstack\HomeAutomation\SampleHeatingCoolingUnit\Source\zcl_sampleheatingcoolingunit.c
      1          /**************************************************************************************************
      2            Filename:       zcl_sampleheatingcoolingunit.c
      3            Revised:        $Date: 2014-10-24 16:04:46 -0700 (Fri, 24 Oct 2014) $
      4            Revision:       $Revision: 40796 $
      5          
      6          
      7            Description:    Zigbee Cluster Library - sample device application.
      8          
      9          
     10            Copyright 2013 Texas Instruments Incorporated. All rights reserved.
     11          
     12            IMPORTANT: Your use of this Software is limited to those specific rights
     13            granted under the terms of a software license agreement between the user
     14            who downloaded the software, his/her employer (which must be your employer)
     15            and Texas Instruments Incorporated (the "License").  You may not use this
     16            Software unless you agree to abide by the terms of the License. The License
     17            limits your use, and you acknowledge, that the Software may not be modified,
     18            copied or distributed unless embedded on a Texas Instruments microcontroller
     19            or used solely and exclusively in conjunction with a Texas Instruments radio
     20            frequency transceiver, which is integrated into your product.  Other than for
     21            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     22            works of, modify, distribute, perform, display or sell this Software and/or
     23            its documentation for any purpose.
     24          
     25            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     26            PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     27            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     28            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     29            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     30            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     31            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     32            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     33            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     34            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     35            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     36          
     37            Should you have any questions regarding your right to use this Software,
     38            contact Texas Instruments Incorporated at www.TI.com.
     39          **************************************************************************************************/
     40          
     41          /*********************************************************************
     42            This device will act as a heating and cooling unit
     43          
     44            ----------------------------------------
     45            Main:
     46              - SW2: Invoke EZMode
     47              - SW4: Enable/Disable Permit Join
     48              - SW5: Go to Help screen
     49            ----------------------------------------
     50          *********************************************************************/
     51          
     52          /*********************************************************************
     53           * INCLUDES
     54           */
     55          #include "ZComDef.h"
     56          #include "OSAL.h"
     57          #include "AF.h"
     58          #include "ZDApp.h"
     59          #include "ZDObject.h"
     60          #include "ZDProfile.h"
     61          #include "MT_SYS.h"
     62          
     63          #include "zcl.h"
     64          #include "zcl_general.h"
     65          #include "zcl_ha.h"
     66          #include "zcl_ezmode.h"
     67          #include "zcl_ms.h"
     68          #include "zcl_hvac.h"
     69          
     70          #include "zcl_sampleheatingcoolingunit.h"
     71          
     72          #include "onboard.h"
     73          
     74          /* HAL */
     75          #include "hal_lcd.h"
     76          #include "hal_led.h"
     77          #include "hal_key.h"
     78          
     79          /* MY INCLUDES */
     80          #include "MS_UART.h"
     81          #include "MS_UART_CMD.h"
     82          
     83          /*********************************************************************
     84           * MACROS
     85           */
     86          
     87          /*********************************************************************
     88           * CONSTANTS
     89           */
     90          /*********************************************************************
     91           * TYPEDEFS
     92           */
     93          
     94          /*********************************************************************
     95           * GLOBAL VARIABLES
     96           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     97          uint8 zclSampleHeatingCoolingUnit_TaskID;
   \                     zclSampleHeatingCoolingUnit_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     98          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     99          uint8 zclSampleHeatingCoolingUnitSeqNum;
   \                     zclSampleHeatingCoolingUnitSeqNum:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    100          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    101          static uint8 gPermitDuration = 0;
   \                     gPermitDuration:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    102          
    103          /*********************************************************************
    104           * GLOBAL FUNCTIONS
    105           */
    106          
    107          /*********************************************************************
    108           * LOCAL VARIABLES
    109           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    110          afAddrType_t zclSampleHeatingCoolingUnit_DstAddr;
   \                     zclSampleHeatingCoolingUnit_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    111          
    112          // EZ-Mode setup
    113          #ifdef ZCL_EZMODE
    114          static void zclSampleHeatingCoolingUnit_ProcessZDOMsgs( zdoIncomingMsg_t *pMsg );
    115          static void zclSampleHeatingCoolingUnit_EZModeCB( zlcEZMode_State_t state, zclEZMode_CBData_t *pData );
    116          

   \                                 In  segment XDATA_ROM_C, align 1
    117          static const zclEZMode_RegisterData_t zclSampleHeatingCoolingUnit_RegisterEZModeData =
   \                     zclSampleHeatingCoolingUnit_RegisterEZModeData:
   \   000000   ....         DW zclSampleHeatingCoolingUnit_TaskID
   \   000002   0400         DW 4
   \   000004   0800         DW 8
   \   000006   ....         DW zclSampleHeatingCoolingUnitSeqNum
   \   000008   ....         DW `??zclSampleHeatingCoolingUnit_EZModeCB::?relay`
    118          {
    119            &zclSampleHeatingCoolingUnit_TaskID,
    120            SAMPLEHEATINGCOOLINGUNIT_EZMODE_NEXTSTATE_EVT,
    121            SAMPLEHEATINGCOOLINGUNIT_EZMODE_TIMEOUT_EVT,
    122            &zclSampleHeatingCoolingUnitSeqNum,
    123            zclSampleHeatingCoolingUnit_EZModeCB
    124          };
    125          
    126          // No ZCL_EZMODE, use EndDeviceBind
    127          #else
    128          
    129          static cId_t bindingInClusters[] =
    130          {
    131            ZCL_CLUSTER_ID_HVAC_THERMOSTAT
    132          };
    133          #define ZCLSAMPLEHEATINGCOOLINGUNIT_BINDINGLIST   1
    134          #endif  // ZCL_EZMODE
    135          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    136          devStates_t zclSampleHeatingCoolingUnit_NwkState = DEV_INIT;
   \                     zclSampleHeatingCoolingUnit_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zclSampleHeatingCoolingUnit_`
   \   000001                REQUIRE __INIT_XDATA_I
    137          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    138          uint8 giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;   // display main screen mode first
   \                     giHeatingCoolingUnitScreenMode:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    139          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    140          static uint8 aProcessCmd[] = { 1, 0, 0, 0 }; // used for reset command, { length + cmd0 + cmd1 + data }
   \                     aProcessCmd:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for aProcessCmd>`
   \   000004                REQUIRE __INIT_XDATA_I
    141          
    142          // Test Endpoint to allow SYS_APP_MSGs

   \                                 In  segment XDATA_I, align 1, keep-with-next
    143          static endPointDesc_t sampleLight_TestEp =
   \                     sampleLight_TestEp:
   \   000000                DS 6
   \   000006                REQUIRE `?<Initializer for sampleLight_TestEp>`
   \   000006                REQUIRE __INIT_XDATA_I
    144          {
    145            20,                                 // Test endpoint
    146            &zclSampleHeatingCoolingUnit_TaskID,
    147            (SimpleDescriptionFormat_t *)NULL,  // No Simple description for this test endpoint
    148            (afNetworkLatencyReq_t)0            // No Network Latency req
    149          };
    150          
    151          
    152          /*********************************************************************
    153           * LOCAL FUNCTIONS
    154           */
    155          static void zclSampleHeatingCoolingUnit_HandleKeys( byte shift, byte keys );
    156          static void zclSampleHeatingCoolingUnit_BasicResetCB( void );
    157          static void zclSampleHeatingCoolingUnit_IdentifyCB( zclIdentify_t *pCmd );
    158          static void zclSampleHeatingCoolingUnit_IdentifyQueryRspCB( zclIdentifyQueryRsp_t *pRsp );
    159          static void zclSampleHeatingCoolingUnit_OnOffCB( uint8 cmd );
    160          static void zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange( void );
    161          
    162          // app display functions
    163          void zclSampleHeatingCoolingUnit_LcdDisplayUpdate( void );
    164          void zclSampleHeatingCoolingUnit_LcdDisplayMainMode( void );
    165          void zclSampleHeatingCoolingUnit_LcdDisplayTempMode( void );
    166          void zclSampleHeatingCoolingUnit_LcdDisplayHelpMode( void );
    167          
    168          // Functions to process ZCL Foundation incoming Command/Response messages
    169          static void zclSampleHeatingCoolingUnit_ProcessIncomingMsg( zclIncomingMsg_t *msg );
    170          #ifdef ZCL_READ
    171          static uint8 zclSampleHeatingCoolingUnit_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg );
    172          #endif
    173          #ifdef ZCL_WRITE
    174          static uint8 zclSampleHeatingCoolingUnit_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg );
    175          #endif
    176          #ifdef ZCL_REPORT
    177          static void zclSampleHeatingCoolingUnit_ProcessInReportCmd( zclIncomingMsg_t *pInMsg );
    178          #endif
    179          static uint8 zclSampleHeatingCoolingUnit_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg );
    180          
    181          /*********************************************************************
    182           * STATUS STRINGS
    183           */
    184          #ifdef LCD_SUPPORTED

   \                                 In  segment XDATA_ROM_C, align 1
    185          const char sClearLine[]    = " ";
   \                     sClearLine:
   \   000000   2000         DB " "

   \                                 In  segment XDATA_ROM_C, align 1
    186          const char sDeviceName[]   = " Heat/Cool Unit";
   \                     sDeviceName:
   \   000000   20486561     DB " Heat/Cool Unit"
   \            742F436F
   \            6F6C2055
   \            6E697400

   \                                 In  segment XDATA_ROM_C, align 1
    187          const char sSwEZMode[]     = "SW2: EZ-Mode";
   \                     sSwEZMode:
   \   000000   5357323A     DB "SW2: EZ-Mode"
   \            20455A2D
   \            4D6F6465
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
    188          const char sSwHelp[]       = "SW5: Help";
   \                     sSwHelp:
   \   000000   5357353A     DB "SW5: Help"
   \            2048656C
   \            7000    

   \                                 In  segment XDATA_ROM_C, align 1
    189          const char sHeatMode[]     = "  HEATING MODE";
   \                     sHeatMode:
   \   000000   20204845     DB "  HEATING MODE"
   \            4154494E
   \            47204D4F
   \            444500  

   \                                 In  segment XDATA_ROM_C, align 1
    190          const char sCoolMode[]     = "  COOLING MODE";
   \                     sCoolMode:
   \   000000   2020434F     DB "  COOLING MODE"
   \            4F4C494E
   \            47204D4F
   \            444500  

   \                                 In  segment XDATA_ROM_C, align 1
    191          const char sOffMode[]      = "   SYSTEM OFF";
   \                     sOffMode:
   \   000000   20202053     DB "   SYSTEM OFF"
   \            59535445
   \            4D204F46
   \            4600    
    192          #endif
    193          
    194          /*********************************************************************
    195           * ZCL General Profile Callback table
    196           */

   \                                 In  segment XDATA_I, align 1, keep-with-next
    197          static zclGeneral_AppCallbacks_t zclSampleHeatingCoolingUnit_CmdCallbacks =
   \                     zclSampleHeatingCoolingUnit_CmdCallbacks:
   \   000000                DS 24
   \   000018                REQUIRE `?<Initializer for zclSampleHeatingCoolingUnit__1`
   \   000018                REQUIRE __INIT_XDATA_I
    198          {
    199            zclSampleHeatingCoolingUnit_BasicResetCB,         // Basic Cluster Reset command
    200            zclSampleHeatingCoolingUnit_IdentifyCB,           // Identify command
    201          #ifdef ZCL_EZMODE
    202            NULL,                                             // Identify EZ-Mode Invoke command
    203            NULL,                                             // Identify Update Commission State command
    204          #endif
    205            NULL,                                             // Identify Trigger Effect command
    206            zclSampleHeatingCoolingUnit_IdentifyQueryRspCB,   // Identify Query Response command
    207            zclSampleHeatingCoolingUnit_OnOffCB,              // On/Off cluster command
    208            NULL,                                             // On/Off cluster enhanced command Off with Effect
    209            NULL,                                             // On/Off cluster enhanced command On with Recall Global Scene
    210            NULL,                                             // On/Off cluster enhanced command On with Timed Off
    211          #ifdef ZCL_LEVEL_CTRL
    212            NULL,                                             // Level Control Move to Level command
    213            NULL,                                             // Level Control Move command
    214            NULL,                                             // Level Control Step command
    215            NULL,                                             // Level Control Stop command
    216          #endif
    217          #ifdef ZCL_GROUPS
    218            NULL,                                             // Group Response commands
    219          #endif
    220          #ifdef ZCL_SCENES
    221            NULL,                                             // Scene Store Request command
    222            NULL,                                             // Scene Recall Request command
    223            NULL,                                             // Scene Response command
    224          #endif
    225          #ifdef ZCL_ALARMS
    226            NULL,                                             // Alarm (Response) commands
    227          #endif
    228          #ifdef SE_UK_EXT
    229            NULL,                                             // Get Event Log command
    230            NULL,                                             // Publish Event Log command
    231          #endif
    232            NULL,                                             // RSSI Location command
    233            NULL                                              // RSSI Location Response command
    234          };
    235          
    236          /*********************************************************************
    237           * @fn          zclSampleHeatingCoolingUnit_Init
    238           *
    239           * @brief       Initialization function for the zclGeneral layer.
    240           *
    241           * @param       none
    242           *
    243           * @return      none
    244           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    245          void zclSampleHeatingCoolingUnit_Init( byte task_id )
   \                     zclSampleHeatingCoolingUnit_Init:
    246          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    247            zclSampleHeatingCoolingUnit_TaskID = task_id;
   \   000007   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   00000A   F0           MOVX    @DPTR,A
    248          
    249            // Set destination address to Coordinator
    250            zclSampleHeatingCoolingUnit_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   00000B   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_DstAddr + 8
   \   00000E   7402         MOV     A,#0x2
   \   000010   F0           MOVX    @DPTR,A
    251            zclSampleHeatingCoolingUnit_DstAddr.endPoint = APP_ROUTER_ENDPOINT;
   \   000011   A3           INC     DPTR
   \   000012   7408         MOV     A,#0x8
   \   000014   F0           MOVX    @DPTR,A
    252            zclSampleHeatingCoolingUnit_DstAddr.addr.shortAddr = NLME_GetCoordShortAddr();
   \   000015                ; Setup parameters for call to function NLME_GetCoordShortAddr
   \   000015   12....       LCALL   `??NLME_GetCoordShortAddr::?relay`; Banked call to: NLME_GetCoordShortAddr
   \   000018   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_DstAddr
   \   00001B   EA           MOV     A,R2
   \   00001C   F0           MOVX    @DPTR,A
   \   00001D   A3           INC     DPTR
   \   00001E   EB           MOV     A,R3
   \   00001F   F0           MOVX    @DPTR,A
    253          
    254            // This app is part of the Home Automation Profile
    255            zclHA_Init( &zclSampleHeatingCoolingUnit_SimpleDesc );
   \   000020                ; Setup parameters for call to function zclHA_Init
   \   000020   7A..         MOV     R2,#zclSampleHeatingCoolingUnit_SimpleDesc & 0xff
   \   000022   7B..         MOV     R3,#(zclSampleHeatingCoolingUnit_SimpleDesc >> 8) & 0xff
   \   000024   12....       LCALL   `??zclHA_Init::?relay`; Banked call to: zclHA_Init
    256          
    257            // Register the ZCL General Cluster Library callback functions
    258            zclGeneral_RegisterCmdCallbacks( SAMPLEHEATINGCOOLINGUNIT_ENDPOINT, &zclSampleHeatingCoolingUnit_CmdCallbacks );
   \   000027                ; Setup parameters for call to function zclGeneral_RegisterCmdCallbacks
   \   000027   7A..         MOV     R2,#zclSampleHeatingCoolingUnit_CmdCallbacks & 0xff
   \   000029   7B..         MOV     R3,#(zclSampleHeatingCoolingUnit_CmdCallbacks >> 8) & 0xff
   \   00002B   7901         MOV     R1,#0x1
   \   00002D   12....       LCALL   `??zclGeneral_RegisterCmdCallbacks::?relay`; Banked call to: zclGeneral_RegisterCmdCallbacks
    259          
    260            // Register the application's attribute list
    261            zcl_registerAttrList( SAMPLEHEATINGCOOLINGUNIT_ENDPOINT, SAMPLEHEATINGCOOLINGUNIT_MAX_ATTRIBUTES, zclSampleHeatingCoolingUnit_Attrs );
   \   000030                ; Setup parameters for call to function zcl_registerAttrList
   \   000030   7C..         MOV     R4,#zclSampleHeatingCoolingUnit_Attrs & 0xff
   \   000032   7D..         MOV     R5,#(zclSampleHeatingCoolingUnit_Attrs >> 8) & 0xff
   \   000034   7A0F         MOV     R2,#0xf
   \   000036   7901         MOV     R1,#0x1
   \   000038   12....       LCALL   `??zcl_registerAttrList::?relay`; Banked call to: zcl_registerAttrList
    262          
    263            // Register the Application to receive the unprocessed Foundation command/response messages
    264            zcl_registerForMsg( zclSampleHeatingCoolingUnit_TaskID );
   \   00003B                ; Setup parameters for call to function zcl_registerForMsg
   \   00003B   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   F9           MOV     R1,A
   \   000040   12....       LCALL   `??zcl_registerForMsg::?relay`; Banked call to: zcl_registerForMsg
    265          
    266          	#ifdef ZCL_EZMODE
    267            // Register EZ-Mode
    268            zcl_RegisterEZMode( &zclSampleHeatingCoolingUnit_RegisterEZModeData );
   \   000043                ; Setup parameters for call to function zcl_RegisterEZMode
   \   000043   7A..         MOV     R2,#zclSampleHeatingCoolingUnit_RegisterEZModeData & 0xff
   \   000045   7B..         MOV     R3,#(zclSampleHeatingCoolingUnit_RegisterEZModeData >> 8) & 0xff
   \   000047   12....       LCALL   `??zcl_RegisterEZMode::?relay`; Banked call to: zcl_RegisterEZMode
    269          
    270            // Register with the ZDO to receive Match Descriptor Responses
    271            ZDO_RegisterForZDOMsg(task_id, Match_Desc_rsp);
   \   00004A                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   00004A   7A06         MOV     R2,#0x6
   \   00004C   7B80         MOV     R3,#-0x80
   \   00004E   EE           MOV     A,R6
   \   00004F   F9           MOV     R1,A
   \   000050   12....       LCALL   `??ZDO_RegisterForZDOMsg::?relay`; Banked call to: ZDO_RegisterForZDOMsg
    272          	#endif
    273          
    274            // Register for all key events - This app will handle all key events
    275            RegisterForKeys( zclSampleHeatingCoolingUnit_TaskID );
   \   000053                ; Setup parameters for call to function RegisterForKeys
   \   000053   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000056   E0           MOVX    A,@DPTR
   \   000057   F9           MOV     R1,A
   \   000058   12....       LCALL   `??RegisterForKeys::?relay`; Banked call to: RegisterForKeys
    276          
    277            // Register for a test endpoint
    278            afRegister( &sampleLight_TestEp );
   \   00005B                ; Setup parameters for call to function afRegister
   \   00005B   7A..         MOV     R2,#sampleLight_TestEp & 0xff
   \   00005D   7B..         MOV     R3,#(sampleLight_TestEp >> 8) & 0xff
   \   00005F   12....       LCALL   `??afRegister::?relay`; Banked call to: afRegister
    279          
    280          	#ifdef LCD_SUPPORTED
    281            // display the device name
    282            HalLcdWriteString( (char *)sDeviceName, HAL_LCD_LINE_3 );
   \   000062                ; Setup parameters for call to function HalLcdWriteString
   \   000062   7903         MOV     R1,#0x3
   \   000064   7A..         MOV     R2,#sDeviceName & 0xff
   \   000066   7B..         MOV     R3,#(sDeviceName >> 8) & 0xff
   \   000068   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    283          	#endif
    284          
    285          	UART_Init(HAL_UART_PORT_0);
   \   00006B                ; Setup parameters for call to function UART_Init
   \   00006B   7900         MOV     R1,#0x0
   \   00006D   12....       LCALL   `??UART_Init::?relay`; Banked call to: UART_Init
    286          	
    287          	// Set timer for first UART Reply CMD event
    288          	osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_UART_REPLY_CMD_EVT, UART_PARSE_RX_PACKAGE_EVT_PERIOD );
   \   000070                ; Setup parameters for call to function osal_start_timerEx
   \   000070   90....       MOV     DPTR,#__Constant_a
   \   000073   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000076   7A40         MOV     R2,#0x40
   \   000078   7B00         MOV     R3,#0x0
   \   00007A   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   00007D   E0           MOVX    A,@DPTR
   \   00007E   F9           MOV     R1,A
   \   00007F   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000082   7404         MOV     A,#0x4
   \   000084   12....       LCALL   ?DEALLOC_XSTACK8
    289          
    290          	// Set timer for first Check System event
    291          	osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_CHECK_SYSTEM_EVT, CHECK_SYSTEM_EVT_PERIOD );
   \   000087                ; Setup parameters for call to function osal_start_timerEx
   \   000087   90....       MOV     DPTR,#__Constant_2710
   \   00008A   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00008D   7A80         MOV     R2,#-0x80
   \   00008F   7B00         MOV     R3,#0x0
   \   000091   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000094   E0           MOVX    A,@DPTR
   \   000095   F9           MOV     R1,A
   \   000096   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000099   7404         MOV     A,#0x4
   \   00009B   12....       LCALL   ?DEALLOC_XSTACK8
    292          
    293          	// Set timer for first Join Setup event
    294          	if (NLME_GetShortAddr() != 0xFFFE)
   \   00009E                ; Setup parameters for call to function NLME_GetShortAddr
   \   00009E   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   0000A1   8A..         MOV     ?V0,R2
   \   0000A3   8B..         MOV     ?V1,R3
   \   0000A5   74FE         MOV     A,#-0x2
   \   0000A7   65..         XRL     A,?V0
   \   0000A9   7004         JNZ     ??zclSampleHeatingCoolingUnit_Init_0
   \   0000AB   74FF         MOV     A,#-0x1
   \   0000AD   65..         XRL     A,?V1
   \                     ??zclSampleHeatingCoolingUnit_Init_0:
   \   0000AF   600C         JZ      ??zclSampleHeatingCoolingUnit_Init_1
    295          	{
    296          		osal_set_event( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT );
   \   0000B1                ; Setup parameters for call to function osal_set_event
   \   0000B1   7A20         MOV     R2,#0x20
   \   0000B3   7B00         MOV     R3,#0x0
   \   0000B5   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   F9           MOV     R1,A
   \   0000BA   12....       LCALL   `??osal_set_event::?relay`; Banked call to: osal_set_event
    297          	}
    298          	
    299          }
   \                     ??zclSampleHeatingCoolingUnit_Init_1:
   \   0000BD   7F02         MOV     R7,#0x2
   \   0000BF   02....       LJMP    ?BANKED_LEAVE_XDATA
    300          
    301          /*********************************************************************
    302           * @fn          zclSample_event_loop
    303           *
    304           * @brief       Event Loop Processor for zclGeneral.
    305           *
    306           * @param       none
    307           *
    308           * @return      none
    309           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    310          uint16 zclSampleHeatingCoolingUnit_event_loop( uint8 task_id, uint16 events )
   \                     zclSampleHeatingCoolingUnit_event_loop:
    311          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    312            afIncomingMSGPacket_t *MSGpkt;
    313          
    314            (void)task_id;  // Intentionally unreferenced parameter
    315          
    316          	/*--------------------------------------------------------------------------*/
    317            if ( events & SYS_EVENT_MSG )
   \   00000E   5480         ANL     A,#0x80
   \   000010   7062         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_0
    318            {
    319              while ( (MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( zclSampleHeatingCoolingUnit_TaskID ) ) )
    320              {
    321          			msg_RSSI = MSGpkt->rssi;
    322          		
    323                switch ( MSGpkt->hdr.event )
    324                {
    325          				#ifdef ZCL_EZMODE
    326                  case ZDO_CB_MSG:
    327                    zclSampleHeatingCoolingUnit_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
    328          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] ZDO_CB_MSG");
    329                    break;
    330          				#endif
    331          
    332                  case ZCL_INCOMING_MSG:
    333                    // Incoming ZCL Foundation command/response messages
    334                    zclSampleHeatingCoolingUnit_ProcessIncomingMsg( (zclIncomingMsg_t *)MSGpkt );
    335          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] ZCL_INCOMING_MSG");
    336                    break;
    337          
    338                  case KEY_CHANGE:
    339                    zclSampleHeatingCoolingUnit_HandleKeys( ( (keyChange_t *)MSGpkt)->state, ( (keyChange_t *)MSGpkt)->keys );
    340          					UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] KEY_CHANGE");
    341          					break;
    342          
    343                  case ZDO_STATE_CHANGE:
    344                    zclSampleHeatingCoolingUnit_NwkState = (devStates_t)(MSGpkt->hdr.status);
    345          
    346          
    347                    // now on the network
    348                    if ( ( zclSampleHeatingCoolingUnit_NwkState == DEV_ZB_COORD ) ||
    349                         ( zclSampleHeatingCoolingUnit_NwkState == DEV_ROUTER )   ||
    350                         ( zclSampleHeatingCoolingUnit_NwkState == DEV_END_DEVICE ) )
    351                    {
    352          						#ifndef HOLD_AUTO_START
    353                      giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;
    354          
    355                      zclSampleHeatingCoolingUnit_LcdDisplayMainMode();
    356          						#endif
    357          						#ifdef ZCL_EZMODE
    358                      zcl_EZModeAction( EZMODE_ACTION_NETWORK_STARTED, NULL );
    359          						#endif // ZCL_EZMODE
    360          
    361          						UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] ZDO_STATE_CHANGE");
    362                    }
    363                    break;
    364          
    365                  default:
    366                    break;
    367                }
    368          
    369                // Release the memory
    370                osal_msg_deallocate( (uint8 *)MSGpkt );
    371              }
    372          
    373              // return unprocessed events
    374              return (events ^ SYS_EVENT_MSG);
    375            }
    376          
    377          	/*--------------------------------------------------------------------------*/
    378            if ( events & SAMPLEHEATINGCOOLINGUNIT_IDENTIFY_TIMEOUT_EVT )
   \   000012   EE           MOV     A,R6
   \   000013   A2E0         MOV     C,0xE0 /* A   */.0
   \   000015   4003         JC      $+5
   \   000017   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_1 & 0xFFFF
    379            {
    380              if ( zclSampleHeatingCoolingUnit_IdentifyTime > 0 )
   \   00001A   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   00001D   E8           MOV     A,R0
   \   00001E   49           ORL     A,R1
   \   00001F   600C         JZ      ??zclSampleHeatingCoolingUnit_event_loop_2
    381              {
    382                zclSampleHeatingCoolingUnit_IdentifyTime--;
   \   000021   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_IdentifyTime
   \   000024   E0           MOVX    A,@DPTR
   \   000025   24FF         ADD     A,#-0x1
   \   000027   F0           MOVX    @DPTR,A
   \   000028   A3           INC     DPTR
   \   000029   E0           MOVX    A,@DPTR
   \   00002A   34FF         ADDC    A,#-0x1
   \   00002C   F0           MOVX    @DPTR,A
    383              }
    384          
    385              zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange();
   \                     ??zclSampleHeatingCoolingUnit_event_loop_2:
   \   00002D                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
   \   00002D   12....       LCALL   ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi; Banked call to: zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
    386          
    387          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLEHEATINGCOOLINGUNIT_IDENTIFY_TIMEOUT_EVT");
   \   000030                ; Setup parameters for call to function UART_DebugPrint
   \   000030   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLEHEATING...">` & 0xff
   \   000032   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLEHEATING...">` >> 8) & 0xff
   \   000034   7900         MOV     R1,#0x0
   \   000036   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    388          
    389              return ( events ^ SAMPLEHEATINGCOOLINGUNIT_IDENTIFY_TIMEOUT_EVT );
   \   000039   EE           MOV     A,R6
   \   00003A   6401         XRL     A,#0x1
   \   00003C   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_3 & 0xFFFF
    390            }
   \                     ??zclSampleHeatingCoolingUnit_event_loop_4:
   \   00003F   A3           INC     DPTR
   \   000040   E0           MOVX    A,@DPTR
   \   000041   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_NwkState
   \   000044   F0           MOVX    @DPTR,A
   \   000045   6409         XRL     A,#0x9
   \   000047   600A         JZ      ??zclSampleHeatingCoolingUnit_event_loop_5
   \   000049   E0           MOVX    A,@DPTR
   \   00004A   6407         XRL     A,#0x7
   \   00004C   6005         JZ      ??zclSampleHeatingCoolingUnit_event_loop_5
   \   00004E   E0           MOVX    A,@DPTR
   \   00004F   6406         XRL     A,#0x6
   \   000051   701A         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_6
   \                     ??zclSampleHeatingCoolingUnit_event_loop_5:
   \   000053   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   000056   E4           CLR     A
   \   000057   F0           MOVX    @DPTR,A
   \   000058                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayMainMode
   \   000058   12....       LCALL   ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayMainMode
   \   00005B                ; Setup parameters for call to function zcl_EZModeAction
   \   00005B   7A00         MOV     R2,#0x0
   \   00005D   7B00         MOV     R3,#0x0
   \   00005F   7902         MOV     R1,#0x2
   \   000061   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
   \   000064                ; Setup parameters for call to function UART_DebugPrint
   \   000064   7A..         MOV     R2,#`?<Constant "[EVENT] ZDO_STATE_CHANGE">` & 0xff
   \   000066   7B..         MOV     R3,#(`?<Constant "[EVENT] ZDO_STATE_CHANGE">` >> 8) & 0xff
   \                     ??zclSampleHeatingCoolingUnit_event_loop_7:
   \   000068   7900         MOV     R1,#0x0
   \   00006A   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
   \                     ??zclSampleHeatingCoolingUnit_event_loop_6:
   \   00006D                ; Setup parameters for call to function osal_msg_deallocate
   \   00006D   AA..         MOV     R2,?V0
   \   00006F   AB..         MOV     R3,?V1
   \   000071   12....       LCALL   `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   \                     ??zclSampleHeatingCoolingUnit_event_loop_0:
   \   000074                ; Setup parameters for call to function osal_msg_receive
   \   000074   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000077   E0           MOVX    A,@DPTR
   \   000078   F9           MOV     R1,A
   \   000079   12....       LCALL   `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
   \   00007C   8A..         MOV     ?V0,R2
   \   00007E   8B..         MOV     ?V1,R3
   \   000080   EA           MOV     A,R2
   \   000081   45..         ORL     A,?V1
   \   000083   7003         JNZ     $+5
   \   000085   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_8 & 0xFFFF
   \   000088   EA           MOV     A,R2
   \   000089   2418         ADD     A,#0x18
   \   00008B   F582         MOV     DPL,A
   \   00008D   E4           CLR     A
   \   00008E   35..         ADDC    A,?V1
   \   000090   F583         MOV     DPH,A
   \   000092   E0           MOVX    A,@DPTR
   \   000093   90....       MOV     DPTR,#msg_RSSI
   \   000096   F0           MOVX    @DPTR,A
   \   000097   8A82         MOV     DPL,R2
   \   000099   8B83         MOV     DPH,R3
   \   00009B   E0           MOVX    A,@DPTR
   \   00009C   24CC         ADD     A,#-0x34
   \   00009E   6040         JZ      ??zclSampleHeatingCoolingUnit_event_loop_9
   \   0000A0   2474         ADD     A,#0x74
   \   0000A2   7003         JNZ     $+5
   \   0000A4   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_10 & 0xFFFF
   \   0000A7   24EF         ADD     A,#-0x11
   \   0000A9   6094         JZ      ??zclSampleHeatingCoolingUnit_event_loop_4
   \   0000AB   24FE         ADD     A,#-0x2
   \   0000AD   70BE         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_6
   \   0000AF   EA           MOV     A,R2
   \   0000B0   240C         ADD     A,#0xc
   \   0000B2   F582         MOV     DPL,A
   \   0000B4   E4           CLR     A
   \   0000B5   35..         ADDC    A,?V1
   \   0000B7   F583         MOV     DPH,A
   \   0000B9   E0           MOVX    A,@DPTR
   \   0000BA   6406         XRL     A,#0x6
   \   0000BC   7004         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_11
   \   0000BE   A3           INC     DPTR
   \   0000BF   E0           MOVX    A,@DPTR
   \   0000C0   6480         XRL     A,#0x80
   \                     ??zclSampleHeatingCoolingUnit_event_loop_11:
   \   0000C2   7016         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_12
   \   0000C4                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   0000C4   12....       LCALL   `??ZDO_ParseEPListRsp::?relay`; Banked call to: ZDO_ParseEPListRsp
   \   0000C7   8A..         MOV     ?V2,R2
   \   0000C9   8B..         MOV     ?V3,R3
   \   0000CB   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   0000CE   7905         MOV     R1,#0x5
   \   0000D0   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
   \   0000D3                ; Setup parameters for call to function osal_mem_free
   \   0000D3   AA..         MOV     R2,?V2
   \   0000D5   AB..         MOV     R3,?V3
   \   0000D7   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \                     ??zclSampleHeatingCoolingUnit_event_loop_12:
   \   0000DA                ; Setup parameters for call to function UART_DebugPrint
   \   0000DA   7A..         MOV     R2,#`?<Constant "[EVENT] ZDO_CB_MSG">` & 0xff
   \   0000DC   7B..         MOV     R3,#(`?<Constant "[EVENT] ZDO_CB_MSG">` >> 8) & 0xff
   \   0000DE   8088         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_7
   \                     ??zclSampleHeatingCoolingUnit_event_loop_9:
   \   0000E0   EA           MOV     A,R2
   \   0000E1   2417         ADD     A,#0x17
   \   0000E3   F5..         MOV     ?V2,A
   \   0000E5   E4           CLR     A
   \   0000E6   35..         ADDC    A,?V1
   \   0000E8   F5..         MOV     ?V3,A
   \   0000EA   A3           INC     DPTR
   \   0000EB   A3           INC     DPTR
   \   0000EC   A3           INC     DPTR
   \   0000ED   A3           INC     DPTR
   \   0000EE   A3           INC     DPTR
   \   0000EF   A3           INC     DPTR
   \   0000F0   A3           INC     DPTR
   \   0000F1   E0           MOVX    A,@DPTR
   \   0000F2   14           DEC     A
   \   0000F3   601A         JZ      ??zclSampleHeatingCoolingUnit_event_loop_13
   \   0000F5   24FD         ADD     A,#-0x3
   \   0000F7   6009         JZ      ??zclSampleHeatingCoolingUnit_event_loop_14
   \   0000F9   24FA         ADD     A,#-0x6
   \   0000FB   701F         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_15
   \   0000FD                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_ProcessInReportCmd
   \   0000FD   12....       LCALL   ??zclSampleHeatingCoolingUnit_ProcessInReportCm; Banked call to: zclSampleHeatingCoolingUnit_ProcessInReportCmd
   \   000100   801A         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_15
   \                     ??zclSampleHeatingCoolingUnit_event_loop_14:
   \   000102   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_4:
   \   000105   E0           MOVX    A,@DPTR
   \   000106   F9           MOV     R1,A
   \   000107   E8           MOV     A,R0
   \   000108   C3           CLR     C
   \   000109   99           SUBB    A,R1
   \   00010A   5010         JNC     ??zclSampleHeatingCoolingUnit_event_loop_15
   \   00010C   08           INC     R0
   \   00010D   80F6         SJMP    ??CrossCallReturnLabel_4
   \                     ??zclSampleHeatingCoolingUnit_event_loop_13:
   \   00010F   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   000112   8001         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_16
   \                     ??zclSampleHeatingCoolingUnit_event_loop_17:
   \   000114   08           INC     R0
   \                     ??zclSampleHeatingCoolingUnit_event_loop_16:
   \   000115   E0           MOVX    A,@DPTR
   \   000116   F9           MOV     R1,A
   \   000117   E8           MOV     A,R0
   \   000118   C3           CLR     C
   \   000119   99           SUBB    A,R1
   \   00011A   40F8         JC      ??zclSampleHeatingCoolingUnit_event_loop_17
   \                     ??zclSampleHeatingCoolingUnit_event_loop_15:
   \   00011C   85..82       MOV     DPL,?V2
   \   00011F   85..83       MOV     DPH,?V3
   \   000122   E0           MOVX    A,@DPTR
   \   000123   FA           MOV     R2,A
   \   000124   A3           INC     DPTR
   \   000125   E0           MOVX    A,@DPTR
   \   000126   FB           MOV     R3,A
   \   000127   EA           MOV     A,R2
   \   000128   4B           ORL     A,R3
   \   000129   6003         JZ      ??zclSampleHeatingCoolingUnit_event_loop_18
   \   00012B                ; Setup parameters for call to function osal_mem_free
   \   00012B   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \                     ??zclSampleHeatingCoolingUnit_event_loop_18:
   \   00012E                ; Setup parameters for call to function UART_DebugPrint
   \   00012E   7A..         MOV     R2,#`?<Constant "[EVENT] ZCL_INCOMING_MSG">` & 0xff
   \   000130   7B..         MOV     R3,#(`?<Constant "[EVENT] ZCL_INCOMING_MSG">` >> 8) & 0xff
   \   000132   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_7 & 0xFFFF
   \                     ??zclSampleHeatingCoolingUnit_event_loop_10:
   \   000135                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_HandleKeys
   \   000135   A3           INC     DPTR
   \   000136   A3           INC     DPTR
   \   000137   A3           INC     DPTR
   \   000138   E0           MOVX    A,@DPTR
   \   000139   FA           MOV     R2,A
   \   00013A   85..82       MOV     DPL,?V0
   \   00013D   8B83         MOV     DPH,R3
   \   00013F   A3           INC     DPTR
   \   000140   A3           INC     DPTR
   \   000141   E0           MOVX    A,@DPTR
   \   000142   F9           MOV     R1,A
   \   000143   12....       LCALL   `??zclSampleHeatingCoolingUnit_HandleKeys::?rela`; Banked call to: zclSampleHeatingCoolingUnit_HandleKeys
   \   000146                ; Setup parameters for call to function UART_DebugPrint
   \   000146   7A..         MOV     R2,#`?<Constant "[EVENT] KEY_CHANGE">` & 0xff
   \   000148   7B..         MOV     R3,#(`?<Constant "[EVENT] KEY_CHANGE">` >> 8) & 0xff
   \   00014A   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_7 & 0xFFFF
   \                     ??zclSampleHeatingCoolingUnit_event_loop_8:
   \   00014D   EE           MOV     A,R6
   \   00014E   FA           MOV     R2,A
   \   00014F   EF           MOV     A,R7
   \   000150   6480         XRL     A,#0x80
   \   000152   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_19 & 0xFFFF
    391          
    392          	/*--------------------------------------------------------------------------*/
    393            if ( events & SAMPLEHEATINGCOOLINGUNIT_MAIN_SCREEN_EVT )
   \                     ??zclSampleHeatingCoolingUnit_event_loop_1:
   \   000155   5410         ANL     A,#0x10
   \   000157   6027         JZ      ??zclSampleHeatingCoolingUnit_event_loop_20
    394            {
    395              giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;
   \   000159   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   00015C   E4           CLR     A
   \   00015D   F0           MOVX    @DPTR,A
    396              zclSampleHeatingCoolingUnit_LcdDisplayMainMode();
   \   00015E                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayMainMode
   \   00015E   12....       LCALL   ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayMainMode
    397          
    398          		if (FLAG_BINDING)
   \   000161   90....       MOV     DPTR,#FLAG_BINDING
   \   000164   E0           MOVX    A,@DPTR
   \   000165   600A         JZ      ??zclSampleHeatingCoolingUnit_event_loop_21
    399          		{
    400          			FLAG_BINDING = FALSE;
   \   000167   E4           CLR     A
   \   000168   F0           MOVX    @DPTR,A
    401          			if (FLAG_HARD_BINDING)
   \   000169   90....       MOV     DPTR,#FLAG_HARD_BINDING
   \   00016C   E0           MOVX    A,@DPTR
   \   00016D   6002         JZ      ??zclSampleHeatingCoolingUnit_event_loop_21
    402          			{
    403          				FLAG_HARD_BINDING = FALSE;
   \   00016F   E4           CLR     A
   \   000170   F0           MOVX    @DPTR,A
    404          			}
    405          		}
    406          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLEHEATINGCOOLINGUNIT_MAIN_SCREEN_EVT");
   \                     ??zclSampleHeatingCoolingUnit_event_loop_21:
   \   000171                ; Setup parameters for call to function UART_DebugPrint
   \   000171   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLEHEATING...">_1` & 0xff
   \   000173   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLEHEATING...">_1` >> 8) & 0xff
   \   000175   7900         MOV     R1,#0x0
   \   000177   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    407          
    408              return ( events ^ SAMPLEHEATINGCOOLINGUNIT_MAIN_SCREEN_EVT );
   \   00017A   EE           MOV     A,R6
   \   00017B   6410         XRL     A,#0x10
   \   00017D   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_3 & 0xFFFF
    409            }
    410          
    411          	/*--------------------------------------------------------------------------*/
    412          	#ifdef ZCL_EZMODE
    413            // going on to next state
    414            if ( events & SAMPLEHEATINGCOOLINGUNIT_EZMODE_NEXTSTATE_EVT )
   \                     ??zclSampleHeatingCoolingUnit_event_loop_20:
   \   000180   EE           MOV     A,R6
   \   000181   5404         ANL     A,#0x4
   \   000183   6018         JZ      ??zclSampleHeatingCoolingUnit_event_loop_22
    415            {
    416              zcl_EZModeAction ( EZMODE_ACTION_PROCESS, NULL );   // going on to next state
   \   000185                ; Setup parameters for call to function zcl_EZModeAction
   \   000185   7A00         MOV     R2,#0x0
   \   000187   7B00         MOV     R3,#0x0
   \   000189   7901         MOV     R1,#0x1
   \   00018B   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
    417          
    418          		UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLEHEATINGCOOLINGUNIT_EZMODE_NEXTSTATE_EVT");
   \   00018E                ; Setup parameters for call to function UART_DebugPrint
   \   00018E   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLEHEATING...">_2` & 0xff
   \   000190   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLEHEATING...">_2` >> 8) & 0xff
   \   000192   7900         MOV     R1,#0x0
   \   000194   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    419          		
    420              return ( events ^ SAMPLEHEATINGCOOLINGUNIT_EZMODE_NEXTSTATE_EVT );
   \   000197   EE           MOV     A,R6
   \   000198   6404         XRL     A,#0x4
   \   00019A   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_3 & 0xFFFF
    421            }
    422          
    423          	/*--------------------------------------------------------------------------*/
    424            // the overall EZMode timer expired, so we timed out
    425            if ( events & SAMPLEHEATINGCOOLINGUNIT_EZMODE_TIMEOUT_EVT )
   \                     ??zclSampleHeatingCoolingUnit_event_loop_22:
   \   00019D   EE           MOV     A,R6
   \   00019E   5408         ANL     A,#0x8
   \   0001A0   6018         JZ      ??zclSampleHeatingCoolingUnit_event_loop_23
    426            {
    427              zcl_EZModeAction ( EZMODE_ACTION_TIMED_OUT, NULL ); // EZ-Mode timed out
   \   0001A2                ; Setup parameters for call to function zcl_EZModeAction
   \   0001A2   7A00         MOV     R2,#0x0
   \   0001A4   7B00         MOV     R3,#0x0
   \   0001A6   7963         MOV     R1,#0x63
   \   0001A8   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
    428              UART_DebugPrint(HAL_UART_PORT_0, "[EVENT] SAMPLEHEATINGCOOLINGUNIT_EZMODE_TIMEOUT_EVT");
   \   0001AB                ; Setup parameters for call to function UART_DebugPrint
   \   0001AB   7A..         MOV     R2,#`?<Constant "[EVENT] SAMPLEHEATING...">_3` & 0xff
   \   0001AD   7B..         MOV     R3,#(`?<Constant "[EVENT] SAMPLEHEATING...">_3` >> 8) & 0xff
   \   0001AF   7900         MOV     R1,#0x0
   \   0001B1   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    429              return ( events ^ SAMPLEHEATINGCOOLINGUNIT_EZMODE_TIMEOUT_EVT );
   \   0001B4   EE           MOV     A,R6
   \   0001B5   6408         XRL     A,#0x8
   \   0001B7   02....       LJMP    ??zclSampleHeatingCoolingUnit_event_loop_3 & 0xFFFF
    430            }
    431          	#endif // ZLC_EZMODE
    432          
    433          	/*--------------------------------------------------------------------------*/
    434          	if ( events & SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT )
   \                     ??zclSampleHeatingCoolingUnit_event_loop_23:
   \   0001BA   EE           MOV     A,R6
   \   0001BB   5420         ANL     A,#0x20
   \   0001BD   6045         JZ      ??zclSampleHeatingCoolingUnit_event_loop_24
    435            {
    436          		if (FLAG_JOIN_CONFIRM == FALSE && FLAG_BINDING == FALSE)
   \   0001BF   90....       MOV     DPTR,#FLAG_JOIN_CONFIRM
   \   0001C2   E0           MOVX    A,@DPTR
   \   0001C3   7022         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_25
   \   0001C5   90....       MOV     DPTR,#FLAG_BINDING
   \   0001C8   E0           MOVX    A,@DPTR
   \   0001C9   702B         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_26
    437          		{
    438          			zclSampleHeatingCoolingUnit_BindingProcess();
   \   0001CB                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_BindingProcess
   \   0001CB   12....       LCALL   `??zclSampleHeatingCoolingUnit_BindingProcess::?`; Banked call to: zclSampleHeatingCoolingUnit_BindingProcess
    439          			// Stop binding after 5000ms (time for process...)
    440          			osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT, 5000 );
   \   0001CE                ; Setup parameters for call to function osal_start_timerEx
   \   0001CE   90....       MOV     DPTR,#__Constant_1388
   \   0001D1   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0001D4   7A20         MOV     R2,#0x20
   \   0001D6   7B00         MOV     R3,#0x0
   \   0001D8   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   0001DB   E0           MOVX    A,@DPTR
   \   0001DC   F9           MOV     R1,A
   \   0001DD   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0001E0   7404         MOV     A,#0x4
   \   0001E2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001E5   800F         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_26
    441          		}
    442          		else if (FLAG_JOIN_CONFIRM == TRUE && FLAG_BINDING == TRUE)
   \                     ??zclSampleHeatingCoolingUnit_event_loop_25:
   \   0001E7   6401         XRL     A,#0x1
   \   0001E9   700B         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_26
   \   0001EB   90....       MOV     DPTR,#FLAG_BINDING
   \   0001EE   E0           MOVX    A,@DPTR
   \   0001EF   6401         XRL     A,#0x1
   \   0001F1   7003         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_26
    443          		{
    444          			zclSampleHeatingCoolingUnit_BindingProcess();
   \   0001F3                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_BindingProcess
   \   0001F3   12....       LCALL   `??zclSampleHeatingCoolingUnit_BindingProcess::?`; Banked call to: zclSampleHeatingCoolingUnit_BindingProcess
    445          		}
    446          		
    447          		UART_DebugPrint(HAL_UART_PORT_0, "SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT");
   \                     ??zclSampleHeatingCoolingUnit_event_loop_26:
   \   0001F6                ; Setup parameters for call to function UART_DebugPrint
   \   0001F6   7A..         MOV     R2,#`?<Constant "SAMPLEHEATINGCOOLINGU...">` & 0xff
   \   0001F8   7B..         MOV     R3,#(`?<Constant "SAMPLEHEATINGCOOLINGU...">` >> 8) & 0xff
   \   0001FA   7900         MOV     R1,#0x0
   \   0001FC   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    448          
    449              return ( events ^ SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT );
   \   0001FF   EE           MOV     A,R6
   \   000200   6420         XRL     A,#0x20
   \   000202   806F         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_3
    450            }
    451          
    452          	/*--------------------------------------------------------------------------*/
    453          	if ( events & SAMPLEHEATINGCOOLINGUNIT_UART_REPLY_CMD_EVT )
   \                     ??zclSampleHeatingCoolingUnit_event_loop_24:
   \   000204   EE           MOV     A,R6
   \   000205   5440         ANL     A,#0x40
   \   000207   6027         JZ      ??zclSampleHeatingCoolingUnit_event_loop_27
    454            {
    455          		// My apps
    456          		if (UART_ParseRxPackage(HAL_UART_PORT_0))
   \   000209                ; Setup parameters for call to function UART_ParseRxPackage
   \   000209   7900         MOV     R1,#0x0
   \   00020B   12....       LCALL   `??UART_ParseRxPackage::?relay`; Banked call to: UART_ParseRxPackage
   \   00020E   E9           MOV     A,R1
   \   00020F   6003         JZ      ??zclSampleHeatingCoolingUnit_event_loop_28
    457          		{
    458          			ZCMD_ReplyCMD();
   \   000211                ; Setup parameters for call to function ZCMD_ReplyCMD
   \   000211   12....       LCALL   `??ZCMD_ReplyCMD::?relay`; Banked call to: ZCMD_ReplyCMD
    459          		}
    460          
    461          		// Restart timer
    462              if ( UART_PARSE_RX_PACKAGE_EVT_PERIOD )
    463              {
    464                osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_UART_REPLY_CMD_EVT, UART_PARSE_RX_PACKAGE_EVT_PERIOD );
   \                     ??zclSampleHeatingCoolingUnit_event_loop_28:
   \   000214                ; Setup parameters for call to function osal_start_timerEx
   \   000214   90....       MOV     DPTR,#__Constant_a
   \   000217   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00021A   7A40         MOV     R2,#0x40
   \   00021C   7B00         MOV     R3,#0x0
   \   00021E   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000221   E0           MOVX    A,@DPTR
   \   000222   F9           MOV     R1,A
   \   000223   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000226   7404         MOV     A,#0x4
   \   000228   12....       LCALL   ?DEALLOC_XSTACK8
    465              }
    466          		
    467              return (events ^ SAMPLEHEATINGCOOLINGUNIT_UART_REPLY_CMD_EVT);
   \   00022B   EE           MOV     A,R6
   \   00022C   6440         XRL     A,#0x40
   \   00022E   8043         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_3
    468            }
    469          
    470          	/*--------------------------------------------------------------------------*/
    471          	if ( events & SAMPLEHEATINGCOOLINGUNIT_CHECK_SYSTEM_EVT )
   \                     ??zclSampleHeatingCoolingUnit_event_loop_27:
   \   000230   EE           MOV     A,R6
   \   000231   5480         ANL     A,#0x80
   \   000233   6043         JZ      ??zclSampleHeatingCoolingUnit_event_loop_29
    472            {
    473            	// My apps
    474          		if ( (FLAG_JOIN_CONFIRM == FALSE) || (FLAG_JOIN_CONFIRM == TRUE && FLAG_BINDING == TRUE && FLAG_HARD_BINDING == FALSE) )
   \   000235   90....       MOV     DPTR,#FLAG_JOIN_CONFIRM
   \   000238   E0           MOVX    A,@DPTR
   \   000239   6012         JZ      ??zclSampleHeatingCoolingUnit_event_loop_30
   \   00023B   6401         XRL     A,#0x1
   \   00023D   701A         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_31
   \   00023F   90....       MOV     DPTR,#FLAG_BINDING
   \   000242   E0           MOVX    A,@DPTR
   \   000243   6401         XRL     A,#0x1
   \   000245   7012         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_31
   \   000247   90....       MOV     DPTR,#FLAG_HARD_BINDING
   \   00024A   E0           MOVX    A,@DPTR
   \   00024B   700C         JNZ     ??zclSampleHeatingCoolingUnit_event_loop_31
    475          		{
    476          			osal_set_event( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT );
   \                     ??zclSampleHeatingCoolingUnit_event_loop_30:
   \   00024D                ; Setup parameters for call to function osal_set_event
   \   00024D   7A20         MOV     R2,#0x20
   \   00024F   7B00         MOV     R3,#0x0
   \   000251   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000254   E0           MOVX    A,@DPTR
   \   000255   F9           MOV     R1,A
   \   000256   12....       LCALL   `??osal_set_event::?relay`; Banked call to: osal_set_event
    477          		}
    478          
    479              // Restart timer
    480              if ( CHECK_SYSTEM_EVT_PERIOD )
    481              {
    482                osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_CHECK_SYSTEM_EVT, CHECK_SYSTEM_EVT_PERIOD );
   \                     ??zclSampleHeatingCoolingUnit_event_loop_31:
   \   000259                ; Setup parameters for call to function osal_start_timerEx
   \   000259   90....       MOV     DPTR,#__Constant_2710
   \   00025C   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00025F   7A80         MOV     R2,#-0x80
   \   000261   7B00         MOV     R3,#0x0
   \   000263   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000266   E0           MOVX    A,@DPTR
   \   000267   F9           MOV     R1,A
   \   000268   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   00026B   7404         MOV     A,#0x4
   \   00026D   12....       LCALL   ?DEALLOC_XSTACK8
    483              }
    484          			 
    485              return (events ^ SAMPLEHEATINGCOOLINGUNIT_CHECK_SYSTEM_EVT);
   \   000270   EE           MOV     A,R6
   \   000271   6480         XRL     A,#0x80
   \                     ??zclSampleHeatingCoolingUnit_event_loop_3:
   \   000273   FA           MOV     R2,A
   \   000274   EF           MOV     A,R7
   \                     ??zclSampleHeatingCoolingUnit_event_loop_19:
   \   000275   FB           MOV     R3,A
   \   000276   8004         SJMP    ??zclSampleHeatingCoolingUnit_event_loop_32
    486            }
    487          	/*--------------------------------------------------------------------------*/
    488          
    489            // Discard unknown events
    490            return 0;
   \                     ??zclSampleHeatingCoolingUnit_event_loop_29:
   \   000278   7A00         MOV     R2,#0x0
   \   00027A   7B00         MOV     R3,#0x0
   \                     ??zclSampleHeatingCoolingUnit_event_loop_32:
   \   00027C   7402         MOV     A,#0x2
   \   00027E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000281   7F06         MOV     R7,#0x6
   \   000283   02....       LJMP    ?BANKED_LEAVE_XDATA
    491          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_IdentifyTime
   \   000003                REQUIRE ??Subroutine10_0
   \   000003                ; // Fall through to label ??Subroutine10_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine10_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET
    492          
    493          /*********************************************************************
    494           * @fn      zclSampleHeatingCoolingUnit_HandleKeys
    495           *
    496           * @brief   Handles all key events for this device.
    497           *
    498           * @param   shift - true if in shift/alt.
    499           * @param   keys - bit field for key events. Valid entries:
    500           *                 HAL_KEY_SW_5
    501           *                 HAL_KEY_SW_4
    502           *                 HAL_KEY_SW_2
    503           *
    504           * @return  none
    505           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine11_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function zcl_EZModeAction
   \   000001                ; Setup parameters for call to function zcl_EZModeAction
   \   000001                ; Setup parameters for call to function zcl_InvokeEZMode
   \   000001                ; Setup parameters for call to function zcl_InvokeEZMode
   \   000001   AA..         MOV     R2,?XSP + 0
   \   000003   AB..         MOV     R3,?XSP + 1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    506          static void zclSampleHeatingCoolingUnit_HandleKeys( byte shift, byte keys )
   \                     zclSampleHeatingCoolingUnit_HandleKeys:
    507          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 13
   \   000005   74F3         MOV     A,#-0xd
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   89..         MOV     ?V3,R1
   \   00000C   8A..         MOV     ?V2,R2
    508          	if ( keys & HAL_KEY_SW_6 ) //~ SW1 on board
   \   00000E   EA           MOV     A,R2
   \   00000F   A2E5         MOV     C,0xE0 /* A   */.5
   \   000011   4003         JC      $+5
   \   000013   02....       LJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_0 & 0xFFFF
    509          	{
    510          		UART_DebugPrint(HAL_UART_PORT_0, "SW6");
   \   000016                ; Setup parameters for call to function UART_DebugPrint
   \   000016   7A..         MOV     R2,#`?<Constant "SW6">` & 0xff
   \   000018   7B..         MOV     R3,#(`?<Constant "SW6">` >> 8) & 0xff
   \   00001A   7900         MOV     R1,#0x0
   \   00001C   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    511          
    512          		uint16 maxEntries;
    513          		uint16 usedEntries;
    514          		BindingEntry_t* current_BindingTableEntry;
    515          
    516          		bindCapacity(&maxEntries, &usedEntries);
   \   00001F                ; Setup parameters for call to function bindCapacity
   \   00001F   7409         MOV     A,#0x9
   \   000021   12....       LCALL   ?XSTACK_DISP102_8
   \   000024   740B         MOV     A,#0xb
   \   000026   12....       LCALL   ?XSTACK_DISP101_8
   \   000029   12....       LCALL   `??bindCapacity::?relay`; Banked call to: bindCapacity
    517          		UART_ZCmdPrintString(HAL_UART_PORT_0, "usedEntries: ");
   \   00002C                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00002C   7A..         MOV     R2,#`?<Constant "usedEntries: ">` & 0xff
   \   00002E   7B..         MOV     R3,#(`?<Constant "usedEntries: ">` >> 8) & 0xff
   \   000030   7900         MOV     R1,#0x0
   \   000032   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    518          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, usedEntries);
   \   000035                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000035   7409         MOV     A,#0x9
   \   000037   12....       LCALL   ?XSTACK_DISP0_8
   \   00003A   E0           MOVX    A,@DPTR
   \   00003B   F5..         MOV     ?V0,A
   \   00003D   A3           INC     DPTR
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   AA..         MOV     R2,?V0
   \   000041   FB           MOV     R3,A
   \   000042   E4           CLR     A
   \   000043   FC           MOV     R4,A
   \   000044   FD           MOV     R5,A
   \   000045   F9           MOV     R1,A
   \   000046   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    519          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   000049   75....       MOV     ?V0,#`?<Constant "">` & 0xff
   \   00004C   75....       MOV     ?V1,#(`?<Constant "">` >> 8) & 0xff
   \   00004F                ; Setup parameters for call to function UART_ZCmdPrint
   \   00004F   AA..         MOV     R2,?V0
   \   000051   AB..         MOV     R3,?V1
   \   000053   7900         MOV     R1,#0x0
   \   000055   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    520          
    521          		current_BindingTableEntry = GetBindingTableEntry( 0 );
   \   000058                ; Setup parameters for call to function GetBindingTableEntry
   \   000058   7A00         MOV     R2,#0x0
   \   00005A   7B00         MOV     R3,#0x0
   \   00005C   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   00005F   8A..         MOV     ?V4,R2
   \   000061   8B..         MOV     ?V5,R3
   \   000063   AE..         MOV     R6,?V4
   \   000065   AF..         MOV     R7,?V5
    522          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 0: ");
   \   000067                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000067   7A..         MOV     R2,#`?<Constant "Entry 0: ">` & 0xff
   \   000069   7B..         MOV     R3,#(`?<Constant "Entry 0: ">` >> 8) & 0xff
   \   00006B   7900         MOV     R1,#0x0
   \   00006D   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    523          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[0].srcEP);
   \   000070                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000070   8E82         MOV     DPL,R6
   \   000072   8F83         MOV     DPH,R7
   \   000074   12....       LCALL   ??Subroutine14_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000077   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    524          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   00007A   75....       MOV     ?V4,#`?<Constant " | ">` & 0xff
   \   00007D   75....       MOV     ?V5,#(`?<Constant " | ">` >> 8) & 0xff
   \   000080                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000080   AA..         MOV     R2,?V4
   \   000082   AB..         MOV     R3,?V5
   \   000084   7900         MOV     R1,#0x0
   \   000086   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    525          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[0].dstEP);
   \   000089                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000089   8E82         MOV     DPL,R6
   \   00008B   8F83         MOV     DPH,R7
   \   00008D   A3           INC     DPTR
   \   00008E   A3           INC     DPTR
   \   00008F   A3           INC     DPTR
   \   000090   A3           INC     DPTR
   \   000091   12....       LCALL   ??Subroutine14_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   000094   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    526          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   000097                ; Setup parameters for call to function UART_ZCmdPrint
   \   000097   AA..         MOV     R2,?V0
   \   000099   AB..         MOV     R3,?V1
   \   00009B   7900         MOV     R1,#0x0
   \   00009D   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    527          
    528          		current_BindingTableEntry = GetBindingTableEntry( 1 );
   \   0000A0                ; Setup parameters for call to function GetBindingTableEntry
   \   0000A0   7A01         MOV     R2,#0x1
   \   0000A2   7B00         MOV     R3,#0x0
   \   0000A4   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   0000A7   8A..         MOV     ?V6,R2
   \   0000A9   8B..         MOV     ?V7,R3
   \   0000AB   AE..         MOV     R6,?V6
   \   0000AD   AF..         MOV     R7,?V7
    529          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 1: ");
   \   0000AF                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000AF   7A..         MOV     R2,#`?<Constant "Entry 1: ">` & 0xff
   \   0000B1   7B..         MOV     R3,#(`?<Constant "Entry 1: ">` >> 8) & 0xff
   \   0000B3   7900         MOV     R1,#0x0
   \   0000B5   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    530          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[1].srcEP);
   \   0000B8                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000B8   EE           MOV     A,R6
   \   0000B9   240E         ADD     A,#0xe
   \   0000BB   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   0000BE   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    531          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   0000C1                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000C1   AA..         MOV     R2,?V4
   \   0000C3   AB..         MOV     R3,?V5
   \   0000C5   7900         MOV     R1,#0x0
   \   0000C7   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    532          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[1].dstEP);
   \   0000CA                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000CA   EE           MOV     A,R6
   \   0000CB   2412         ADD     A,#0x12
   \   0000CD   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   0000D0   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    533          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   0000D3                ; Setup parameters for call to function UART_ZCmdPrint
   \   0000D3   AA..         MOV     R2,?V0
   \   0000D5   AB..         MOV     R3,?V1
   \   0000D7   7900         MOV     R1,#0x0
   \   0000D9   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    534          
    535          		current_BindingTableEntry = GetBindingTableEntry( 2 );
   \   0000DC                ; Setup parameters for call to function GetBindingTableEntry
   \   0000DC   7A02         MOV     R2,#0x2
   \   0000DE   7B00         MOV     R3,#0x0
   \   0000E0   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   0000E3   8A..         MOV     ?V6,R2
   \   0000E5   8B..         MOV     ?V7,R3
   \   0000E7   AE..         MOV     R6,?V6
   \   0000E9   AF..         MOV     R7,?V7
    536          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 2: ");
   \   0000EB                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000EB   7A..         MOV     R2,#`?<Constant "Entry 2: ">` & 0xff
   \   0000ED   7B..         MOV     R3,#(`?<Constant "Entry 2: ">` >> 8) & 0xff
   \   0000EF   7900         MOV     R1,#0x0
   \   0000F1   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    537          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[2].srcEP);
   \   0000F4                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0000F4   EE           MOV     A,R6
   \   0000F5   241C         ADD     A,#0x1c
   \   0000F7   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   0000FA   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    538          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   0000FD                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0000FD   AA..         MOV     R2,?V4
   \   0000FF   AB..         MOV     R3,?V5
   \   000101   7900         MOV     R1,#0x0
   \   000103   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    539          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[2].dstEP);
   \   000106                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000106   EE           MOV     A,R6
   \   000107   2420         ADD     A,#0x20
   \   000109   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   00010C   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    540          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   00010F                ; Setup parameters for call to function UART_ZCmdPrint
   \   00010F   AA..         MOV     R2,?V0
   \   000111   AB..         MOV     R3,?V1
   \   000113   7900         MOV     R1,#0x0
   \   000115   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    541          
    542          		current_BindingTableEntry = GetBindingTableEntry( 3 );
   \   000118                ; Setup parameters for call to function GetBindingTableEntry
   \   000118   7A03         MOV     R2,#0x3
   \   00011A   7B00         MOV     R3,#0x0
   \   00011C   12....       LCALL   `??GetBindingTableEntry::?relay`; Banked call to: GetBindingTableEntry
   \   00011F   8A..         MOV     ?V6,R2
   \   000121   8B..         MOV     ?V7,R3
   \   000123   AE..         MOV     R6,?V6
   \   000125   AF..         MOV     R7,?V7
    543          		UART_ZCmdPrintString(HAL_UART_PORT_0, "Entry 3: ");
   \   000127                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000127   7A..         MOV     R2,#`?<Constant "Entry 3: ">` & 0xff
   \   000129   7B..         MOV     R3,#(`?<Constant "Entry 3: ">` >> 8) & 0xff
   \   00012B   7900         MOV     R1,#0x0
   \   00012D   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    544          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[3].srcEP);
   \   000130                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000130   EE           MOV     A,R6
   \   000131   242A         ADD     A,#0x2a
   \   000133   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000136   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    545          		UART_ZCmdPrintString(HAL_UART_PORT_0, " | ");
   \   000139                ; Setup parameters for call to function UART_ZCmdPrintString
   \   000139   AA..         MOV     R2,?V4
   \   00013B   AB..         MOV     R3,?V5
   \   00013D   7900         MOV     R1,#0x0
   \   00013F   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    546          		UART_ZCmdPrintNum		(HAL_UART_PORT_0, current_BindingTableEntry[3].dstEP);
   \   000142                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000142   EE           MOV     A,R6
   \   000143   242E         ADD     A,#0x2e
   \   000145   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000148   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    547          		UART_ZCmdPrint			(HAL_UART_PORT_0, "");
   \   00014B                ; Setup parameters for call to function UART_ZCmdPrint
   \   00014B   AA..         MOV     R2,?V0
   \   00014D   AB..         MOV     R3,?V1
   \   00014F   7900         MOV     R1,#0x0
   \   000151   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    548          	}
    549          
    550            if ( keys & HAL_KEY_SW_8 ) //~ SW3 on board
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_0:
   \   000154   E5..         MOV     A,?V2
   \   000156   A2E7         MOV     C,0xE0 /* A   */.7
   \   000158   4003         JC      $+5
   \   00015A   02....       LJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_1 & 0xFFFF
    551            {
    552            	UART_DebugPrint(HAL_UART_PORT_0, "SW8");
   \   00015D                ; Setup parameters for call to function UART_DebugPrint
   \   00015D   7A..         MOV     R2,#`?<Constant "SW8">` & 0xff
   \   00015F   7B..         MOV     R3,#(`?<Constant "SW8">` >> 8) & 0xff
   \   000161   7900         MOV     R1,#0x0
   \   000163   12....       LCALL   `??UART_DebugPrint::?relay`; Banked call to: UART_DebugPrint
    553              if ( ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_MAINMODE ) ||
    554                   ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_HELPMODE ) )
   \   000166   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   000169   E0           MOVX    A,@DPTR
   \   00016A   6004         JZ      ??zclSampleHeatingCoolingUnit_HandleKeys_2
   \   00016C   6401         XRL     A,#0x1
   \   00016E   706D         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_1
    555              {
    556                giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_2:
   \   000170   E4           CLR     A
   \   000171   F0           MOVX    @DPTR,A
    557          
    558          			FLAG_BINDING = !FLAG_BINDING;
   \   000172   90....       MOV     DPTR,#FLAG_BINDING
   \   000175   E0           MOVX    A,@DPTR
   \   000176   7004         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_3
   \   000178   7401         MOV     A,#0x1
   \   00017A   8001         SJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_4
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_3:
   \   00017C   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_4:
   \   00017D   F0           MOVX    @DPTR,A
    559          			FLAG_HARD_BINDING = !FLAG_HARD_BINDING;
   \   00017E   90....       MOV     DPTR,#FLAG_HARD_BINDING
   \   000181   E0           MOVX    A,@DPTR
   \   000182   7004         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_5
   \   000184   7401         MOV     A,#0x1
   \   000186   8001         SJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_6
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_5:
   \   000188   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_6:
   \   000189   12....       LCALL   ?Subroutine2 & 0xFFFF
    560          
    561          		#ifdef ZCL_EZMODE
    562                // Invoke EZ-Mode
    563                zclEZMode_InvokeData_t ezModeData;
    564          
    565                // Invoke EZ-Mode
    566                ezModeData.endpoint = SAMPLEHEATINGCOOLINGUNIT_ENDPOINT; // endpoint on which to invoke EZ-Mode
    567                if ( ( zclSampleHeatingCoolingUnit_NwkState == DEV_ZB_COORD ) ||
    568                     ( zclSampleHeatingCoolingUnit_NwkState == DEV_ROUTER )   ||
    569                     ( zclSampleHeatingCoolingUnit_NwkState == DEV_END_DEVICE ) )
   \                     ??CrossCallReturnLabel_0:
   \   00018C   600A         JZ      ??zclSampleHeatingCoolingUnit_HandleKeys_7
   \   00018E   E0           MOVX    A,@DPTR
   \   00018F   6407         XRL     A,#0x7
   \   000191   6005         JZ      ??zclSampleHeatingCoolingUnit_HandleKeys_7
   \   000193   E0           MOVX    A,@DPTR
   \   000194   6406         XRL     A,#0x6
   \   000196   7009         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_8
    570                {
    571                  ezModeData.onNetwork = TRUE;      // node is already on the network
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_7:
   \   000198   7401         MOV     A,#0x1
   \   00019A   12....       LCALL   ?XSTACK_DISP0_8
   \   00019D   7401         MOV     A,#0x1
   \   00019F   8006         SJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_9
    572                }
    573                else
    574                {
    575                  ezModeData.onNetwork = FALSE;     // node is not yet on the network
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_8:
   \   0001A1   7401         MOV     A,#0x1
   \   0001A3   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A6   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_9:
   \   0001A7   F0           MOVX    @DPTR,A
    576                }
    577          			ezModeData.initiator = FALSE; 			 // Heating/Cooling Unit is a target
   \   0001A8   7402         MOV     A,#0x2
   \   0001AA   12....       LCALL   ?XSTACK_DISP0_8
   \   0001AD   E4           CLR     A
   \   0001AE   F0           MOVX    @DPTR,A
    578          			ezModeData.numActiveInClusters = 0;
   \   0001AF   7403         MOV     A,#0x3
   \   0001B1   12....       LCALL   ?XSTACK_DISP0_8
   \   0001B4   E4           CLR     A
   \   0001B5   F0           MOVX    @DPTR,A
    579          			ezModeData.pActiveInClusterIDs = NULL;
   \   0001B6   7404         MOV     A,#0x4
   \   0001B8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001BB   E4           CLR     A
   \   0001BC   F0           MOVX    @DPTR,A
   \   0001BD   A3           INC     DPTR
   \   0001BE   F0           MOVX    @DPTR,A
    580          			ezModeData.numActiveOutClusters = 0;	 // active output cluster
   \   0001BF   7406         MOV     A,#0x6
   \   0001C1   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C4   E4           CLR     A
   \   0001C5   F0           MOVX    @DPTR,A
    581          			ezModeData.pActiveOutClusterIDs = NULL;
   \   0001C6   7407         MOV     A,#0x7
   \   0001C8   12....       LCALL   ?XSTACK_DISP0_8
   \   0001CB   E4           CLR     A
   \   0001CC   F0           MOVX    @DPTR,A
   \   0001CD   A3           INC     DPTR
   \   0001CE   12....       LCALL   ??Subroutine11_0 & 0xFFFF
    582          			zcl_InvokeEZMode( &ezModeData );
   \                     ??CrossCallReturnLabel_12:
   \   0001D1   12....       LCALL   `??zcl_InvokeEZMode::?relay`; Banked call to: zcl_InvokeEZMode
    583          
    584          			#ifdef LCD_SUPPORTED
    585                HalLcdWriteString( "EZMode", HAL_LCD_LINE_2 );
   \   0001D4                ; Setup parameters for call to function HalLcdWriteString
   \   0001D4   7902         MOV     R1,#0x2
   \   0001D6   7A..         MOV     R2,#`?<Constant "EZMode">` & 0xff
   \   0001D8   7B..         MOV     R3,#(`?<Constant "EZMode">` >> 8) & 0xff
   \   0001DA   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    586          			#endif
    587          
    588                // NOT ZCL_EZMODE, use EndDeviceBind
    589          		#else
    590                {
    591                  zAddrType_t dstAddr;
    592                  HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
    593          
    594                  // Initiate an End Device Bind Request, this bind request will
    595                  // only use a cluster list that is important to binding.
    596                  dstAddr.addrMode = afAddr16Bit;
    597                  dstAddr.addr.shortAddr = 0;   // Coordinator makes the match
    598                  ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
    599                                       SAMPLEHEATINGCOOLINGUNIT_ENDPOINT,
    600                                       ZCL_HA_PROFILE_ID,
    601                                       ZCLSAMPLEHEATINGCOOLINGUNIT_BINDINGLIST, bindingInClusters,
    602                                       0, NULL,   // No Outgoing clusters to bind
    603                                       TRUE );
    604                }
    605          		#endif // ZCL_EZMODE
    606              }
    607            }
    608          
    609            if ( keys & HAL_KEY_SW_4 )
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_1:
   \   0001DD   E5..         MOV     A,?V2
   \   0001DF   A2E3         MOV     C,0xE0 /* A   */.3
   \   0001E1   5041         JNC     ??zclSampleHeatingCoolingUnit_HandleKeys_10
    610            {
    611              giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;
   \   0001E3   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   0001E6   E4           CLR     A
   \   0001E7   F0           MOVX    @DPTR,A
    612          
    613              if ( ( zclSampleHeatingCoolingUnit_NwkState == DEV_ZB_COORD ) ||
    614                  ( zclSampleHeatingCoolingUnit_NwkState == DEV_ROUTER ) )
   \   0001E8   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_NwkState
   \   0001EB   E0           MOVX    A,@DPTR
   \   0001EC   6409         XRL     A,#0x9
   \   0001EE   6005         JZ      ??zclSampleHeatingCoolingUnit_HandleKeys_11
   \   0001F0   E0           MOVX    A,@DPTR
   \   0001F1   6407         XRL     A,#0x7
   \   0001F3   702F         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_10
    615              {
    616                zAddrType_t tmpAddr;
    617          
    618                tmpAddr.addrMode = Addr16Bit;
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_11:
   \   0001F5   7408         MOV     A,#0x8
   \   0001F7   12....       LCALL   ?XSTACK_DISP0_8
   \   0001FA   7402         MOV     A,#0x2
   \   0001FC   F0           MOVX    @DPTR,A
    619                tmpAddr.addr.shortAddr = NLME_GetShortAddr();
   \   0001FD                ; Setup parameters for call to function NLME_GetShortAddr
   \   0001FD   12....       LCALL   `??NLME_GetShortAddr::?relay`; Banked call to: NLME_GetShortAddr
   \   000200   85..82       MOV     DPL,?XSP + 0
   \   000203   85..83       MOV     DPH,?XSP + 1
   \   000206   EA           MOV     A,R2
   \   000207   F0           MOVX    @DPTR,A
   \   000208   A3           INC     DPTR
   \   000209   EB           MOV     A,R3
   \   00020A   F0           MOVX    @DPTR,A
    620          
    621                // toggle permit join
    622                gPermitDuration = gPermitDuration ? 0 : 0xff;
   \   00020B   90....       MOV     DPTR,#gPermitDuration
   \   00020E   E0           MOVX    A,@DPTR
   \   00020F   6003         JZ      ??zclSampleHeatingCoolingUnit_HandleKeys_12
   \   000211   E4           CLR     A
   \   000212   8002         SJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_13
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_12:
   \   000214   74FF         MOV     A,#-0x1
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_13:
   \   000216   F0           MOVX    @DPTR,A
    623          
    624                // Trust Center significance is always true
    625                ZDP_MgmtPermitJoinReq( &tmpAddr, gPermitDuration, TRUE, FALSE );
   \   000217                ; Setup parameters for call to function ZDP_MgmtPermitJoinReq
   \   000217   7D00         MOV     R5,#0x0
   \   000219   7C01         MOV     R4,#0x1
   \   00021B   E0           MOVX    A,@DPTR
   \   00021C   F9           MOV     R1,A
   \   00021D   AA..         MOV     R2,?XSP + 0
   \   00021F   AB..         MOV     R3,?XSP + 1
   \   000221   12....       LCALL   `??ZDP_MgmtPermitJoinReq::?relay`; Banked call to: ZDP_MgmtPermitJoinReq
    626              }
    627            }
    628          
    629            if ( shift && ( keys & HAL_KEY_SW_5 ) )
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_10:
   \   000224   E5..         MOV     A,?V3
   \   000226   600B         JZ      ??zclSampleHeatingCoolingUnit_HandleKeys_14
   \   000228   E5..         MOV     A,?V2
   \   00022A   A2E2         MOV     C,0xE0 /* A   */.2
   \   00022C   5005         JNC     ??zclSampleHeatingCoolingUnit_HandleKeys_14
    630            {
    631              zclSampleHeatingCoolingUnit_BasicResetCB();
   \   00022E                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_BasicResetCB
   \   00022E   12....       LCALL   `??zclSampleHeatingCoolingUnit_BasicResetCB::?re`; Banked call to: zclSampleHeatingCoolingUnit_BasicResetCB
   \   000231   8022         SJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_15
    632            }
    633            else if ( keys & HAL_KEY_SW_5 )
    634            {
    635              if ( keys & HAL_KEY_SW_5 )
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_14:
   \   000233   E5..         MOV     A,?V2
   \   000235   A2E2         MOV     C,0xE0 /* A   */.2
   \   000237   501C         JNC     ??zclSampleHeatingCoolingUnit_HandleKeys_15
    636              {
    637                if ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_MAINMODE )
   \   000239   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   00023C   E0           MOVX    A,@DPTR
   \   00023D   7004         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_16
    638                {
    639                  giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_HELPMODE;
   \   00023F   7401         MOV     A,#0x1
   \   000241   8011         SJMP    ??zclSampleHeatingCoolingUnit_HandleKeys_17
    640                }
    641                else if ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_HELPMODE )
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_16:
   \   000243   6401         XRL     A,#0x1
   \   000245   700E         JNZ     ??zclSampleHeatingCoolingUnit_HandleKeys_15
    642                {
    643          #ifdef LCD_SUPPORTED
    644                  HalLcdWriteString( (char *)sClearLine, HAL_LCD_LINE_2 );
   \   000247                ; Setup parameters for call to function HalLcdWriteString
   \   000247   7902         MOV     R1,#0x2
   \   000249   7A..         MOV     R2,#sClearLine & 0xff
   \   00024B   7B..         MOV     R3,#(sClearLine >> 8) & 0xff
   \   00024D   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    645          #endif
    646                  giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;
   \   000250   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   000253   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_17:
   \   000254   F0           MOVX    @DPTR,A
    647                }
    648              }
    649            }
    650          
    651            // update display
    652            zclSampleHeatingCoolingUnit_LcdDisplayUpdate();
   \                     ??zclSampleHeatingCoolingUnit_HandleKeys_15:
   \   000255                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayUpdate
   \   000255   12....       LCALL   `??zclSampleHeatingCoolingUnit_LcdDisplayUpdate:`; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayUpdate
    653          }
   \   000258   740D         MOV     A,#0xd
   \   00025A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00025D   7F08         MOV     R7,#0x8
   \   00025F   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   F582         MOV     DPL,A
   \   000002   E4           CLR     A
   \   000003   3F           ADDC    A,R7
   \   000004   F583         MOV     DPH,A
   \   000006                REQUIRE ??Subroutine14_0
   \   000006                ; // Fall through to label ??Subroutine14_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine14_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   E4           CLR     A
   \   000003   FB           MOV     R3,A
   \   000004   FC           MOV     R4,A
   \   000005   FD           MOV     R5,A
   \   000006   F9           MOV     R1,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   7401         MOV     A,#0x1
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_NwkState
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   6409         XRL     A,#0x9
   \   000010   22           RET
    654          
    655          /*********************************************************************
    656           * @fn      zclSampleHeatingCoolingUnit_LcdDisplayUpdate
    657           *
    658           * @brief   Called to update the LCD display.
    659           *
    660           * @param   none
    661           *
    662           * @return  none
    663           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    664          void zclSampleHeatingCoolingUnit_LcdDisplayUpdate( void )
   \                     zclSampleHeatingCoolingUnit_LcdDisplayUpdate:
    665          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    666            if ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_HELPMODE )
   \   000004   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   000007   E0           MOVX    A,@DPTR
   \   000008   6401         XRL     A,#0x1
   \   00000A   7005         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayUpdate_0
    667            {
    668              zclSampleHeatingCoolingUnit_LcdDisplayHelpMode();
   \   00000C                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayHelpMode
   \   00000C   12....       LCALL   ??zclSampleHeatingCoolingUnit_LcdDisplayHelpMod; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayHelpMode
   \   00000F   8003         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayUpdate_1
    669            }
    670            else
    671            {
    672              zclSampleHeatingCoolingUnit_LcdDisplayMainMode();
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayUpdate_0:
   \   000011                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayMainMode
   \   000011   12....       LCALL   ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayMainMode
    673            }
    674          }
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayUpdate_1:
   \   000014   02....       LJMP    ??Subroutine12_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine12_0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    675          
    676          /*********************************************************************
    677           * @fn      zclSampleHeatingCoolingUnit_LcdDisplayMainMode
    678           *
    679           * @brief   Called to display the main screen on the LCD.
    680           *
    681           * @param   none
    682           *
    683           * @return  none
    684           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    685          void zclSampleHeatingCoolingUnit_LcdDisplayMainMode( void )
   \                     zclSampleHeatingCoolingUnit_LcdDisplayMainMode:
    686          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    687            if ( zclSampleHeatingCoolingUnit_NwkState == DEV_ZB_COORD )
   \   000004   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_NwkState
   \   000007   E0           MOVX    A,@DPTR
   \   000008   6409         XRL     A,#0x9
   \   00000A   7004         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_1
    688            {
    689              zclHA_LcdStatusLine1( 0 );
   \   00000C                ; Setup parameters for call to function zclHA_LcdStatusLine1
   \   00000C   7900         MOV     R1,#0x0
   \   00000E   8010         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_2
    690            }
    691            else if ( zclSampleHeatingCoolingUnit_NwkState == DEV_ROUTER )
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_1:
   \   000010   E0           MOVX    A,@DPTR
   \   000011   6407         XRL     A,#0x7
   \   000013   7004         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_3
    692            {
    693              zclHA_LcdStatusLine1( 1 );
   \   000015                ; Setup parameters for call to function zclHA_LcdStatusLine1
   \   000015   7901         MOV     R1,#0x1
   \   000017   8007         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_2
    694            }
    695            else if ( zclSampleHeatingCoolingUnit_NwkState == DEV_END_DEVICE )
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_3:
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   6406         XRL     A,#0x6
   \   00001C   7005         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_4
    696            {
    697              zclHA_LcdStatusLine1( 2 );
   \   00001E                ; Setup parameters for call to function zclHA_LcdStatusLine1
   \   00001E   7902         MOV     R1,#0x2
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_2:
   \   000020   12....       LCALL   `??zclHA_LcdStatusLine1::?relay`; Banked call to: zclHA_LcdStatusLine1
    698            }
    699          
    700            // display current state of heating/cooling unit
    701            if ( ( zclSampleHeatingCoolingUnit_RunningState == HVAC_THERMOSTAT_RUNNING_STATE_HEAT_1ST_STAGE_ON ) ||
    702                 ( zclSampleHeatingCoolingUnit_RunningState == HVAC_THERMOSTAT_RUNNING_STATE_HEAT_2ND_STAGE_ON ) ||
    703                 ( zclSampleHeatingCoolingUnit_RunningState == HVAC_THERMOSTAT_RUNNING_STATE_HEAT_3RD_STAGE_ON ) )
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_4:
   \   000023   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   000026   E0           MOVX    A,@DPTR
   \   000027   6401         XRL     A,#0x1
   \   000029   7002         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_5
   \   00002B   A3           INC     DPTR
   \   00002C   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_5:
   \   00002D   6018         JZ      ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_6
   \   00002F   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   000032   E0           MOVX    A,@DPTR
   \   000033   6408         XRL     A,#0x8
   \   000035   7002         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_7
   \   000037   A3           INC     DPTR
   \   000038   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_7:
   \   000039   600C         JZ      ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_6
   \   00003B   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   6440         XRL     A,#0x40
   \   000041   7002         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_8
   \   000043   A3           INC     DPTR
   \   000044   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_8:
   \   000045   7008         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_9
    704            {
    705          #ifdef LCD_SUPPORTED
    706              HalLcdWriteString( (char *)sHeatMode, HAL_LCD_LINE_2 );
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_6:
   \   000047                ; Setup parameters for call to function HalLcdWriteString
   \   000047   7902         MOV     R1,#0x2
   \   000049   7A..         MOV     R2,#sHeatMode & 0xff
   \   00004B   7B..         MOV     R3,#(sHeatMode >> 8) & 0xff
   \   00004D   8032         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_10
    707          #endif
    708            }
    709            else if ( ( zclSampleHeatingCoolingUnit_RunningState == HVAC_THERMOSTAT_RUNNING_STATE_COOL_1ST_STAGE_ON ) ||
    710                      ( zclSampleHeatingCoolingUnit_RunningState == HVAC_THERMOSTAT_RUNNING_STATE_COOL_2ND_STAGE_ON ) ||
    711                      ( zclSampleHeatingCoolingUnit_RunningState == HVAC_THERMOSTAT_RUNNING_STATE_COOL_3RD_STAGE_ON ) )
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_9:
   \   00004F   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   000052   E0           MOVX    A,@DPTR
   \   000053   6402         XRL     A,#0x2
   \   000055   7002         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_11
   \   000057   A3           INC     DPTR
   \   000058   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_11:
   \   000059   6018         JZ      ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_12
   \   00005B   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   00005E   E0           MOVX    A,@DPTR
   \   00005F   6410         XRL     A,#0x10
   \   000061   7002         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_13
   \   000063   A3           INC     DPTR
   \   000064   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_13:
   \   000065   600C         JZ      ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_12
   \   000067   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   00006A   E0           MOVX    A,@DPTR
   \   00006B   6480         XRL     A,#0x80
   \   00006D   7002         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_14
   \   00006F   A3           INC     DPTR
   \   000070   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_14:
   \   000071   7008         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_15
    712            {
    713          #ifdef LCD_SUPPORTED
    714              HalLcdWriteString( (char *)sCoolMode, HAL_LCD_LINE_2 );
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_12:
   \   000073                ; Setup parameters for call to function HalLcdWriteString
   \   000073   7902         MOV     R1,#0x2
   \   000075   7A..         MOV     R2,#sCoolMode & 0xff
   \   000077   7B..         MOV     R3,#(sCoolMode >> 8) & 0xff
   \   000079   8006         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_10
    715          #endif
    716            }
    717            else
    718            {
    719          #ifdef LCD_SUPPORTED
    720              HalLcdWriteString( (char *)sOffMode, HAL_LCD_LINE_2 );
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_15:
   \   00007B                ; Setup parameters for call to function HalLcdWriteString
   \   00007B   7902         MOV     R1,#0x2
   \   00007D   7A..         MOV     R2,#sOffMode & 0xff
   \   00007F   7B..         MOV     R3,#(sOffMode >> 8) & 0xff
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_10:
   \   000081   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    721          #endif
    722            }
    723          
    724          #ifdef LCD_SUPPORTED
    725            if ( ( zclSampleHeatingCoolingUnit_NwkState == DEV_ZB_COORD ) ||
    726                 ( zclSampleHeatingCoolingUnit_NwkState == DEV_ROUTER ) )
   \   000084   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_NwkState
   \   000087   E0           MOVX    A,@DPTR
   \   000088   6409         XRL     A,#0x9
   \   00008A   6005         JZ      ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_16
   \   00008C   E0           MOVX    A,@DPTR
   \   00008D   6407         XRL     A,#0x7
   \   00008F   7014         JNZ     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_17
    727            {
    728              // display help key with permit join status
    729              if ( gPermitDuration )
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_16:
   \   000091   90....       MOV     DPTR,#gPermitDuration
   \   000094   E0           MOVX    A,@DPTR
   \   000095   7903         MOV     R1,#0x3
   \   000097   6006         JZ      ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_18
    730              {
    731                HalLcdWriteString("SW5: Help      *", HAL_LCD_LINE_3);
   \   000099                ; Setup parameters for call to function HalLcdWriteString
   \   000099   7A..         MOV     R2,#`?<Constant "SW5: Help      *">` & 0xff
   \   00009B   7B..         MOV     R3,#(`?<Constant "SW5: Help      *">` >> 8) & 0xff
   \   00009D   800C         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_19
    732              }
    733              else
    734              {
    735                HalLcdWriteString("SW5: Help       ", HAL_LCD_LINE_3);
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_18:
   \   00009F                ; Setup parameters for call to function HalLcdWriteString
   \   00009F   7A..         MOV     R2,#`?<Constant "SW5: Help       ">` & 0xff
   \   0000A1   7B..         MOV     R3,#(`?<Constant "SW5: Help       ">` >> 8) & 0xff
   \   0000A3   8006         SJMP    ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_19
    736              }
    737            }
    738            else
    739            {
    740              // display help key
    741              HalLcdWriteString( (char *)sSwHelp, HAL_LCD_LINE_3 );
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_17:
   \   0000A5                ; Setup parameters for call to function HalLcdWriteString
   \   0000A5   7903         MOV     R1,#0x3
   \   0000A7   7A..         MOV     R2,#sSwHelp & 0xff
   \   0000A9   7B..         MOV     R3,#(sSwHelp >> 8) & 0xff
    742            }
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod_19:
   \   0000AB   02....       LJMP    ?Subroutine0 & 0xFFFF
    743          #endif
    744          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   \   000003                REQUIRE ??Subroutine12_0
   \   000003                ; // Fall through to label ??Subroutine12_0
    745          
    746          /*********************************************************************
    747           * @fn      zclSampleHeatingCoolingUnit_LcdDisplayHelpMode
    748           *
    749           * @brief   Called to display the SW options on the LCD.
    750           *
    751           * @param   none
    752           *
    753           * @return  none
    754           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    755          void zclSampleHeatingCoolingUnit_LcdDisplayHelpMode( void )
   \                     zclSampleHeatingCoolingUnit_LcdDisplayHelpMode:
    756          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    757          #ifdef LCD_SUPPORTED
    758            HalLcdWriteString( (char *)sSwEZMode, HAL_LCD_LINE_1 );
   \   000004                ; Setup parameters for call to function HalLcdWriteString
   \   000004   7901         MOV     R1,#0x1
   \   000006   7A..         MOV     R2,#sSwEZMode & 0xff
   \   000008   7B..         MOV     R3,#(sSwEZMode >> 8) & 0xff
   \   00000A   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    759            HalLcdWriteString( (char *)sClearLine, HAL_LCD_LINE_2 );
   \   00000D                ; Setup parameters for call to function HalLcdWriteString
   \   00000D   7902         MOV     R1,#0x2
   \   00000F   7A..         MOV     R2,#sClearLine & 0xff
   \   000011   7B..         MOV     R3,#(sClearLine >> 8) & 0xff
   \   000013   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
    760            HalLcdWriteString( (char *)sSwHelp, HAL_LCD_LINE_3 );
   \   000016                ; Setup parameters for call to function HalLcdWriteString
   \   000016   7903         MOV     R1,#0x3
   \   000018   7A..         MOV     R2,#sSwHelp & 0xff
   \   00001A   7B..         MOV     R3,#(sSwHelp >> 8) & 0xff
   \   00001C   80..         SJMP    ?Subroutine0
    761          #endif
    762          }
    763          
    764          /*********************************************************************
    765           * @fn      zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
    766           *
    767           * @brief   Called to process any change to the IdentifyTime attribute.
    768           *
    769           * @param   none
    770           *
    771           * @return  none
    772           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    773          static void zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange( void )
   \                     zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange:
    774          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    775            if ( zclSampleHeatingCoolingUnit_IdentifyTime > 0 )
   \   000004   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000007   E8           MOV     A,R0
   \   000008   49           ORL     A,R1
   \   000009   6026         JZ      ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_1
    776            {
    777              osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_IDENTIFY_TIMEOUT_EVT, 1000 );
   \   00000B                ; Setup parameters for call to function osal_start_timerEx
   \   00000B   90....       MOV     DPTR,#__Constant_3e8
   \   00000E   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000011   7A01         MOV     R2,#0x1
   \   000013   7B00         MOV     R3,#0x0
   \   000015   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000018   E0           MOVX    A,@DPTR
   \   000019   F9           MOV     R1,A
   \   00001A   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   00001D   7404         MOV     A,#0x4
   \   00001F   12....       LCALL   ?DEALLOC_XSTACK8
    778              HalLedBlink ( HAL_LED_4, 0xFF, HAL_LED_DEFAULT_DUTY_CYCLE, HAL_LED_DEFAULT_FLASH_TIME );
   \   000022                ; Setup parameters for call to function HalLedBlink
   \   000022   7CE8         MOV     R4,#-0x18
   \   000024   7D03         MOV     R5,#0x3
   \   000026   7B05         MOV     R3,#0x5
   \   000028   7AFF         MOV     R2,#-0x1
   \   00002A   7908         MOV     R1,#0x8
   \   00002C   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
   \   00002F   801D         SJMP    ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_2
    779            }
    780            else
    781            {
    782              if ( zclSampleHeatingCoolingUnit_OnOff )
   \                     ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_1:
   \   000031   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_OnOff
   \   000034   E0           MOVX    A,@DPTR
   \   000035   6004         JZ      ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_3
    783              {
    784                HalLedSet ( HAL_LED_4, HAL_LED_MODE_ON );
   \   000037                ; Setup parameters for call to function HalLedSet
   \   000037   7A01         MOV     R2,#0x1
   \   000039   8002         SJMP    ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_4
    785              }
    786              else
    787              {
    788                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   \                     ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_3:
   \   00003B                ; Setup parameters for call to function HalLedSet
   \   00003B   7A00         MOV     R2,#0x0
   \                     ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_4:
   \   00003D   7908         MOV     R1,#0x8
   \   00003F   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    789              }
    790              osal_stop_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_IDENTIFY_TIMEOUT_EVT );
   \   000042                ; Setup parameters for call to function osal_stop_timerEx
   \   000042   7A01         MOV     R2,#0x1
   \   000044   7B00         MOV     R3,#0x0
   \   000046   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   000049   E0           MOVX    A,@DPTR
   \   00004A   F9           MOV     R1,A
   \   00004B   12....       LCALL   `??osal_stop_timerEx::?relay`; Banked call to: osal_stop_timerEx
    791            }
    792          }
   \                     ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi_2:
   \   00004E   80..         SJMP    ??Subroutine12_0
    793          
    794          /*********************************************************************
    795           * @fn      zclSampleHeatingCoolingUnit_BasicResetCB
    796           *
    797           * @brief   Callback from the ZCL General Cluster Library
    798           *          to set all the Basic Cluster attributes to default values.
    799           *
    800           * @param   none
    801           *
    802           * @return  none
    803           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    804          static void zclSampleHeatingCoolingUnit_BasicResetCB( void )
   \                     zclSampleHeatingCoolingUnit_BasicResetCB:
    805          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    806            // Put device back to factory default settings
    807            zgWriteStartupOptions( ZG_STARTUP_SET, 3 );   // bit set both default configuration and default network
   \   000004                ; Setup parameters for call to function zgWriteStartupOptions
   \   000004   7A03         MOV     R2,#0x3
   \   000006   79FF         MOV     R1,#-0x1
   \   000008   12....       LCALL   `??zgWriteStartupOptions::?relay`; Banked call to: zgWriteStartupOptions
    808          
    809            // restart device
    810            MT_SysCommandProcessing( aProcessCmd );
   \   00000B                ; Setup parameters for call to function MT_SysCommandProcessing
   \   00000B   7A..         MOV     R2,#aProcessCmd & 0xff
   \   00000D   7B..         MOV     R3,#(aProcessCmd >> 8) & 0xff
   \   00000F   12....       LCALL   `??MT_SysCommandProcessing::?relay`; Banked call to: MT_SysCommandProcessing
    811          }
   \   000012   80..         SJMP    ??Subroutine12_0
    812          
    813          /*********************************************************************
    814           * @fn      zclSampleHeatingCoolingUnit_IdentifyCB
    815           *
    816           * @brief   Callback from the ZCL General Cluster Library when
    817           *          it received an Identity Command for this application.
    818           *
    819           * @param   srcAddr - source address and endpoint of the response message
    820           * @param   identifyTime - the number of seconds to identify yourself
    821           *
    822           * @return  none
    823           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    824          static void zclSampleHeatingCoolingUnit_IdentifyCB( zclIdentify_t *pCmd )
   \                     zclSampleHeatingCoolingUnit_IdentifyCB:
    825          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    826            zclSampleHeatingCoolingUnit_IdentifyTime = pCmd->identifyTime;
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   12....       LCALL   ??Subroutine10_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   00000D   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_IdentifyTime
   \   000010   E8           MOV     A,R0
   \   000011   F0           MOVX    @DPTR,A
   \   000012   A3           INC     DPTR
   \   000013   E9           MOV     A,R1
   \   000014   F0           MOVX    @DPTR,A
    827            zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange();
   \   000015                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
   \   000015   12....       LCALL   ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi; Banked call to: zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
    828          }
   \   000018   80..         SJMP    ??Subroutine12_0
    829          
    830          /*********************************************************************
    831           * @fn      zclSampleHeatingCoolingUnit_IdentifyQueryRspCB
    832           *
    833           * @brief   Callback from the ZCL General Cluster Library when
    834           *          it received an Identity Query Response Command for this application.
    835           *
    836           * @param   srcAddr - requestor's address
    837           * @param   timeout - number of seconds to identify yourself (valid for query response)
    838           *
    839           * @return  none
    840           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   EA           MOV     A,R2
   \   000007   F0           MOVX    @DPTR,A
   \   000008   A3           INC     DPTR
   \   000009   EB           MOV     A,R3
   \   00000A                REQUIRE ??Subroutine11_0
   \   00000A                ; // Fall through to label ??Subroutine11_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    841          static void zclSampleHeatingCoolingUnit_IdentifyQueryRspCB(  zclIdentifyQueryRsp_t *pRsp )
   \                     zclSampleHeatingCoolingUnit_IdentifyQueryRspCB:
    842          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 2
   \   000004   74FE         MOV     A,#-0x2
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
    843            (void)pRsp;
    844          #ifdef ZCL_EZMODE
    845            {
    846              zclEZMode_ActionData_t data;
    847              data.pIdentifyQueryRsp = pRsp;
   \   000009   12....       LCALL   ?Subroutine3 & 0xFFFF
    848              zcl_EZModeAction ( EZMODE_ACTION_IDENTIFY_QUERY_RSP, &data );
    849            }
   \                     ??CrossCallReturnLabel_11:
   \   00000C   7904         MOV     R1,#0x4
   \   00000E   12....       LCALL   `??zcl_EZModeAction::?relay`; Banked call to: zcl_EZModeAction
    850          #endif
    851          }
   \   000011   7402         MOV     A,#0x2
   \   000013                REQUIRE ?Subroutine1
   \   000013                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   80..         SJMP    ??Subroutine12_0
    852          
    853          /*********************************************************************
    854           * @fn      zclSampleHeatingCoolingUnit_OnOffCB
    855           *
    856           * @brief   Callback from the ZCL General Cluster Library when
    857           *          it received an On/Off Command for this application.
    858           *
    859           * @param   cmd - COMMAND_ON, COMMAND_OFF or COMMAND_TOGGLE
    860           *
    861           * @return  none
    862           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    863          static void zclSampleHeatingCoolingUnit_OnOffCB( uint8 cmd )
   \                     zclSampleHeatingCoolingUnit_OnOffCB:
    864          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
    865          #ifdef ZCL_ON_OFF
    866            // Turn off the unit
    867            if ( cmd == COMMAND_OFF )
   \   000006   7017         JNZ     ??zclSampleHeatingCoolingUnit_OnOffCB_0
    868            {
    869              zclSampleHeatingCoolingUnit_RunningState = 0;   // unit is off
   \   000008   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   00000B   E4           CLR     A
   \   00000C   F0           MOVX    @DPTR,A
   \   00000D   A3           INC     DPTR
   \   00000E   F0           MOVX    @DPTR,A
    870          
    871              HalLedSet ( HAL_LED_1, HAL_LED_MODE_OFF );
   \   00000F                ; Setup parameters for call to function HalLedSet
   \   00000F   FA           MOV     R2,A
   \   000010   7901         MOV     R1,#0x1
   \   000012   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    872              HalLedSet ( HAL_LED_2, HAL_LED_MODE_OFF );
   \   000015                ; Setup parameters for call to function HalLedSet
   \   000015   7A00         MOV     R2,#0x0
   \   000017   7902         MOV     R1,#0x2
   \   000019   12....       LCALL   `??HalLedSet::?relay`; Banked call to: HalLedSet
    873          
    874              // update the display
    875              zclSampleHeatingCoolingUnit_LcdDisplayUpdate();
   \   00001C                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayUpdate
   \   00001C   12....       LCALL   `??zclSampleHeatingCoolingUnit_LcdDisplayUpdate:`; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayUpdate
    876            }
    877          #endif
    878          }
   \                     ??zclSampleHeatingCoolingUnit_OnOffCB_0:
   \   00001F   7F01         MOV     R7,#0x1
   \   000021   02....       LJMP    ?BANKED_LEAVE_XDATA
    879          
    880          #ifdef ZCL_REPORT
    881          /*********************************************************************
    882           * @fn      zclSampleHeatingCoolingUnit_ProcessInReportCmd
    883           *
    884           * @brief   Process the "Profile" Report Command
    885           *
    886           * @param   pInMsg - incoming message to process
    887           *
    888           * @return  none
    889           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    890          static void zclSampleHeatingCoolingUnit_ProcessInReportCmd( zclIncomingMsg_t *pInMsg )
   \                     zclSampleHeatingCoolingUnit_ProcessInReportCmd:
    891          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000   74EE         MOV     A,#-0x12
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 22
   \   000005   74EA         MOV     A,#-0x16
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    892            zclReportCmd_t *pInReportCmd;
    893            pInReportCmd = (zclReportCmd_t *)pInMsg->attrCmd;
   \   00000E   EE           MOV     A,R6
   \   00000F   2417         ADD     A,#0x17
   \   000011   F582         MOV     DPL,A
   \   000013   E4           CLR     A
   \   000014   3F           ADDC    A,R7
   \   000015   F583         MOV     DPH,A
   \   000017   12....       LCALL   ??Subroutine10_0 & 0xFFFF
    894          
    895          	/*- THERMOSTAT DEMAND ------------------------------------------------------*/
    896            if ( ( pInReportCmd->attrList[0].attrID == ATTRID_HVAC_THERMOSTAT_PI_HEATING_DEMAND ) &&
    897                 ( pInReportCmd->attrList[1].attrID == ATTRID_HVAC_THERMOSTAT_PI_COOLING_DEMAND ) &&
    898                 ( pInReportCmd->attrList[2].attrID == ATTRID_ENDPOINT) &&
    899                 ( pInReportCmd->attrList[2].attrData[0] == SAMPLEHEATINGCOOLINGUNIT_ENDPOINT 	 ) )
   \                     ??CrossCallReturnLabel_7:
   \   00001A   8882         MOV     DPL,R0
   \   00001C   8983         MOV     DPH,R1
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   FA           MOV     R2,A
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   FB           MOV     R3,A
   \   000024   E8           MOV     A,R0
   \   000025   2409         ADD     A,#0x9
   \   000027   F5..         MOV     ?V2,A
   \   000029   E4           CLR     A
   \   00002A   39           ADDC    A,R1
   \   00002B   F5..         MOV     ?V3,A
   \   00002D   E8           MOV     A,R0
   \   00002E   2404         ADD     A,#0x4
   \   000030   F5..         MOV     ?V6,A
   \   000032   E4           CLR     A
   \   000033   39           ADDC    A,R1
   \   000034   F5..         MOV     ?V7,A
   \   000036   E8           MOV     A,R0
   \   000037   2406         ADD     A,#0x6
   \   000039   F5..         MOV     ?V4,A
   \   00003B   E4           CLR     A
   \   00003C   39           ADDC    A,R1
   \   00003D   F5..         MOV     ?V5,A
   \   00003F   7408         MOV     A,#0x8
   \   000041   6A           XRL     A,R2
   \   000042   4B           ORL     A,R3
   \   000043   6003         JZ      $+5
   \   000045   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_1 & 0xFFFF
   \   000048   85..82       MOV     DPL,?V4
   \   00004B   85..83       MOV     DPH,?V5
   \   00004E   E0           MOVX    A,@DPTR
   \   00004F   6407         XRL     A,#0x7
   \   000051   7002         JNZ     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_2
   \   000053   A3           INC     DPTR
   \   000054   E0           MOVX    A,@DPTR
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_2:
   \   000055   6003         JZ      $+5
   \   000057   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_1 & 0xFFFF
   \   00005A   E8           MOV     A,R0
   \   00005B   240B         ADD     A,#0xb
   \   00005D   F582         MOV     DPL,A
   \   00005F   E4           CLR     A
   \   000060   39           ADDC    A,R1
   \   000061   F583         MOV     DPH,A
   \   000063   E0           MOVX    A,@DPTR
   \   000064   6401         XRL     A,#0x1
   \   000066   7004         JNZ     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_3
   \   000068   A3           INC     DPTR
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   64A0         XRL     A,#0xa0
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_3:
   \   00006C   6003         JZ      $+5
   \   00006E   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_1 & 0xFFFF
   \   000071   E8           MOV     A,R0
   \   000072   240E         ADD     A,#0xe
   \   000074   F582         MOV     DPL,A
   \   000076   E4           CLR     A
   \   000077   39           ADDC    A,R1
   \   000078   F583         MOV     DPH,A
   \   00007A   12....       LCALL   ??Subroutine13_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   00007D   6401         XRL     A,#0x1
   \   00007F   6003         JZ      $+5
   \   000081   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_1 & 0xFFFF
    900            {
    901            	HalLedBlink ( HAL_LED_1, 1, 50, 500 );
   \   000084                ; Setup parameters for call to function HalLedBlink
   \   000084   7CF4         MOV     R4,#-0xc
   \   000086   7D01         MOV     R5,#0x1
   \   000088   7B32         MOV     R3,#0x32
   \   00008A   7A01         MOV     R2,#0x1
   \   00008C   7901         MOV     R1,#0x1
   \   00008E   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
    902          		
    903          		// check to see if heating/cooling unit should be off
    904          	  if ( ( pInReportCmd->attrList[0].attrData[0] == 0 ) &&
    905          	       ( pInReportCmd->attrList[1].attrData[0] == 0 ) )
   \   000091   85..82       MOV     DPL,?V6
   \   000094   85..83       MOV     DPH,?V7
   \   000097   12....       LCALL   ??Subroutine13_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   00009A   F8           MOV     R0,A
   \   00009B   7019         JNZ     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_4
   \   00009D   85..82       MOV     DPL,?V2
   \   0000A0   85..83       MOV     DPH,?V3
   \   0000A3   E0           MOVX    A,@DPTR
   \   0000A4   F9           MOV     R1,A
   \   0000A5   A3           INC     DPTR
   \   0000A6   E0           MOVX    A,@DPTR
   \   0000A7   F583         MOV     DPH,A
   \   0000A9   8982         MOV     DPL,R1
   \   0000AB   E0           MOVX    A,@DPTR
   \   0000AC   7008         JNZ     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_4
    906          	  {
    907          	    // turn heating/cooling off
    908          	    zclSampleHeatingCoolingUnit_RunningState = 0;
   \   0000AE   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   0000B1   E4           CLR     A
   \   0000B2   F0           MOVX    @DPTR,A
   \   0000B3   A3           INC     DPTR
   \   0000B4   8019         SJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_5
    909          	  }
    910          	  else
    911          	  {
    912          	    // check if unit needs to turn heat on or off
    913          	    if ( pInReportCmd->attrList[0].attrData[0] > 0 )
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_4:
   \   0000B6   E8           MOV     A,R0
   \   0000B7   6009         JZ      ??zclSampleHeatingCoolingUnit_ProcessInReportCm_6
    914          	    {
    915          	      // turn heating on
    916          	      zclSampleHeatingCoolingUnit_RunningState = HVAC_THERMOSTAT_RUNNING_STATE_HEAT_1ST_STAGE_ON;
   \   0000B9   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   0000BC   7401         MOV     A,#0x1
   \   0000BE   F0           MOVX    @DPTR,A
   \   0000BF   A3           INC     DPTR
   \   0000C0   E4           CLR     A
   \   0000C1   F0           MOVX    @DPTR,A
    917          	    }
    918          	    else if ( pInReportCmd->attrList[0].attrData[0] == 0 )
    919          	    {
    920          	      // turn heating off
    921          	    }
    922          
    923          	    // check if unit needs to turn cool on or off
    924          	    if ( pInReportCmd->attrList[1].attrData[0] > 0 )
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_6:
   \   0000C2   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   0000C5   6009         JZ      ??zclSampleHeatingCoolingUnit_ProcessInReportCm_7
    925          	    {
    926          	      // turn cooling on
    927          	      zclSampleHeatingCoolingUnit_RunningState = HVAC_THERMOSTAT_RUNNING_STATE_COOL_1ST_STAGE_ON;
   \   0000C7   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_RunningState
   \   0000CA   7402         MOV     A,#0x2
   \   0000CC   F0           MOVX    @DPTR,A
   \   0000CD   A3           INC     DPTR
   \   0000CE   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_5:
   \   0000CF   F0           MOVX    @DPTR,A
    928          	    }
    929          	    else if ( pInReportCmd->attrList[1].attrData[0] == 0 )
    930          	    {
    931          	      // turn cooling off
    932          	    }
    933          	  }
    934          
    935          	  // update the display
    936          	  zclSampleHeatingCoolingUnit_LcdDisplayUpdate();
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_7:
   \   0000D0                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_LcdDisplayUpdate
   \   0000D0   12....       LCALL   `??zclSampleHeatingCoolingUnit_LcdDisplayUpdate:`; Banked call to: zclSampleHeatingCoolingUnit_LcdDisplayUpdate
    937          
    938          		// Feedback
    939          	  zclReportCmd_t *pReportCmd;
    940          
    941          		uint8 Feedback_Heating = 0xFF;
    942          		uint8 Feedback_Cooling = 0xFF;
    943          		uint16 Feedback = BUILD_UINT16(Feedback_Heating, Feedback_Cooling);
   \   0000D3   85..82       MOV     DPL,?XSP + 0
   \   0000D6   85..83       MOV     DPH,?XSP + 1
   \   0000D9   74FF         MOV     A,#-0x1
   \   0000DB   F0           MOVX    @DPTR,A
   \   0000DC   A3           INC     DPTR
   \   0000DD   F0           MOVX    @DPTR,A
    944          		
    945          	  pReportCmd = osal_mem_alloc( sizeof(zclReportCmd_t) + 1 * sizeof(zclReport_t) );
   \   0000DE                ; Setup parameters for call to function osal_mem_alloc
   \   0000DE   7A06         MOV     R2,#0x6
   \   0000E0   7B00         MOV     R3,#0x0
   \   0000E2   12....       LCALL   `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   0000E5   8A..         MOV     ?V0,R2
   \   0000E7   8B..         MOV     ?V1,R3
    946          	  if ( pReportCmd != NULL )
   \   0000E9   EA           MOV     A,R2
   \   0000EA   45..         ORL     A,?V1
   \   0000EC   6052         JZ      ??zclSampleHeatingCoolingUnit_ProcessInReportCm_8
    947          	  {
    948          	    pReportCmd->numAttr = 1;
   \   0000EE   8A82         MOV     DPL,R2
   \   0000F0   8B83         MOV     DPH,R3
   \   0000F2   7401         MOV     A,#0x1
   \   0000F4   F0           MOVX    @DPTR,A
    949          			// Confirmation
    950          			pReportCmd->attrList[0].attrID = ATTRID_HVAC_THERMOSTAT_RUNNING_STATE;
   \   0000F5   A3           INC     DPTR
   \   0000F6   7429         MOV     A,#0x29
   \   0000F8   F0           MOVX    @DPTR,A
   \   0000F9   A3           INC     DPTR
   \   0000FA   E4           CLR     A
   \   0000FB   12....       LCALL   ?Subroutine4 & 0xFFFF
    951          	    pReportCmd->attrList[0].dataType = ZCL_DATATYPE_UINT16;
   \                     ??CrossCallReturnLabel_2:
   \   0000FE   7421         MOV     A,#0x21
   \   000100   12....       LCALL   ?Subroutine4 & 0xFFFF
    952          	    pReportCmd->attrList[0].attrData = (void *)(&Feedback);
   \                     ??CrossCallReturnLabel_3:
   \   000103   A3           INC     DPTR
   \   000104   E5..         MOV     A,?XSP + 0
   \   000106   F0           MOVX    @DPTR,A
   \   000107   A3           INC     DPTR
   \   000108   E5..         MOV     A,?XSP + 1
   \   00010A   F0           MOVX    @DPTR,A
    953          
    954          	    zcl_SendReportCmd( SAMPLEHEATINGCOOLINGUNIT_ENDPOINT, &zclSampleHeatingCoolingUnit_DstAddr,
    955          	                       ZCL_CLUSTER_ID_HVAC_THERMOSTAT,
    956          	                       pReportCmd, ZCL_FRAME_SERVER_CLIENT_DIR, TRUE, zclSampleHeatingCoolingUnitSeqNum++ );
   \   00010B   90....       MOV     DPTR,#zclSampleHeatingCoolingUnitSeqNum
   \   00010E   E0           MOVX    A,@DPTR
   \   00010F   F8           MOV     R0,A
   \   000110   7401         MOV     A,#0x1
   \   000112   28           ADD     A,R0
   \   000113   F0           MOVX    @DPTR,A
   \   000114                ; Setup parameters for call to function zcl_SendReportCmd
   \   000114   E8           MOV     A,R0
   \   000115   F5..         MOV     ?V2,A
   \   000117   78..         MOV     R0,#?V2
   \   000119   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00011C   75..01       MOV     ?V2,#0x1
   \   00011F   78..         MOV     R0,#?V2
   \   000121   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000124   78..         MOV     R0,#?V2
   \   000126   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000129   78..         MOV     R0,#?V0
   \   00012B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012E   7C01         MOV     R4,#0x1
   \   000130   7D02         MOV     R5,#0x2
   \   000132   7A..         MOV     R2,#zclSampleHeatingCoolingUnit_DstAddr & 0xff
   \   000134   7B..         MOV     R3,#(zclSampleHeatingCoolingUnit_DstAddr >> 8) & 0xff
   \   000136   7901         MOV     R1,#0x1
   \   000138   12....       LCALL   `??zcl_SendReportCmd::?relay`; Banked call to: zcl_SendReportCmd
   \   00013B   7405         MOV     A,#0x5
   \   00013D   12....       LCALL   ?DEALLOC_XSTACK8
    957          	  }
    958          
    959          	  osal_mem_free( pReportCmd );
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_8:
   \   000140                ; Setup parameters for call to function osal_mem_free
   \   000140   AA..         MOV     R2,?V0
   \   000142   AB..         MOV     R3,?V1
   \   000144   12....       LCALL   `??osal_mem_free::?relay`; Banked call to: osal_mem_free
    960          
    961              return;
   \   000147   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_9 & 0xFFFF
    962            }	
    963          	
    964          	/*- FREE DATA --------------------------------------------------------------*/
    965          	if ( pInReportCmd->attrList[0].attrID == ATTRID_FREE_DATA )
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_1:
   \   00014A   7403         MOV     A,#0x3
   \   00014C   6A           XRL     A,R2
   \   00014D   7003         JNZ     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_10
   \   00014F   74A0         MOV     A,#-0x60
   \   000151   6B           XRL     A,R3
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_10:
   \   000152   6003         JZ      $+5
   \   000154   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_9 & 0xFFFF
    966          	{
    967          		HalLedBlink ( HAL_LED_2, 1, 50, 500 );
   \   000157                ; Setup parameters for call to function HalLedBlink
   \   000157   7CF4         MOV     R4,#-0xc
   \   000159   7D01         MOV     R5,#0x1
   \   00015B   7B32         MOV     R3,#0x32
   \   00015D   7A01         MOV     R2,#0x1
   \   00015F   7902         MOV     R1,#0x2
   \   000161   12....       LCALL   `??HalLedBlink::?relay`; Banked call to: HalLedBlink
    968          
    969          		uint8 i;
    970          		uint8 tmp_Data[20];
    971          		
    972          		if (FLAG_ECHO_RDATA)
   \   000164   90....       MOV     DPTR,#FLAG_ECHO_RDATA
   \   000167   E0           MOVX    A,@DPTR
   \   000168   7003         JNZ     $+5
   \   00016A   02....       LJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_9 & 0xFFFF
    973          		{
    974          			UART_ZCmdPrintString(HAL_UART_PORT_0, "@ZBR:");
   \   00016D                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00016D   7A..         MOV     R2,#`?<Constant "@ZBR:">` & 0xff
   \   00016F   7B..         MOV     R3,#(`?<Constant "@ZBR:">` >> 8) & 0xff
   \   000171   7900         MOV     R1,#0x0
   \   000173   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    975          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, msg_RSSI);																// RSSI
   \   000176                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000176   90....       MOV     DPTR,#msg_RSSI
   \   000179   E0           MOVX    A,@DPTR
   \   00017A   FA           MOV     R2,A
   \   00017B   33           RLC     A
   \   00017C   95E0         SUBB    A,0xE0 /* A   */
   \   00017E   FB           MOV     R3,A
   \   00017F   FC           MOV     R4,A
   \   000180   FD           MOV     R5,A
   \   000181   7900         MOV     R1,#0x0
   \   000183   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    976          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   000186   75....       MOV     ?V0,#`?<Constant ";">` & 0xff
   \   000189   75....       MOV     ?V1,#(`?<Constant ";">` >> 8) & 0xff
   \   00018C                ; Setup parameters for call to function UART_ZCmdPrintString
   \   00018C   AA..         MOV     R2,?V0
   \   00018E   AB..         MOV     R3,?V1
   \   000190   7900         MOV     R1,#0x0
   \   000192   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    977          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.addr.shortAddr);					// shortAddr
   \   000195                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   000195   8E82         MOV     DPL,R6
   \   000197   8F83         MOV     DPH,R7
   \   000199   A3           INC     DPTR
   \   00019A   A3           INC     DPTR
   \   00019B   A3           INC     DPTR
   \   00019C   A3           INC     DPTR
   \   00019D   A3           INC     DPTR
   \   00019E   A3           INC     DPTR
   \   00019F   A3           INC     DPTR
   \   0001A0   A3           INC     DPTR
   \   0001A1   A3           INC     DPTR
   \   0001A2   A3           INC     DPTR
   \   0001A3   E0           MOVX    A,@DPTR
   \   0001A4   F5..         MOV     ?V8,A
   \   0001A6   A3           INC     DPTR
   \   0001A7   E0           MOVX    A,@DPTR
   \   0001A8   AA..         MOV     R2,?V8
   \   0001AA   FB           MOV     R3,A
   \   0001AB   E4           CLR     A
   \   0001AC   FC           MOV     R4,A
   \   0001AD   FD           MOV     R5,A
   \   0001AE   F9           MOV     R1,A
   \   0001AF   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    978          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0001B2                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0001B2   AA..         MOV     R2,?V0
   \   0001B4   AB..         MOV     R3,?V1
   \   0001B6   7900         MOV     R1,#0x0
   \   0001B8   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    979          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInMsg->srcAddr.endPoint);								// endPoint
   \   0001BB                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0001BB   EE           MOV     A,R6
   \   0001BC   2413         ADD     A,#0x13
   \   0001BE   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   0001C1   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    980          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0001C4                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0001C4   AA..         MOV     R2,?V0
   \   0001C6   AB..         MOV     R3,?V1
   \   0001C8   7900         MOV     R1,#0x0
   \   0001CA   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    981          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[1].attrID); 				// coordShortAddr
   \   0001CD                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0001CD   85..82       MOV     DPL,?V4
   \   0001D0   85..83       MOV     DPH,?V5
   \   0001D3   E0           MOVX    A,@DPTR
   \   0001D4   F5..         MOV     ?V4,A
   \   0001D6   A3           INC     DPTR
   \   0001D7   E0           MOVX    A,@DPTR
   \   0001D8   AA..         MOV     R2,?V4
   \   0001DA   FB           MOV     R3,A
   \   0001DB   E4           CLR     A
   \   0001DC   FC           MOV     R4,A
   \   0001DD   FD           MOV     R5,A
   \   0001DE   F9           MOV     R1,A
   \   0001DF   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    982          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";"); 
   \   0001E2                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0001E2   AA..         MOV     R2,?V0
   \   0001E4   AB..         MOV     R3,?V1
   \   0001E6   7900         MOV     R1,#0x0
   \   0001E8   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    983          			UART_ZCmdPrintNum 	(HAL_UART_PORT_0, pInReportCmd->attrList[1].attrData[0]); 	// data size
   \   0001EB                ; Setup parameters for call to function UART_ZCmdPrintNum
   \   0001EB   85..82       MOV     DPL,?V2
   \   0001EE   85..83       MOV     DPH,?V3
   \   0001F1   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   0001F4   12....       LCALL   ??Subroutine14_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   0001F7   12....       LCALL   `??UART_ZCmdPrintNum::?relay`; Banked call to: UART_ZCmdPrintNum
    984          			UART_ZCmdPrintString(HAL_UART_PORT_0, ";");
   \   0001FA                ; Setup parameters for call to function UART_ZCmdPrintString
   \   0001FA   AA..         MOV     R2,?V0
   \   0001FC   AB..         MOV     R3,?V1
   \   0001FE   7900         MOV     R1,#0x0
   \   000200   12....       LCALL   `??UART_ZCmdPrintString::?relay`; Banked call to: UART_ZCmdPrintString
    985          			
    986          			// eliminate DUMMY byte index[0]
    987          			for (i = 1; i <= pInReportCmd->attrList[1].attrData[0]; i++)
   \   000203   7A01         MOV     R2,#0x1
   \   000205   8031         SJMP    ??zclSampleHeatingCoolingUnit_ProcessInReportCm_11
    988          			{
    989          				tmp_Data[i-1] = pInReportCmd->attrList[0].attrData[i];
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_12:
   \   000207   EA           MOV     A,R2
   \   000208   F8           MOV     R0,A
   \   000209   85..82       MOV     DPL,?V6
   \   00020C   85..83       MOV     DPH,?V7
   \   00020F   E0           MOVX    A,@DPTR
   \   000210   28           ADD     A,R0
   \   000211   FB           MOV     R3,A
   \   000212   A3           INC     DPTR
   \   000213   E0           MOVX    A,@DPTR
   \   000214   3400         ADDC    A,#0x0
   \   000216   8B82         MOV     DPL,R3
   \   000218   F583         MOV     DPH,A
   \   00021A   E0           MOVX    A,@DPTR
   \   00021B   C0E0         PUSH    A
   \   00021D   7402         MOV     A,#0x2
   \   00021F   12....       LCALL   ?XSTACK_DISP0_8
   \   000222   E582         MOV     A,DPL
   \   000224   28           ADD     A,R0
   \   000225   F8           MOV     R0,A
   \   000226   E4           CLR     A
   \   000227   3583         ADDC    A,DPH
   \   000229   F9           MOV     R1,A
   \   00022A   E8           MOV     A,R0
   \   00022B   24FF         ADD     A,#-0x1
   \   00022D   F582         MOV     DPL,A
   \   00022F   E9           MOV     A,R1
   \   000230   34FF         ADDC    A,#-0x1
   \   000232   F583         MOV     DPH,A
   \   000234   D0E0         POP     A
   \   000236   F0           MOVX    @DPTR,A
    990          			}
   \   000237   0A           INC     R2
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_11:
   \   000238   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   00023B   FC           MOV     R4,A
   \   00023C   C3           CLR     C
   \   00023D   9A           SUBB    A,R2
   \   00023E   50C7         JNC     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_12
    991          			UART_ZCmdPrintBuffer(HAL_UART_PORT_0, tmp_Data, pInReportCmd->attrList[1].attrData[0]); 	// Free Data
   \   000240                ; Setup parameters for call to function UART_ZCmdPrintBuffer
   \   000240   7402         MOV     A,#0x2
   \   000242   12....       LCALL   ?XSTACK_DISP101_8
   \   000245   7900         MOV     R1,#0x0
   \   000247   12....       LCALL   `??UART_ZCmdPrintBuffer::?relay`; Banked call to: UART_ZCmdPrintBuffer
    992          			UART_ZCmdPrint			(HAL_UART_PORT_0, "!");
   \   00024A                ; Setup parameters for call to function UART_ZCmdPrint
   \   00024A   7A..         MOV     R2,#`?<Constant "!">` & 0xff
   \   00024C   7B..         MOV     R3,#(`?<Constant "!">` >> 8) & 0xff
   \   00024E   7900         MOV     R1,#0x0
   \   000250   12....       LCALL   `??UART_ZCmdPrint::?relay`; Banked call to: UART_ZCmdPrint
    993          		}
    994          		return;
    995          	}
    996          
    997          	
    998          }
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm_9:
   \   000253   7416         MOV     A,#0x16
   \   000255   12....       LCALL   ?DEALLOC_XSTACK8
   \   000258   7F0A         MOV     R7,#0xa
   \   00025A   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   85..82       MOV     DPL,?V2
   \   000003   85..83       MOV     DPH,?V3
   \   000006                REQUIRE ??Subroutine13_0
   \   000006                ; // Fall through to label ??Subroutine13_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine13_0:
   \   000000   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F583         MOV     DPH,A
   \   000006   8882         MOV     DPL,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   22           RET
    999          #endif
   1000          
   1001          /******************************************************************************
   1002           *
   1003           *  Functions for processing ZCL Foundation incoming Command/Response messages
   1004           *
   1005           *****************************************************************************/
   1006          
   1007          /*********************************************************************
   1008           * @fn      zclSampleHeatingCoolingUnit_ProcessIncomingMsg
   1009           *
   1010           * @brief   Process ZCL Foundation incoming message
   1011           *
   1012           * @param   pInMsg - pointer to the received message
   1013           *
   1014           * @return  none
   1015           */
   1016          static void zclSampleHeatingCoolingUnit_ProcessIncomingMsg( zclIncomingMsg_t *pInMsg)
   1017          {
   1018            switch ( pInMsg->zclHdr.commandID )
   1019            {
   1020          #ifdef ZCL_READ
   1021              case ZCL_CMD_READ_RSP:
   1022                zclSampleHeatingCoolingUnit_ProcessInReadRspCmd( pInMsg );
   1023                break;
   1024          #endif
   1025          #ifdef ZCL_WRITE
   1026              case ZCL_CMD_WRITE_RSP:
   1027                zclSampleHeatingCoolingUnit_ProcessInWriteRspCmd( pInMsg );
   1028                break;
   1029          #endif
   1030          #ifdef ZCL_REPORT
   1031              // See ZCL Test Applicaiton (zcl_testapp.c) for sample code on Attribute Reporting
   1032              case ZCL_CMD_CONFIG_REPORT:
   1033                //zclSampleHeatingCoolingUnit_ProcessInConfigReportCmd( pInMsg );
   1034                break;
   1035          
   1036              case ZCL_CMD_CONFIG_REPORT_RSP:
   1037                //zclSampleHeatingCoolingUnit_ProcessInConfigReportRspCmd( pInMsg );
   1038                break;
   1039          
   1040              case ZCL_CMD_READ_REPORT_CFG:
   1041                //zclSampleHeatingCoolingUnit_ProcessInReadReportCfgCmd( pInMsg );
   1042                break;
   1043          
   1044              case ZCL_CMD_READ_REPORT_CFG_RSP:
   1045                //zclSampleHeatingCoolingUnit_ProcessInReadReportCfgRspCmd( pInMsg );
   1046                break;
   1047          
   1048              case ZCL_CMD_REPORT:
   1049                zclSampleHeatingCoolingUnit_ProcessInReportCmd( pInMsg );
   1050                break;
   1051          #endif
   1052              case ZCL_CMD_DEFAULT_RSP:
   1053                zclSampleHeatingCoolingUnit_ProcessInDefaultRspCmd( pInMsg );
   1054                break;
   1055          
   1056              default:
   1057                break;
   1058            }
   1059          
   1060            if ( pInMsg->attrCmd )
   1061              osal_mem_free( pInMsg->attrCmd );
   1062          }
   1063          
   1064          #ifdef ZCL_READ
   1065          /*********************************************************************
   1066           * @fn      zclSampleHeatingCoolingUnit_ProcessInReadRspCmd
   1067           *
   1068           * @brief   Process the "Profile" Read Response Command
   1069           *
   1070           * @param   pInMsg - incoming message to process
   1071           *
   1072           * @return  none
   1073           */
   1074          static uint8 zclSampleHeatingCoolingUnit_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg )
   1075          {
   1076            zclReadRspCmd_t *readRspCmd;
   1077            uint8 i;
   1078          
   1079            readRspCmd = (zclReadRspCmd_t *)pInMsg->attrCmd;
   1080            for (i = 0; i < readRspCmd->numAttr; i++)
   1081            {
   1082              // Notify the originator of the results of the original read attributes
   1083              // attempt and, for each successfull request, the value of the requested
   1084              // attribute
   1085            }
   1086          
   1087            return TRUE;
   1088          }
   1089          #endif // ZCL_READ
   1090          
   1091          #ifdef ZCL_WRITE
   1092          /*********************************************************************
   1093           * @fn      zclSampleHeatingCoolingUnit_ProcessInWriteRspCmd
   1094           *
   1095           * @brief   Process the "Profile" Write Response Command
   1096           *
   1097           * @param   pInMsg - incoming message to process
   1098           *
   1099           * @return  none
   1100           */
   1101          static uint8 zclSampleHeatingCoolingUnit_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg )
   1102          {
   1103            zclWriteRspCmd_t *writeRspCmd;
   1104            uint8 i;
   1105          
   1106            writeRspCmd = (zclWriteRspCmd_t *)pInMsg->attrCmd;
   1107            for (i = 0; i < writeRspCmd->numAttr; i++)
   1108            {
   1109              // Notify the device of the results of the its original write attributes
   1110              // command.
   1111            }
   1112          
   1113            return TRUE;
   1114          }
   1115          #endif // ZCL_WRITE
   1116          
   1117          /*********************************************************************
   1118           * @fn      zclSampleHeatingCoolingUnit_ProcessInDefaultRspCmd
   1119           *
   1120           * @brief   Process the "Profile" Default Response Command
   1121           *
   1122           * @param   pInMsg - incoming message to process
   1123           *
   1124           * @return  none
   1125           */
   1126          static uint8 zclSampleHeatingCoolingUnit_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg )
   1127          {
   1128            // zclDefaultRspCmd_t *defaultRspCmd = (zclDefaultRspCmd_t *)pInMsg->attrCmd;
   1129          
   1130            // Device is notified of the Default Response command.
   1131            (void)pInMsg;
   1132          
   1133            return TRUE;
   1134          }
   1135          
   1136          #if ZCL_EZMODE
   1137          /*********************************************************************
   1138           * @fn      zclSampleHeatingCoolingUnit_ProcessZDOMsgs
   1139           *
   1140           * @brief   Called when this node receives a ZDO/ZDP response.
   1141           *
   1142           * @param   none
   1143           *
   1144           * @return  status
   1145           */
   1146          static void zclSampleHeatingCoolingUnit_ProcessZDOMsgs( zdoIncomingMsg_t *pMsg )
   1147          {
   1148            zclEZMode_ActionData_t data;
   1149            ZDO_MatchDescRsp_t *pMatchDescRsp;
   1150          
   1151            // Let EZ-Mode know of the Match Descriptor Response
   1152            if ( pMsg->clusterID == Match_Desc_rsp )
   1153            {
   1154              pMatchDescRsp = ZDO_ParseEPListRsp( pMsg );
   1155              data.pMatchDescRsp = pMatchDescRsp;
   1156              zcl_EZModeAction( EZMODE_ACTION_MATCH_DESC_RSP, &data );
   1157              osal_mem_free( pMatchDescRsp );
   1158            }
   1159          }
   1160          
   1161          /*********************************************************************
   1162           * @fn      zclSampleHeatingCoolingUnit_EZModeCB
   1163           *
   1164           * @brief   The Application is informed of events. This can be used to show on the UI what is
   1165          *           going on during EZ-Mode steering/finding/binding.
   1166           *
   1167           * @param   state - an
   1168           *
   1169           * @return  none
   1170           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1171          static void zclSampleHeatingCoolingUnit_EZModeCB( zlcEZMode_State_t state, zclEZMode_CBData_t *pData )
   \                     zclSampleHeatingCoolingUnit_EZModeCB:
   1172          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V2,R1
   \   000007   8A..         MOV     ?V0,R2
   \   000009   8B..         MOV     ?V1,R3
   1173          #ifdef LCD_SUPPORTED
   1174            char *pStr;
   1175            uint8 err;
   1176          #endif
   1177          
   1178            // time to go into identify mode
   1179            if ( state == EZMODE_STATE_IDENTIFYING )
   \   00000B   7404         MOV     A,#0x4
   \   00000D   65..         XRL     A,?V2
   \   00000F   7018         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_0
   1180            {
   1181          #ifdef LCD_SUPPORTED
   1182              HalLcdWriteString( "EZMode", HAL_LCD_LINE_2 );
   \   000011                ; Setup parameters for call to function HalLcdWriteString
   \   000011   7902         MOV     R1,#0x2
   \   000013   7A..         MOV     R2,#`?<Constant "EZMode">` & 0xff
   \   000015   7B..         MOV     R3,#(`?<Constant "EZMode">` >> 8) & 0xff
   \   000017   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   1183          #endif
   1184          
   1185              zclSampleHeatingCoolingUnit_IdentifyTime = (EZMODE_TIME / 1000);  // convert to seconds
   \   00001A   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_IdentifyTime
   \   00001D   74B4         MOV     A,#-0x4c
   \   00001F   F0           MOVX    @DPTR,A
   \   000020   A3           INC     DPTR
   \   000021   E4           CLR     A
   \   000022   F0           MOVX    @DPTR,A
   1186              zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange();
   \   000023                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
   \   000023   12....       LCALL   ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi; Banked call to: zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
   \   000026   02....       LJMP    ??zclSampleHeatingCoolingUnit_EZModeCB_1 & 0xFFFF
   1187            }
   1188          
   1189            // autoclosing, show what happened (success, cancelled, etc...)
   1190            if( state == EZMODE_STATE_AUTOCLOSE )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_0:
   \   000029   7407         MOV     A,#0x7
   \   00002B   65..         XRL     A,?V2
   \   00002D   7028         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_2
   1191            {
   1192          #ifdef LCD_SUPPORTED
   1193              pStr = NULL;
   1194              err = pData->sAutoClose.err;
   \   00002F   8A82         MOV     DPL,R2
   \   000031   8B83         MOV     DPH,R3
   \   000033   E0           MOVX    A,@DPTR
   \   000034   F8           MOV     R0,A
   1195              if ( err == EZMODE_ERR_SUCCESS )
   \   000035   7006         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_3
   1196              {
   1197                pStr = "EZMode: Success";
   \   000037   7A..         MOV     R2,#`?<Constant "EZMode: Success">` & 0xff
   \   000039   7B..         MOV     R3,#(`?<Constant "EZMode: Success">` >> 8) & 0xff
   \   00003B   8009         SJMP    ??zclSampleHeatingCoolingUnit_EZModeCB_4
   1198              }
   1199              else if ( err == EZMODE_ERR_NOMATCH )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_3:
   \   00003D   7404         MOV     A,#0x4
   \   00003F   68           XRL     A,R0
   \   000040   707F         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_1
   1200              {
   1201                pStr = "EZMode: NoMatch"; // not a match made in heaven
   \   000042   7A..         MOV     R2,#`?<Constant "EZMode: NoMatch">` & 0xff
   \   000044   7B..         MOV     R3,#(`?<Constant "EZMode: NoMatch">` >> 8) & 0xff
   1202              }
   1203              if ( pStr )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_4:
   \   000046   EA           MOV     A,R2
   \   000047   4B           ORL     A,R3
   \   000048   6077         JZ      ??zclSampleHeatingCoolingUnit_EZModeCB_1
   1204              {
   1205                if ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_MAINMODE )
   \   00004A   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   00004D   E0           MOVX    A,@DPTR
   \   00004E   7071         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_1
   1206                {
   1207                  HalLcdWriteString ( pStr, HAL_LCD_LINE_2 );
   \   000050                ; Setup parameters for call to function HalLcdWriteString
   \   000050   7902         MOV     R1,#0x2
   \   000052   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   \   000055   806A         SJMP    ??zclSampleHeatingCoolingUnit_EZModeCB_1
   1208                }
   1209              }
   1210          #endif
   1211            }
   1212          
   1213            // finished, either show DstAddr/EP, or nothing (depending on success or not)
   1214            if( state == EZMODE_STATE_FINISH )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_2:
   \   000057   7463         MOV     A,#0x63
   \   000059   65..         XRL     A,?V2
   \   00005B   7064         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_1
   1215            {
   1216              // turn off identify mode
   1217              zclSampleHeatingCoolingUnit_IdentifyTime = 0;
   \   00005D   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_IdentifyTime
   \   000060   E4           CLR     A
   \   000061   F0           MOVX    @DPTR,A
   \   000062   A3           INC     DPTR
   \   000063   F0           MOVX    @DPTR,A
   1218              zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange();
   \   000064                ; Setup parameters for call to function zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
   \   000064   12....       LCALL   ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi; Banked call to: zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
   1219          
   1220          #ifdef LCD_SUPPORTED
   1221              // if successful, inform user which nwkaddr/ep we bound to
   1222              pStr = NULL;
   1223              err = pData->sFinish.err;
   \   000067   85..82       MOV     DPL,?V0
   \   00006A   85..83       MOV     DPH,?V1
   \   00006D   E0           MOVX    A,@DPTR
   \   00006E   F8           MOV     R0,A
   1224              if( err == EZMODE_ERR_SUCCESS )
   \   00006F   6039         JZ      ??zclSampleHeatingCoolingUnit_EZModeCB_5
   1225              {
   1226                // already stated on autoclose
   1227              }
   1228              else if ( err == EZMODE_ERR_CANCELLED )
   \   000071   7402         MOV     A,#0x2
   \   000073   68           XRL     A,R0
   \   000074   7006         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_6
   1229              {
   1230                pStr = "EZMode: Cancel";
   \   000076   7A..         MOV     R2,#`?<Constant "EZMode: Cancel">` & 0xff
   \   000078   7B..         MOV     R3,#(`?<Constant "EZMode: Cancel">` >> 8) & 0xff
   \   00007A   801F         SJMP    ??zclSampleHeatingCoolingUnit_EZModeCB_7
   1231              }
   1232              else if ( err == EZMODE_ERR_NOMATCH )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_6:
   \   00007C   7404         MOV     A,#0x4
   \   00007E   68           XRL     A,R0
   \   00007F   7006         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_8
   1233              {
   1234                pStr = "EZMode: NoMatch"; // not a match made in heaven
   \   000081   7A..         MOV     R2,#`?<Constant "EZMode: NoMatch">` & 0xff
   \   000083   7B..         MOV     R3,#(`?<Constant "EZMode: NoMatch">` >> 8) & 0xff
   \   000085   8014         SJMP    ??zclSampleHeatingCoolingUnit_EZModeCB_7
   1235              }
   1236              else if ( err == EZMODE_ERR_BAD_PARAMETER )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_8:
   \   000087   7401         MOV     A,#0x1
   \   000089   68           XRL     A,R0
   \   00008A   7006         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_9
   1237              {
   1238                pStr = "EZMode: BadParm";
   \   00008C   7A..         MOV     R2,#`?<Constant "EZMode: BadParm">` & 0xff
   \   00008E   7B..         MOV     R3,#(`?<Constant "EZMode: BadParm">` >> 8) & 0xff
   \   000090   8009         SJMP    ??zclSampleHeatingCoolingUnit_EZModeCB_7
   1239              }
   1240              else if ( err == EZMODE_ERR_TIMEDOUT )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_9:
   \   000092   7403         MOV     A,#0x3
   \   000094   68           XRL     A,R0
   \   000095   7013         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_5
   1241              {
   1242                pStr = "EZMode: TimeOut";
   \   000097   7A..         MOV     R2,#`?<Constant "EZMode: TimeOut">` & 0xff
   \   000099   7B..         MOV     R3,#(`?<Constant "EZMode: TimeOut">` >> 8) & 0xff
   1243              }
   1244              if ( pStr )
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_7:
   \   00009B   EA           MOV     A,R2
   \   00009C   4B           ORL     A,R3
   \   00009D   600B         JZ      ??zclSampleHeatingCoolingUnit_EZModeCB_5
   1245              {
   1246                if ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_MAINMODE )
   \   00009F   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   0000A2   E0           MOVX    A,@DPTR
   \   0000A3   7005         JNZ     ??zclSampleHeatingCoolingUnit_EZModeCB_5
   1247                {
   1248                  HalLcdWriteString ( pStr, HAL_LCD_LINE_2 );
   \   0000A5                ; Setup parameters for call to function HalLcdWriteString
   \   0000A5   7902         MOV     R1,#0x2
   \   0000A7   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   1249                }
   1250              }
   1251          #endif  // LCD_SUPPORTED
   1252          
   1253              // show main UI screen 3 seconds after joining network
   1254              osal_start_timerEx( zclSampleHeatingCoolingUnit_TaskID, SAMPLEHEATINGCOOLINGUNIT_MAIN_SCREEN_EVT, 3000 );
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_5:
   \   0000AA                ; Setup parameters for call to function osal_start_timerEx
   \   0000AA   90....       MOV     DPTR,#__Constant_bb8
   \   0000AD   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0000B0   7A10         MOV     R2,#0x10
   \   0000B2   7B00         MOV     R3,#0x0
   \   0000B4   90....       MOV     DPTR,#zclSampleHeatingCoolingUnit_TaskID
   \   0000B7   E0           MOVX    A,@DPTR
   \   0000B8   F9           MOV     R1,A
   \   0000B9   12....       LCALL   `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   0000BC   7404         MOV     A,#0x4
   \   0000BE   12....       LCALL   ?DEALLOC_XSTACK8
   1255            }
   1256          
   1257          }
   \                     ??zclSampleHeatingCoolingUnit_EZModeCB_1:
   \   0000C1   7F03         MOV     R7,#0x3
   \   0000C3   02....       LJMP    ?BANKED_LEAVE_XDATA
   1258          
   1259          #endif // ZCL_EZMODE
   1260          
   1261          /*******************************************************************************
   1262          ********************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1263          void zclSampleHeatingCoolingUnit_BindingProcess(void)
   \                     zclSampleHeatingCoolingUnit_BindingProcess:
   1264          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 9
   \   000004   74F7         MOV     A,#-0x9
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
   1265            if ( ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_MAINMODE ) ||
   1266                 ( giHeatingCoolingUnitScreenMode == HEATCOOLUNIT_HELPMODE ) )
   \   000009   90....       MOV     DPTR,#giHeatingCoolingUnitScreenMode
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   6004         JZ      ??zclSampleHeatingCoolingUnit_BindingProcess_0
   \   00000F   6401         XRL     A,#0x1
   \   000011   7061         JNZ     ??zclSampleHeatingCoolingUnit_BindingProcess_1
   1267            {
   1268              giHeatingCoolingUnitScreenMode = HEATCOOLUNIT_MAINMODE;
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_0:
   \   000013   E4           CLR     A
   \   000014   F0           MOVX    @DPTR,A
   1269          
   1270          		FLAG_BINDING = !FLAG_BINDING;
   \   000015   90....       MOV     DPTR,#FLAG_BINDING
   \   000018   E0           MOVX    A,@DPTR
   \   000019   7004         JNZ     ??zclSampleHeatingCoolingUnit_BindingProcess_2
   \   00001B   7401         MOV     A,#0x1
   \   00001D   8001         SJMP    ??zclSampleHeatingCoolingUnit_BindingProcess_3
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_2:
   \   00001F   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_3:
   \   000020   12....       LCALL   ?Subroutine2 & 0xFFFF
   1271          
   1272          	#ifdef ZCL_EZMODE
   1273              // Invoke EZ-Mode
   1274              zclEZMode_InvokeData_t ezModeData;
   1275          
   1276              // Invoke EZ-Mode
   1277              ezModeData.endpoint = SAMPLEHEATINGCOOLINGUNIT_ENDPOINT; // endpoint on which to invoke EZ-Mode
   1278              if ( ( zclSampleHeatingCoolingUnit_NwkState == DEV_ZB_COORD ) ||
   1279                   ( zclSampleHeatingCoolingUnit_NwkState == DEV_ROUTER )   ||
   1280                   ( zclSampleHeatingCoolingUnit_NwkState == DEV_END_DEVICE ) )
   \                     ??CrossCallReturnLabel_1:
   \   000023   600A         JZ      ??zclSampleHeatingCoolingUnit_BindingProcess_4
   \   000025   E0           MOVX    A,@DPTR
   \   000026   6407         XRL     A,#0x7
   \   000028   6005         JZ      ??zclSampleHeatingCoolingUnit_BindingProcess_4
   \   00002A   E0           MOVX    A,@DPTR
   \   00002B   6406         XRL     A,#0x6
   \   00002D   7009         JNZ     ??zclSampleHeatingCoolingUnit_BindingProcess_5
   1281              {
   1282                ezModeData.onNetwork = TRUE;      // node is already on the network
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_4:
   \   00002F   7401         MOV     A,#0x1
   \   000031   12....       LCALL   ?XSTACK_DISP0_8
   \   000034   7401         MOV     A,#0x1
   \   000036   8006         SJMP    ??zclSampleHeatingCoolingUnit_BindingProcess_6
   1283              }
   1284              else
   1285              {
   1286                ezModeData.onNetwork = FALSE;     // node is not yet on the network
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_5:
   \   000038   7401         MOV     A,#0x1
   \   00003A   12....       LCALL   ?XSTACK_DISP0_8
   \   00003D   E4           CLR     A
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_6:
   \   00003E   F0           MOVX    @DPTR,A
   1287              }
   1288              ezModeData.initiator = FALSE;        // Heating/Cooling Unit is a target
   \   00003F   7402         MOV     A,#0x2
   \   000041   12....       LCALL   ?XSTACK_DISP0_8
   \   000044   E4           CLR     A
   \   000045   F0           MOVX    @DPTR,A
   1289              ezModeData.numActiveInClusters = 0;
   \   000046   7403         MOV     A,#0x3
   \   000048   12....       LCALL   ?XSTACK_DISP0_8
   \   00004B   E4           CLR     A
   \   00004C   F0           MOVX    @DPTR,A
   1290          		ezModeData.pActiveInClusterIDs = NULL;
   \   00004D   7404         MOV     A,#0x4
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   E4           CLR     A
   \   000053   F0           MOVX    @DPTR,A
   \   000054   A3           INC     DPTR
   \   000055   F0           MOVX    @DPTR,A
   1291              ezModeData.numActiveOutClusters = 0;   // active output cluster
   \   000056   7406         MOV     A,#0x6
   \   000058   12....       LCALL   ?XSTACK_DISP0_8
   \   00005B   E4           CLR     A
   \   00005C   F0           MOVX    @DPTR,A
   1292              ezModeData.pActiveOutClusterIDs = NULL;
   \   00005D   7407         MOV     A,#0x7
   \   00005F   12....       LCALL   ?XSTACK_DISP0_8
   \   000062   E4           CLR     A
   \   000063   F0           MOVX    @DPTR,A
   \   000064   A3           INC     DPTR
   \   000065   12....       LCALL   ??Subroutine11_0 & 0xFFFF
   1293              zcl_InvokeEZMode( &ezModeData );
   \                     ??CrossCallReturnLabel_13:
   \   000068   12....       LCALL   `??zcl_InvokeEZMode::?relay`; Banked call to: zcl_InvokeEZMode
   1294          
   1295          		#ifdef LCD_SUPPORTED
   1296              HalLcdWriteString( "EZMode", HAL_LCD_LINE_2 );
   \   00006B                ; Setup parameters for call to function HalLcdWriteString
   \   00006B   7902         MOV     R1,#0x2
   \   00006D   7A..         MOV     R2,#`?<Constant "EZMode">` & 0xff
   \   00006F   7B..         MOV     R3,#(`?<Constant "EZMode">` >> 8) & 0xff
   \   000071   12....       LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
   1297          		#endif
   1298          
   1299              // NOT ZCL_EZMODE, use EndDeviceBind
   1300          	#else
   1301              {
   1302                zAddrType_t dstAddr;
   1303                HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
   1304          
   1305                // Initiate an End Device Bind Request, this bind request will
   1306                // only use a cluster list that is important to binding.
   1307                dstAddr.addrMode = afAddr16Bit;
   1308                dstAddr.addr.shortAddr = 0;   // Coordinator makes the match
   1309                ZDP_EndDeviceBindReq( &dstAddr, NLME_GetShortAddr(),
   1310                                     SAMPLEHEATINGCOOLINGUNIT_ENDPOINT,
   1311                                     ZCL_HA_PROFILE_ID,
   1312                                     ZCLSAMPLEHEATINGCOOLINGUNIT_BINDINGLIST, bindingInClusters,
   1313                                     0, NULL,   // No Outgoing clusters to bind
   1314                                     TRUE );
   1315              }
   1316          	#endif // ZCL_EZMODE
   1317            }
   1318          	
   1319          }
   \                     ??zclSampleHeatingCoolingUnit_BindingProcess_1:
   \   000074   7409         MOV     A,#0x9
   \   000076   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   85..82       MOV     DPL,?V2
   \   000003   85..83       MOV     DPH,?V3
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F8           MOV     R0,A
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   F9           MOV     R1,A
   \   00000B   8882         MOV     DPL,R0
   \   00000D   8983         MOV     DPH,R1
   \   00000F   7800         MOV     R0,#0x0
   \   000011   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleHeatingCoolingUnit_`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for aProcessCmd>`:
   \   000000   01           DB 1
   \   000001   00           DB 0
   \   000002   00           DB 0
   \   000003   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for sampleLight_TestEp>`:
   \   000000   14           DB 20
   \   000001   ....         DW zclSampleHeatingCoolingUnit_TaskID
   \   000003   0000         DW 0H
   \   000005   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleHeatingCoolingUnit__1`:
   \   000000   ....         DW `??zclSampleHeatingCoolingUnit_BasicResetCB::?re`
   \   000002   ....         DW `??zclSampleHeatingCoolingUnit_IdentifyCB::?rela`
   \   000004   0000         DW 0H
   \   000006   0000         DW 0H
   \   000008   0000         DW 0H
   \   00000A   ....         DW ??zclSampleHeatingCoolingUnit_IdentifyQueryRspC
   \   00000C   ....         DW `??zclSampleHeatingCoolingUnit_OnOffCB::?relay`
   \   00000E   0000         DW 0H
   \   000010   0000         DW 0H
   \   000012   0000         DW 0H
   \   000014   0000         DW 0H
   \   000016   0000         DW 0H

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_event_loop::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_event_loop

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_HandleKeys::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_LcdDisplayUpdate:`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_LcdDisplayUpdate

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayMainMod:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_LcdDisplayMainMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleHeatingCoolingUnit_LcdDisplayHelpMod:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_LcdDisplayHelpMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleHeatingCoolingUnit_ProcessIdentifyTi:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_BasicResetCB::?re`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_BasicResetCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_IdentifyCB::?rela`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_IdentifyCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleHeatingCoolingUnit_IdentifyQueryRspC:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_IdentifyQueryRspCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_OnOffCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_OnOffCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleHeatingCoolingUnit_ProcessInReportCm:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_ProcessInReportCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_EZModeCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_EZModeCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleHeatingCoolingUnit_BindingProcess::?`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleHeatingCoolingUnit_BindingProcess

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] ZDO_CB_MSG">`:
   \   000000   5B455645     DB "[EVENT] ZDO_CB_MSG"
   \            4E545D20
   \            5A444F5F
   \            43425F4D
   \            534700  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] ZCL_INCOMING_MSG">`:
   \   000000   5B455645     DB "[EVENT] ZCL_INCOMING_MSG"
   \            4E545D20
   \            5A434C5F
   \            494E434F
   \            4D494E47
   \            5F4D5347
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] KEY_CHANGE">`:
   \   000000   5B455645     DB "[EVENT] KEY_CHANGE"
   \            4E545D20
   \            4B45595F
   \            4348414E
   \            474500  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] ZDO_STATE_CHANGE">`:
   \   000000   5B455645     DB "[EVENT] ZDO_STATE_CHANGE"
   \            4E545D20
   \            5A444F5F
   \            53544154
   \            455F4348
   \            414E4745
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLEHEATING...">`:
   \   000000   5B455645     DB 5BH, 45H, 56H, 45H, 4EH, 54H, 5DH, 20H
   \            4E545D20
   \   000008   53414D50     DB 53H, 41H, 4DH, 50H, 4CH, 45H, 48H, 45H
   \            4C454845
   \   000010   4154494E     DB 41H, 54H, 49H, 4EH, 47H, 43H, 4FH, 4FH
   \            47434F4F
   \   000018   4C494E47     DB 4CH, 49H, 4EH, 47H, 55H, 4EH, 49H, 54H
   \            554E4954
   \   000020   5F494445     DB 5FH, 49H, 44H, 45H, 4EH, 54H, 49H, 46H
   \            4E544946
   \   000028   595F5449     DB 59H, 5FH, 54H, 49H, 4DH, 45H, 4FH, 55H
   \            4D454F55
   \   000030   545F4556     DB 54H, 5FH, 45H, 56H, 54H, 0
   \            5400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLEHEATING...">_1`:
   \   000000   5B455645     DB "[EVENT] SAMPLEHEATINGCOOLINGUNIT_MAIN_SCREEN_EVT"
   \            4E545D20
   \            53414D50
   \            4C454845
   \            4154494E
   \            47434F4F
   \            4C494E47
   \            554E4954
   \            5F4D4149
   \            4E5F5343
   \            5245454E
   \            5F455654
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLEHEATING...">_2`:
   \   000000   5B455645     DB 5BH, 45H, 56H, 45H, 4EH, 54H, 5DH, 20H
   \            4E545D20
   \   000008   53414D50     DB 53H, 41H, 4DH, 50H, 4CH, 45H, 48H, 45H
   \            4C454845
   \   000010   4154494E     DB 41H, 54H, 49H, 4EH, 47H, 43H, 4FH, 4FH
   \            47434F4F
   \   000018   4C494E47     DB 4CH, 49H, 4EH, 47H, 55H, 4EH, 49H, 54H
   \            554E4954
   \   000020   5F455A4D     DB 5FH, 45H, 5AH, 4DH, 4FH, 44H, 45H, 5FH
   \            4F44455F
   \   000028   4E455854     DB 4EH, 45H, 58H, 54H, 53H, 54H, 41H, 54H
   \            53544154
   \   000030   455F4556     DB 45H, 5FH, 45H, 56H, 54H, 0
   \            5400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "[EVENT] SAMPLEHEATING...">_3`:
   \   000000   5B455645     DB 5BH, 45H, 56H, 45H, 4EH, 54H, 5DH, 20H
   \            4E545D20
   \   000008   53414D50     DB 53H, 41H, 4DH, 50H, 4CH, 45H, 48H, 45H
   \            4C454845
   \   000010   4154494E     DB 41H, 54H, 49H, 4EH, 47H, 43H, 4FH, 4FH
   \            47434F4F
   \   000018   4C494E47     DB 4CH, 49H, 4EH, 47H, 55H, 4EH, 49H, 54H
   \            554E4954
   \   000020   5F455A4D     DB 5FH, 45H, 5AH, 4DH, 4FH, 44H, 45H, 5FH
   \            4F44455F
   \   000028   54494D45     DB 54H, 49H, 4DH, 45H, 4FH, 55H, 54H, 5FH
   \            4F55545F
   \   000030   45565400     DB 45H, 56H, 54H, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SAMPLEHEATINGCOOLINGU...">`:
   \   000000   53414D50     DB "SAMPLEHEATINGCOOLINGUNIT_JOIN_SETUP_EVT"
   \            4C454845
   \            4154494E
   \            47434F4F
   \            4C494E47
   \            554E4954
   \            5F4A4F49
   \            4E5F5345
   \            5455505F
   \            45565400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW6">`:
   \   000000   53573600     DB "SW6"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "usedEntries: ">`:
   \   000000   75736564     DB "usedEntries: "
   \            456E7472
   \            6965733A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "">`:
   \   000000   00           DB ""

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 0: ">`:
   \   000000   456E7472     DB "Entry 0: "
   \            7920303A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant " | ">`:
   \   000000   207C2000     DB " | "

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 1: ">`:
   \   000000   456E7472     DB "Entry 1: "
   \            7920313A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 2: ">`:
   \   000000   456E7472     DB "Entry 2: "
   \            7920323A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Entry 3: ">`:
   \   000000   456E7472     DB "Entry 3: "
   \            7920333A
   \            2000    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW8">`:
   \   000000   53573800     DB "SW8"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode">`:
   \   000000   455A4D6F     DB "EZMode"
   \            646500  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW5: Help      *">`:
   \   000000   5357353A     DB "SW5: Help      *"
   \            2048656C
   \            70202020
   \            2020202A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "SW5: Help       ">`:
   \   000000   5357353A     DB "SW5: Help       "
   \            2048656C
   \            70202020
   \            20202020
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "@ZBR:">`:
   \   000000   405A4252     DB "@ZBR:"
   \            3A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant ";">`:
   \   000000   3B00         DB ";"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "!">`:
   \   000000   2100         DB "!"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: Success">`:
   \   000000   455A4D6F     DB "EZMode: Success"
   \            64653A20
   \            53756363
   \            65737300

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: NoMatch">`:
   \   000000   455A4D6F     DB "EZMode: NoMatch"
   \            64653A20
   \            4E6F4D61
   \            74636800

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: Cancel">`:
   \   000000   455A4D6F     DB "EZMode: Cancel"
   \            64653A20
   \            43616E63
   \            656C00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: BadParm">`:
   \   000000   455A4D6F     DB "EZMode: BadParm"
   \            64653A20
   \            42616450
   \            61726D00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EZMode: TimeOut">`:
   \   000000   455A4D6F     DB "EZMode: TimeOut"
   \            64653A20
   \            54696D65
   \            4F757400

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_a:
   \   000000   0A000000     DD 10

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2710:
   \   000000   10270000     DD 10000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1388:
   \   000000   88130000     DD 5000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e8:
   \   000000   E8030000     DD 1000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_bb8:
   \   000000   B80B0000     DD 3000
   1320          

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      2     29   zclSampleHeatingCoolingUnit_BasicResetCB
        2      0   -> MT_SysCommandProcessing
        2      0   -> zgWriteStartupOptions
      2     25   zclSampleHeatingCoolingUnit_BindingProcess
        2      9   -> HalLcdWriteString
        2      9   -> zcl_InvokeEZMode
      0     15   zclSampleHeatingCoolingUnit_EZModeCB
        0     11   -> HalLcdWriteString
        0     15   -> osal_start_timerEx
        0     11   -> zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
      0     45   zclSampleHeatingCoolingUnit_HandleKeys
        0     29   -> GetBindingTableEntry
        0     29   -> HalLcdWriteString
        0     29   -> NLME_GetShortAddr
        0     29   -> UART_DebugPrint
        0     29   -> UART_ZCmdPrint
        0     29   -> UART_ZCmdPrintNum
        0     29   -> UART_ZCmdPrintString
        0     29   -> ZDP_MgmtPermitJoinReq
        0     29   -> bindCapacity
        0     29   -> zclSampleHeatingCoolingUnit_BasicResetCB
        0     29   -> zclSampleHeatingCoolingUnit_LcdDisplayUpdate
        0     29   -> zcl_InvokeEZMode
      2      0   zclSampleHeatingCoolingUnit_IdentifyCB
        2      0   -> zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
      2      2   zclSampleHeatingCoolingUnit_IdentifyQueryRspCB
        2      2   -> zcl_EZModeAction
      0     14   zclSampleHeatingCoolingUnit_Init
        0     10   -> HalLcdWriteString
        0     10   -> NLME_GetCoordShortAddr
        0     10   -> NLME_GetShortAddr
        0     10   -> RegisterForKeys
        0     10   -> UART_Init
        0     10   -> ZDO_RegisterForZDOMsg
        0     10   -> afRegister
        0     10   -> osal_set_event
        0     14   -> osal_start_timerEx
        0     10   -> zclGeneral_RegisterCmdCallbacks
        0     10   -> zclHA_Init
        0     10   -> zcl_RegisterEZMode
        0     10   -> zcl_registerAttrList
        0     10   -> zcl_registerForMsg
      2      0   zclSampleHeatingCoolingUnit_LcdDisplayHelpMode
        2      0   -> HalLcdWriteString
      2     16   zclSampleHeatingCoolingUnit_LcdDisplayMainMode
        2      0   -> HalLcdWriteString
        2      0   -> zclHA_LcdStatusLine1
      2     40   zclSampleHeatingCoolingUnit_LcdDisplayUpdate
        2      0   -> zclSampleHeatingCoolingUnit_LcdDisplayHelpMode
        2      0   -> zclSampleHeatingCoolingUnit_LcdDisplayMainMode
      0      9   zclSampleHeatingCoolingUnit_OnOffCB
        0      9   -> HalLedSet
        0      9   -> zclSampleHeatingCoolingUnit_LcdDisplayUpdate
      2     20   zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
        2      0   -> HalLedBlink
        2      0   -> HalLedSet
        2      4   -> osal_start_timerEx
        2      0   -> osal_stop_timerEx
      1     61   zclSampleHeatingCoolingUnit_ProcessInReportCmd
        0     40   -> HalLedBlink
        0     40   -> UART_ZCmdPrint
        0     40   -> UART_ZCmdPrintBuffer
        0     40   -> UART_ZCmdPrintNum
        0     40   -> UART_ZCmdPrintString
        0     40   -> osal_mem_alloc
        0     40   -> osal_mem_free
        0     40   -> zclSampleHeatingCoolingUnit_LcdDisplayUpdate
        0     45   -> zcl_SendReportCmd
      0     20   zclSampleHeatingCoolingUnit_event_loop
        0     16   -> UART_DebugPrint
        0     16   -> UART_ParseRxPackage
        0     16   -> ZCMD_ReplyCMD
        0     16   -> ZDO_ParseEPListRsp
        0     16   -> osal_mem_free
        0     16   -> osal_msg_deallocate
        0     16   -> osal_msg_receive
        0     16   -> osal_set_event
        0     20   -> osal_start_timerEx
        0     16   -> zclSampleHeatingCoolingUnit_BindingProcess
        0     16   -> zclSampleHeatingCoolingUnit_HandleKeys
        0     16   -> zclSampleHeatingCoolingUnit_LcdDisplayMainMode
        0     16   -> zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
        0     16   -> zclSampleHeatingCoolingUnit_ProcessInReportCmd
        0     16   -> zcl_EZModeAction


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       4  ?<Constant " | ">
       2  ?<Constant "!">
       1  ?<Constant "">
       2  ?<Constant ";">
       6  ?<Constant "@ZBR:">
       7  ?<Constant "EZMode">
      16  ?<Constant "EZMode: BadParm">
      15  ?<Constant "EZMode: Cancel">
      16  ?<Constant "EZMode: NoMatch">
      16  ?<Constant "EZMode: Success">
      16  ?<Constant "EZMode: TimeOut">
      10  ?<Constant "Entry 0: ">
      10  ?<Constant "Entry 1: ">
      10  ?<Constant "Entry 2: ">
      10  ?<Constant "Entry 3: ">
      40  ?<Constant "SAMPLEHEATINGCOOLINGU...">
      17  ?<Constant "SW5: Help       ">
      17  ?<Constant "SW5: Help      *">
       4  ?<Constant "SW6">
       4  ?<Constant "SW8">
      19  ?<Constant "[EVENT] KEY_CHANGE">
      54  ?<Constant "[EVENT] SAMPLEHEATING...">
      49  ?<Constant "[EVENT] SAMPLEHEATING...">_1
      54  ?<Constant "[EVENT] SAMPLEHEATING...">_2
      52  ?<Constant "[EVENT] SAMPLEHEATING...">_3
      25  ?<Constant "[EVENT] ZCL_INCOMING_MSG">
      19  ?<Constant "[EVENT] ZDO_CB_MSG">
      25  ?<Constant "[EVENT] ZDO_STATE_CHANGE">
      14  ?<Constant "usedEntries: ">
       4  ?<Initializer for aProcessCmd>
       6  ?<Initializer for sampleLight_TestEp>
       1  ?<Initializer for zclSampleHeatingCoolingUnit_
      24  ?<Initializer for zclSampleHeatingCoolingUnit__1
       6  ??Subroutine10_0
       6  ??Subroutine11_0
       7  ??Subroutine12_0
       5  ??Subroutine13_0
       8  ??Subroutine14_0
       3  ?Subroutine0
       5  ?Subroutine1
      17  ?Subroutine2
      10  ?Subroutine3
       9  ?Subroutine4
       6  ?Subroutine5
       6  ?Subroutine6
      18  ?Subroutine7
       3  ?Subroutine8
       9  ?Subroutine9
       4  __Constant_1388
       4  __Constant_2710
       4  __Constant_3e8
       4  __Constant_a
       4  __Constant_bb8
       4  aProcessCmd
       1  gPermitDuration
       1  giHeatingCoolingUnitScreenMode
       2  sClearLine
      15  sCoolMode
      16  sDeviceName
      15  sHeatMode
      14  sOffMode
      13  sSwEZMode
      10  sSwHelp
       6  sampleLight_TestEp
       1  zclSampleHeatingCoolingUnitSeqNum
      20  zclSampleHeatingCoolingUnit_BasicResetCB
       6  zclSampleHeatingCoolingUnit_BasicResetCB::?relay
     121  zclSampleHeatingCoolingUnit_BindingProcess
       6  zclSampleHeatingCoolingUnit_BindingProcess::?relay
      24  zclSampleHeatingCoolingUnit_CmdCallbacks
      12  zclSampleHeatingCoolingUnit_DstAddr
     198  zclSampleHeatingCoolingUnit_EZModeCB
       6  zclSampleHeatingCoolingUnit_EZModeCB::?relay
     610  zclSampleHeatingCoolingUnit_HandleKeys
       6  zclSampleHeatingCoolingUnit_HandleKeys::?relay
      26  zclSampleHeatingCoolingUnit_IdentifyCB
       6  zclSampleHeatingCoolingUnit_IdentifyCB::?relay
      19  zclSampleHeatingCoolingUnit_IdentifyQueryRspCB
       6  zclSampleHeatingCoolingUnit_IdentifyQueryRspCB::?relay
     194  zclSampleHeatingCoolingUnit_Init
       6  zclSampleHeatingCoolingUnit_Init::?relay
      30  zclSampleHeatingCoolingUnit_LcdDisplayHelpMode
       6  zclSampleHeatingCoolingUnit_LcdDisplayHelpMode::?relay
     174  zclSampleHeatingCoolingUnit_LcdDisplayMainMode
       6  zclSampleHeatingCoolingUnit_LcdDisplayMainMode::?relay
      23  zclSampleHeatingCoolingUnit_LcdDisplayUpdate
       6  zclSampleHeatingCoolingUnit_LcdDisplayUpdate::?relay
       1  zclSampleHeatingCoolingUnit_NwkState
      36  zclSampleHeatingCoolingUnit_OnOffCB
       6  zclSampleHeatingCoolingUnit_OnOffCB::?relay
      80  zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange
       6  zclSampleHeatingCoolingUnit_ProcessIdentifyTimeChange::?relay
     605  zclSampleHeatingCoolingUnit_ProcessInReportCmd
       6  zclSampleHeatingCoolingUnit_ProcessInReportCmd::?relay
      10  zclSampleHeatingCoolingUnit_RegisterEZModeData
       1  zclSampleHeatingCoolingUnit_TaskID
     646  zclSampleHeatingCoolingUnit_event_loop
       6  zclSampleHeatingCoolingUnit_event_loop::?relay

 
 2 900 bytes in segment BANKED_CODE
    84 bytes in segment BANK_RELAYS
    35 bytes in segment XDATA_I
    35 bytes in segment XDATA_ID
   649 bytes in segment XDATA_ROM_C
    16 bytes in segment XDATA_Z
 
 3 019 bytes of CODE  memory
   629 bytes of CONST memory (+ 20 bytes shared)
    51 bytes of XDATA memory

Errors: none
Warnings: none
